[2025-08-15 08:05:04.858 -05:00 INF] Starting AuthService {}
[2025-08-15 08:05:05.932 -05:00 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. {"EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
[2025-08-15 08:05:06.354 -05:00 INF] Now listening on: https://localhost:7001 {}
[2025-08-15 08:05:06.356 -05:00 INF] Now listening on: http://localhost:5001 {}
[2025-08-15 08:06:01.020 -05:00 WRN] üîç LOGIN DEBUG: Starting login for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQR:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNERVHHSBRQR"}
[2025-08-15 08:06:01.310 -05:00 WRN] üîç LOGIN DEBUG: User found: true, IsActive: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQR:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNERVHHSBRQR"}
[2025-08-15 08:06:01.317 -05:00 WRN] üîç LOGIN DEBUG: Attempting password verification for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQR:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNERVHHSBRQR"}
[2025-08-15 08:06:01.322 -05:00 WRN] üîç LOGIN DEBUG: Password length: 11, Hash starts with: $2a$12$FoF {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQR:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNERVHHSBRQR"}
[2025-08-15 08:06:02.249 -05:00 WRN] üîç LOGIN DEBUG: Password verification result: true {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQR:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNERVHHSBRQR"}
[2025-08-15 08:06:02.253 -05:00 WRN] üîç LOGIN DEBUG: Checking tenant relationship. PrimaryTenant: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQR:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNERVHHSBRQR"}
[2025-08-15 08:06:02.313 -05:00 INF] üîç JWT: Found 1 active roles for user 6 in tenant 1 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQR:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNERVHHSBRQR"}
[2025-08-15 08:06:02.316 -05:00 INF] üîç JWT: Added role claim 'Admin' for user 6 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQR:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNERVHHSBRQR"}
[2025-08-15 08:06:02.323 -05:00 INF] üîç PERMISSION DEBUG: Getting permissions for user 6 in tenant 1 {"SourceContext":"Common.Services.PermissionService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQR:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNERVHHSBRQR"}
[2025-08-15 08:06:02.336 -05:00 INF] üîç PERMISSION DEBUG: Found 1 active user roles for user 6 in tenant 1: 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQR:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNERVHHSBRQR"}
[2025-08-15 08:06:02.413 -05:00 INF] üîç PERMISSION DEBUG: Found 27 role permissions for roles 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQR:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNERVHHSBRQR"}
[2025-08-15 08:06:02.430 -05:00 INF] üîç PERMISSION DEBUG: Final permissions for user 6 in tenant 1: [permissions.create, permissions.delete, permissions.edit, permissions.manage, permissions.view, reports.create, reports.export, reports.schedule, reports.view, roles.assign_users, roles.create, roles.delete, roles.edit, roles.manage_permissions, roles.view, tenants.create, tenants.delete, tenants.edit, tenants.manage_settings, tenants.view, tenants.view_all, users.create, users.delete, users.edit, users.manage_roles, users.view, users.view_all] {"SourceContext":"Common.Services.PermissionService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQR:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNERVHHSBRQR"}
[2025-08-15 08:06:02.433 -05:00 INF] üîç JWT: Added 27 permissions to JWT for user 6 in tenant 1 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQR:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNERVHHSBRQR"}
[2025-08-15 08:06:02.459 -05:00 INF] üîç JWT: Generated token for user 6 with 1 roles and 27 permissions {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQR:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNERVHHSBRQR"}
[2025-08-15 08:06:02.651 -05:00 INF] User mccrearyforward@gmail.com logged in successfully {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQR:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNERVHHSBRQR"}
[2025-08-15 08:06:02.672 -05:00 INF] HTTP POST /api/Auth/login responded 200 in 1803.0099 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-15 08:09:26.581 -05:00 WRN] üîç LOGIN DEBUG: Starting login for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQS:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQS"}
[2025-08-15 08:09:26.599 -05:00 WRN] üîç LOGIN DEBUG: User found: true, IsActive: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQS:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQS"}
[2025-08-15 08:09:26.602 -05:00 WRN] üîç LOGIN DEBUG: Attempting password verification for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQS:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQS"}
[2025-08-15 08:09:26.604 -05:00 WRN] üîç LOGIN DEBUG: Password length: 11, Hash starts with: $2a$12$FoF {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQS:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQS"}
[2025-08-15 08:09:27.083 -05:00 WRN] üîç LOGIN DEBUG: Password verification result: true {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQS:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQS"}
[2025-08-15 08:09:27.087 -05:00 WRN] üîç LOGIN DEBUG: Checking tenant relationship. PrimaryTenant: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQS:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQS"}
[2025-08-15 08:09:27.099 -05:00 INF] üîç JWT: Found 1 active roles for user 6 in tenant 1 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQS:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQS"}
[2025-08-15 08:09:27.103 -05:00 INF] üîç JWT: Added role claim 'Admin' for user 6 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQS:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQS"}
[2025-08-15 08:09:27.106 -05:00 INF] üîç PERMISSION DEBUG: Getting permissions for user 6 in tenant 1 {"SourceContext":"Common.Services.PermissionService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQS:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQS"}
[2025-08-15 08:09:27.110 -05:00 INF] üîç PERMISSION DEBUG: Found 1 active user roles for user 6 in tenant 1: 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQS:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQS"}
[2025-08-15 08:09:27.116 -05:00 INF] üîç PERMISSION DEBUG: Found 27 role permissions for roles 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQS:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQS"}
[2025-08-15 08:09:27.120 -05:00 INF] üîç PERMISSION DEBUG: Final permissions for user 6 in tenant 1: [permissions.create, permissions.delete, permissions.edit, permissions.manage, permissions.view, reports.create, reports.export, reports.schedule, reports.view, roles.assign_users, roles.create, roles.delete, roles.edit, roles.manage_permissions, roles.view, tenants.create, tenants.delete, tenants.edit, tenants.manage_settings, tenants.view, tenants.view_all, users.create, users.delete, users.edit, users.manage_roles, users.view, users.view_all] {"SourceContext":"Common.Services.PermissionService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQS:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQS"}
[2025-08-15 08:09:27.122 -05:00 INF] üîç JWT: Added 27 permissions to JWT for user 6 in tenant 1 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQS:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQS"}
[2025-08-15 08:09:27.125 -05:00 INF] üîç JWT: Generated token for user 6 with 1 roles and 27 permissions {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQS:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQS"}
[2025-08-15 08:09:27.137 -05:00 INF] User mccrearyforward@gmail.com logged in successfully {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQS:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQS"}
[2025-08-15 08:09:27.142 -05:00 INF] HTTP POST /api/auth/login responded 200 in 619.2418 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-15 08:37:24.309 -05:00 INF] HTTP POST /api/auth/logout responded 415 in 43.0666 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-15 08:37:37.607 -05:00 WRN] üîç LOGIN DEBUG: Starting login for test-c@abc.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQU:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQU"}
[2025-08-15 08:37:37.626 -05:00 WRN] üîç LOGIN DEBUG: User found: true, IsActive: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQU:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQU"}
[2025-08-15 08:37:37.628 -05:00 WRN] üîç LOGIN DEBUG: Attempting password verification for test-c@abc.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQU:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQU"}
[2025-08-15 08:37:37.629 -05:00 WRN] üîç LOGIN DEBUG: Password length: 11, Hash starts with: Proverbs!0 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQU:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQU"}
[2025-08-15 08:37:37.631 -05:00 WRN] Error verifying password {"SourceContext":"AuthService.Services.PasswordService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQU:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQU"}
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at AuthService.Services.PasswordService.VerifyPassword(String password, String hash) in C:\Users\mccre\dev\boiler\src\services\AuthService\Services\PasswordService.cs:line 49
[2025-08-15 08:37:37.645 -05:00 WRN] üîç LOGIN DEBUG: Password verification result: false {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQU:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQU"}
[2025-08-15 08:37:37.653 -05:00 INF] HTTP POST /api/auth/login responded 400 in 48.6170 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-15 08:37:57.463 -05:00 WRN] üîç LOGIN DEBUG: Starting login for test-b@abc.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQV:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQV"}
[2025-08-15 08:37:57.471 -05:00 WRN] üîç LOGIN DEBUG: User found: true, IsActive: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQV:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQV"}
[2025-08-15 08:37:57.474 -05:00 WRN] üîç LOGIN DEBUG: Attempting password verification for test-b@abc.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQV:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQV"}
[2025-08-15 08:37:57.478 -05:00 WRN] üîç LOGIN DEBUG: Password length: 11, Hash starts with: Proverbs!0 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQV:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQV"}
[2025-08-15 08:37:57.480 -05:00 WRN] Error verifying password {"SourceContext":"AuthService.Services.PasswordService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQV:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQV"}
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at AuthService.Services.PasswordService.VerifyPassword(String password, String hash) in C:\Users\mccre\dev\boiler\src\services\AuthService\Services\PasswordService.cs:line 49
[2025-08-15 08:37:57.482 -05:00 WRN] üîç LOGIN DEBUG: Password verification result: false {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRQV:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRQV"}
[2025-08-15 08:37:57.490 -05:00 INF] HTTP POST /api/auth/login responded 400 in 27.1521 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-15 08:39:25.958 -05:00 WRN] üîç LOGIN DEBUG: Starting login for test-b@abc.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRR0:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNERVHHSBRR0"}
[2025-08-15 08:39:25.970 -05:00 WRN] üîç LOGIN DEBUG: User found: true, IsActive: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRR0:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNERVHHSBRR0"}
[2025-08-15 08:39:25.973 -05:00 WRN] üîç LOGIN DEBUG: Attempting password verification for test-b@abc.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRR0:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNERVHHSBRR0"}
[2025-08-15 08:39:25.974 -05:00 WRN] üîç LOGIN DEBUG: Password length: 11, Hash starts with: Proverbs!0 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRR0:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNERVHHSBRR0"}
[2025-08-15 08:39:25.976 -05:00 WRN] Error verifying password {"SourceContext":"AuthService.Services.PasswordService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRR0:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNERVHHSBRR0"}
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at AuthService.Services.PasswordService.VerifyPassword(String password, String hash) in C:\Users\mccre\dev\boiler\src\services\AuthService\Services\PasswordService.cs:line 49
[2025-08-15 08:39:25.978 -05:00 WRN] üîç LOGIN DEBUG: Password verification result: false {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRR0:00000001","RequestPath":"/api/Auth/login","ConnectionId":"0HNERVHHSBRR0"}
[2025-08-15 08:39:25.983 -05:00 INF] HTTP POST /api/Auth/login responded 400 in 26.6031 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-15 08:41:48.344 -05:00 WRN] üîç LOGIN DEBUG: Starting login for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRR1:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRR1"}
[2025-08-15 08:41:48.350 -05:00 WRN] üîç LOGIN DEBUG: User found: true, IsActive: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRR1:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRR1"}
[2025-08-15 08:41:48.353 -05:00 WRN] üîç LOGIN DEBUG: Attempting password verification for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRR1:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRR1"}
[2025-08-15 08:41:48.355 -05:00 WRN] üîç LOGIN DEBUG: Password length: 11, Hash starts with: $2a$12$FoF {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRR1:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRR1"}
[2025-08-15 08:41:48.635 -05:00 WRN] üîç LOGIN DEBUG: Password verification result: true {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRR1:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRR1"}
[2025-08-15 08:41:48.639 -05:00 WRN] üîç LOGIN DEBUG: Checking tenant relationship. PrimaryTenant: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRR1:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRR1"}
[2025-08-15 08:41:48.645 -05:00 INF] üîç JWT: Found 1 active roles for user 6 in tenant 1 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRR1:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRR1"}
[2025-08-15 08:41:48.648 -05:00 INF] üîç JWT: Added role claim 'Admin' for user 6 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRR1:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRR1"}
[2025-08-15 08:41:48.650 -05:00 INF] üîç PERMISSION DEBUG: Getting permissions for user 6 in tenant 1 {"SourceContext":"Common.Services.PermissionService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRR1:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRR1"}
[2025-08-15 08:41:48.655 -05:00 INF] üîç PERMISSION DEBUG: Found 1 active user roles for user 6 in tenant 1: 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRR1:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRR1"}
[2025-08-15 08:41:48.662 -05:00 INF] üîç PERMISSION DEBUG: Found 27 role permissions for roles 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRR1:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRR1"}
[2025-08-15 08:41:48.667 -05:00 INF] üîç PERMISSION DEBUG: Final permissions for user 6 in tenant 1: [permissions.create, permissions.delete, permissions.edit, permissions.manage, permissions.view, reports.create, reports.export, reports.schedule, reports.view, roles.assign_users, roles.create, roles.delete, roles.edit, roles.manage_permissions, roles.view, tenants.create, tenants.delete, tenants.edit, tenants.manage_settings, tenants.view, tenants.view_all, users.create, users.delete, users.edit, users.manage_roles, users.view, users.view_all] {"SourceContext":"Common.Services.PermissionService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRR1:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRR1"}
[2025-08-15 08:41:48.670 -05:00 INF] üîç JWT: Added 27 permissions to JWT for user 6 in tenant 1 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRR1:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRR1"}
[2025-08-15 08:41:48.674 -05:00 INF] üîç JWT: Generated token for user 6 with 1 roles and 27 permissions {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRR1:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRR1"}
[2025-08-15 08:41:48.685 -05:00 INF] User mccrearyforward@gmail.com logged in successfully {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"8602c36f-f696-4376-8d97-b4d2fd046ccb","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNERVHHSBRR1:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNERVHHSBRR1"}
[2025-08-15 08:41:48.688 -05:00 INF] HTTP POST /api/auth/login responded 200 in 344.8603 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-15 16:24:04.010 -05:00 INF] Starting AuthService {}
[2025-08-15 16:24:04.673 -05:00 WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development. {"EventId":{"Id":10400,"Name":"Microsoft.EntityFrameworkCore.Infrastructure.SensitiveDataLoggingEnabledWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
[2025-08-15 16:24:04.981 -05:00 INF] Now listening on: https://localhost:7001 {}
[2025-08-15 16:24:04.983 -05:00 INF] Now listening on: http://localhost:5001 {}
[2025-08-15 16:25:05.199 -05:00 WRN] üîç LOGIN DEBUG: Starting login for test-c@abc.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ79:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ79"}
[2025-08-15 16:25:05.465 -05:00 WRN] üîç LOGIN DEBUG: User found: true, IsActive: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ79:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ79"}
[2025-08-15 16:25:05.471 -05:00 WRN] üîç LOGIN DEBUG: Attempting password verification for test-c@abc.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ79:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ79"}
[2025-08-15 16:25:05.476 -05:00 WRN] üîç LOGIN DEBUG: Password length: 11, Hash starts with: Proverbs!0 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ79:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ79"}
[2025-08-15 16:25:05.559 -05:00 WRN] Error verifying password {"SourceContext":"Common.Services.PasswordService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ79:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ79"}
BCrypt.Net.SaltParseException: Invalid salt version
   at BCrypt.Net.BCrypt.HashPassword(String inputKey, String salt, Boolean enhancedEntropy, HashType hashType)
   at BCrypt.Net.BCrypt.Verify(String text, String hash, Boolean enhancedEntropy, HashType hashType)
   at Common.Services.PasswordService.VerifyPassword(String password, String hash) in C:\Users\mccre\dev\boiler\src\shared\Common\Services\PasswordService.cs:line 39
[2025-08-15 16:25:05.581 -05:00 WRN] üîç LOGIN DEBUG: Password verification result: false {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ79:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ79"}
[2025-08-15 16:25:05.669 -05:00 INF] HTTP POST /api/auth/login responded 400 in 627.8653 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-15 16:25:18.495 -05:00 WRN] üîç LOGIN DEBUG: Starting login for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7A:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7A"}
[2025-08-15 16:25:18.522 -05:00 WRN] üîç LOGIN DEBUG: User found: true, IsActive: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7A:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7A"}
[2025-08-15 16:25:18.527 -05:00 WRN] üîç LOGIN DEBUG: Attempting password verification for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7A:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7A"}
[2025-08-15 16:25:18.530 -05:00 WRN] üîç LOGIN DEBUG: Password length: 11, Hash starts with: $2a$12$FoF {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7A:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7A"}
[2025-08-15 16:25:19.161 -05:00 WRN] üîç LOGIN DEBUG: Password verification result: true {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7A:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7A"}
[2025-08-15 16:25:19.165 -05:00 WRN] üîç LOGIN DEBUG: Checking tenant relationship. PrimaryTenant: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7A:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7A"}
[2025-08-15 16:25:19.216 -05:00 INF] üîç JWT: Found 1 active roles for user 6 in tenant 1 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7A:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7A"}
[2025-08-15 16:25:19.219 -05:00 INF] üîç JWT: Added role claim 'Admin' for user 6 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7A:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7A"}
[2025-08-15 16:25:19.226 -05:00 INF] üîç PERMISSION DEBUG: Getting permissions for user 6 in tenant 1 {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7A:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7A"}
[2025-08-15 16:25:19.242 -05:00 INF] üîç PERMISSION DEBUG: Found 1 active user roles for user 6 in tenant 1: 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7A:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7A"}
[2025-08-15 16:25:19.321 -05:00 INF] üîç PERMISSION DEBUG: Found 27 role permissions for roles 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7A:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7A"}
[2025-08-15 16:25:19.335 -05:00 INF] üîç PERMISSION DEBUG: Final permissions for user 6 in tenant 1: [permissions.create, permissions.delete, permissions.edit, permissions.manage, permissions.view, reports.create, reports.export, reports.schedule, reports.view, roles.assign_users, roles.create, roles.delete, roles.edit, roles.manage_permissions, roles.view, tenants.create, tenants.delete, tenants.edit, tenants.manage_settings, tenants.view, tenants.view_all, users.create, users.delete, users.edit, users.manage_roles, users.view, users.view_all] {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7A:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7A"}
[2025-08-15 16:25:19.337 -05:00 INF] üîç JWT: Added 27 permissions to JWT for user 6 in tenant 1 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7A:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7A"}
[2025-08-15 16:25:19.359 -05:00 INF] üîç JWT: Generated token for user 6 with 1 roles and 27 permissions {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7A:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7A"}
[2025-08-15 16:25:19.456 -05:00 INF] User mccrearyforward@gmail.com logged in successfully {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7A:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7A"}
[2025-08-15 16:25:19.465 -05:00 INF] HTTP POST /api/auth/login responded 200 in 1012.0212 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-15 16:26:05.633 -05:00 INF] HTTP POST /api/auth/logout responded 415 in 50.7171 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-15 16:26:16.136 -05:00 WRN] üîç LOGIN DEBUG: Starting login for test-d@abc.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7C:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7C"}
[2025-08-15 16:26:16.143 -05:00 WRN] üîç LOGIN DEBUG: User found: true, IsActive: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7C:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7C"}
[2025-08-15 16:26:16.145 -05:00 WRN] üîç LOGIN DEBUG: Attempting password verification for test-d@abc.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7C:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7C"}
[2025-08-15 16:26:16.149 -05:00 WRN] üîç LOGIN DEBUG: Password length: 11, Hash starts with: $2a$12$/m5 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7C:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7C"}
[2025-08-15 16:26:16.590 -05:00 WRN] üîç LOGIN DEBUG: Password verification result: true {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7C:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7C"}
[2025-08-15 16:26:16.594 -05:00 WRN] üîç LOGIN DEBUG: Checking tenant relationship. PrimaryTenant: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7C:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7C"}
[2025-08-15 16:26:16.602 -05:00 INF] üîç JWT: Found 0 active roles for user 12 in tenant 1 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7C:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7C"}
[2025-08-15 16:26:16.607 -05:00 INF] üîç PERMISSION DEBUG: Getting permissions for user 12 in tenant 1 {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7C:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7C"}
[2025-08-15 16:26:16.615 -05:00 INF] üîç PERMISSION DEBUG: Found 0 active user roles for user 12 in tenant 1:  {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7C:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7C"}
[2025-08-15 16:26:16.620 -05:00 WRN] üîç PERMISSION DEBUG: No active user roles found for user 12 in tenant 1 {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7C:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7C"}
[2025-08-15 16:26:16.624 -05:00 INF] üîç JWT: Added 0 permissions to JWT for user 12 in tenant 1 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7C:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7C"}
[2025-08-15 16:26:16.629 -05:00 INF] üîç JWT: Generated token for user 12 with 0 roles and 0 permissions {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7C:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7C"}
[2025-08-15 16:26:16.642 -05:00 INF] User test-d@abc.com logged in successfully {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7C:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7C"}
[2025-08-15 16:26:16.646 -05:00 INF] HTTP POST /api/auth/login responded 200 in 511.3842 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-15 16:26:35.879 -05:00 INF] HTTP POST /api/auth/logout responded 415 in 3.6837 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-15 16:26:45.725 -05:00 WRN] üîç LOGIN DEBUG: Starting login for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7E"}
[2025-08-15 16:26:45.731 -05:00 WRN] üîç LOGIN DEBUG: User found: true, IsActive: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7E"}
[2025-08-15 16:26:45.733 -05:00 WRN] üîç LOGIN DEBUG: Attempting password verification for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7E"}
[2025-08-15 16:26:45.735 -05:00 WRN] üîç LOGIN DEBUG: Password length: 11, Hash starts with: $2a$12$FoF {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7E"}
[2025-08-15 16:26:46.194 -05:00 WRN] üîç LOGIN DEBUG: Password verification result: true {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7E"}
[2025-08-15 16:26:46.197 -05:00 WRN] üîç LOGIN DEBUG: Checking tenant relationship. PrimaryTenant: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7E"}
[2025-08-15 16:26:46.205 -05:00 INF] üîç JWT: Found 1 active roles for user 6 in tenant 1 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7E"}
[2025-08-15 16:26:46.209 -05:00 INF] üîç JWT: Added role claim 'Admin' for user 6 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7E"}
[2025-08-15 16:26:46.211 -05:00 INF] üîç PERMISSION DEBUG: Getting permissions for user 6 in tenant 1 {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7E"}
[2025-08-15 16:26:46.215 -05:00 INF] üîç PERMISSION DEBUG: Found 1 active user roles for user 6 in tenant 1: 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7E"}
[2025-08-15 16:26:46.220 -05:00 INF] üîç PERMISSION DEBUG: Found 27 role permissions for roles 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7E"}
[2025-08-15 16:26:46.225 -05:00 INF] üîç PERMISSION DEBUG: Final permissions for user 6 in tenant 1: [permissions.create, permissions.delete, permissions.edit, permissions.manage, permissions.view, reports.create, reports.export, reports.schedule, reports.view, roles.assign_users, roles.create, roles.delete, roles.edit, roles.manage_permissions, roles.view, tenants.create, tenants.delete, tenants.edit, tenants.manage_settings, tenants.view, tenants.view_all, users.create, users.delete, users.edit, users.manage_roles, users.view, users.view_all] {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7E"}
[2025-08-15 16:26:46.228 -05:00 INF] üîç JWT: Added 27 permissions to JWT for user 6 in tenant 1 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7E"}
[2025-08-15 16:26:46.231 -05:00 INF] üîç JWT: Generated token for user 6 with 1 roles and 27 permissions {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7E"}
[2025-08-15 16:26:46.243 -05:00 INF] User mccrearyforward@gmail.com logged in successfully {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7E:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7E"}
[2025-08-15 16:26:46.246 -05:00 INF] HTTP POST /api/auth/login responded 200 in 521.9925 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-15 16:37:34.797 -05:00 WRN] üîç LOGIN DEBUG: Starting login for test-d@abc.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7F:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7F"}
[2025-08-15 16:37:34.821 -05:00 WRN] üîç LOGIN DEBUG: User found: true, IsActive: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7F:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7F"}
[2025-08-15 16:37:34.823 -05:00 WRN] üîç LOGIN DEBUG: Attempting password verification for test-d@abc.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7F:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7F"}
[2025-08-15 16:37:34.824 -05:00 WRN] üîç LOGIN DEBUG: Password length: 11, Hash starts with: $2a$12$/m5 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7F:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7F"}
[2025-08-15 16:37:35.155 -05:00 WRN] üîç LOGIN DEBUG: Password verification result: true {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7F:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7F"}
[2025-08-15 16:37:35.158 -05:00 WRN] üîç LOGIN DEBUG: Checking tenant relationship. PrimaryTenant: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7F:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7F"}
[2025-08-15 16:37:35.164 -05:00 INF] üîç JWT: Found 1 active roles for user 12 in tenant 1 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7F:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7F"}
[2025-08-15 16:37:35.167 -05:00 INF] üîç JWT: Added role claim 'User' for user 12 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7F:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7F"}
[2025-08-15 16:37:35.169 -05:00 INF] üîç PERMISSION DEBUG: Getting permissions for user 12 in tenant 1 {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7F:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7F"}
[2025-08-15 16:37:35.173 -05:00 INF] üîç PERMISSION DEBUG: Found 1 active user roles for user 12 in tenant 1: 8 {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7F:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7F"}
[2025-08-15 16:37:35.177 -05:00 INF] üîç PERMISSION DEBUG: Found 2 role permissions for roles 8 {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7F:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7F"}
[2025-08-15 16:37:35.181 -05:00 INF] üîç PERMISSION DEBUG: Final permissions for user 12 in tenant 1: [users.edit, users.view] {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7F:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7F"}
[2025-08-15 16:37:35.184 -05:00 INF] üîç JWT: Added 2 permissions to JWT for user 12 in tenant 1 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7F:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7F"}
[2025-08-15 16:37:35.187 -05:00 INF] üîç JWT: Generated token for user 12 with 1 roles and 2 permissions {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7F:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7F"}
[2025-08-15 16:37:35.197 -05:00 INF] User test-d@abc.com logged in successfully {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7F:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7F"}
[2025-08-15 16:37:35.200 -05:00 INF] HTTP POST /api/auth/login responded 200 in 403.9636 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-15 16:38:41.843 -05:00 INF] HTTP POST /api/auth/logout responded 415 in 3.9221 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-15 16:38:52.486 -05:00 WRN] üîç LOGIN DEBUG: Starting login for test-d@abc.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7H:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7H"}
[2025-08-15 16:38:52.494 -05:00 WRN] üîç LOGIN DEBUG: User found: true, IsActive: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7H:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7H"}
[2025-08-15 16:38:52.497 -05:00 WRN] üîç LOGIN DEBUG: Attempting password verification for test-d@abc.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7H:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7H"}
[2025-08-15 16:38:52.499 -05:00 WRN] üîç LOGIN DEBUG: Password length: 11, Hash starts with: $2a$12$/m5 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7H:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7H"}
[2025-08-15 16:38:52.823 -05:00 WRN] üîç LOGIN DEBUG: Password verification result: true {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7H:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7H"}
[2025-08-15 16:38:52.825 -05:00 WRN] üîç LOGIN DEBUG: Checking tenant relationship. PrimaryTenant: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7H:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7H"}
[2025-08-15 16:38:52.830 -05:00 INF] üîç JWT: Found 0 active roles for user 12 in tenant 1 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7H:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7H"}
[2025-08-15 16:38:52.833 -05:00 INF] üîç PERMISSION DEBUG: Getting permissions for user 12 in tenant 1 {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7H:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7H"}
[2025-08-15 16:38:52.835 -05:00 INF] üîç PERMISSION DEBUG: Found 0 active user roles for user 12 in tenant 1:  {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7H:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7H"}
[2025-08-15 16:38:52.838 -05:00 WRN] üîç PERMISSION DEBUG: No active user roles found for user 12 in tenant 1 {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7H:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7H"}
[2025-08-15 16:38:52.839 -05:00 INF] üîç JWT: Added 0 permissions to JWT for user 12 in tenant 1 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7H:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7H"}
[2025-08-15 16:38:52.842 -05:00 INF] üîç JWT: Generated token for user 12 with 0 roles and 0 permissions {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7H:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7H"}
[2025-08-15 16:38:52.848 -05:00 INF] User test-d@abc.com logged in successfully {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7H:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7H"}
[2025-08-15 16:38:52.854 -05:00 INF] HTTP POST /api/auth/login responded 200 in 369.0655 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-15 19:58:53.478 -05:00 INF] üîç JWT: Found 1 active roles for user 6 in tenant 1 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"15419ac2-ff5c-44b2-99fb-aea15b51ff7c","ActionName":"AuthService.Controllers.AuthController.RefreshToken (AuthService)","RequestId":"0HNES88PQTJ7J:00000001","RequestPath":"/api/auth/refresh","ConnectionId":"0HNES88PQTJ7J"}
[2025-08-15 19:58:53.478 -05:00 INF] üîç JWT: Found 1 active roles for user 6 in tenant 1 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"15419ac2-ff5c-44b2-99fb-aea15b51ff7c","ActionName":"AuthService.Controllers.AuthController.RefreshToken (AuthService)","RequestId":"0HNES88PQTJ7I:00000001","RequestPath":"/api/auth/refresh","ConnectionId":"0HNES88PQTJ7I"}
[2025-08-15 19:58:53.481 -05:00 INF] üîç JWT: Added role claim 'Admin' for user 6 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"15419ac2-ff5c-44b2-99fb-aea15b51ff7c","ActionName":"AuthService.Controllers.AuthController.RefreshToken (AuthService)","RequestId":"0HNES88PQTJ7J:00000001","RequestPath":"/api/auth/refresh","ConnectionId":"0HNES88PQTJ7J"}
[2025-08-15 19:58:53.484 -05:00 INF] üîç JWT: Added role claim 'Admin' for user 6 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"15419ac2-ff5c-44b2-99fb-aea15b51ff7c","ActionName":"AuthService.Controllers.AuthController.RefreshToken (AuthService)","RequestId":"0HNES88PQTJ7I:00000001","RequestPath":"/api/auth/refresh","ConnectionId":"0HNES88PQTJ7I"}
[2025-08-15 19:58:53.487 -05:00 INF] üîç PERMISSION DEBUG: Getting permissions for user 6 in tenant 1 {"SourceContext":"Common.Services.PermissionService","ActionId":"15419ac2-ff5c-44b2-99fb-aea15b51ff7c","ActionName":"AuthService.Controllers.AuthController.RefreshToken (AuthService)","RequestId":"0HNES88PQTJ7J:00000001","RequestPath":"/api/auth/refresh","ConnectionId":"0HNES88PQTJ7J"}
[2025-08-15 19:58:53.489 -05:00 INF] üîç PERMISSION DEBUG: Getting permissions for user 6 in tenant 1 {"SourceContext":"Common.Services.PermissionService","ActionId":"15419ac2-ff5c-44b2-99fb-aea15b51ff7c","ActionName":"AuthService.Controllers.AuthController.RefreshToken (AuthService)","RequestId":"0HNES88PQTJ7I:00000001","RequestPath":"/api/auth/refresh","ConnectionId":"0HNES88PQTJ7I"}
[2025-08-15 19:58:53.494 -05:00 INF] üîç PERMISSION DEBUG: Found 1 active user roles for user 6 in tenant 1: 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"15419ac2-ff5c-44b2-99fb-aea15b51ff7c","ActionName":"AuthService.Controllers.AuthController.RefreshToken (AuthService)","RequestId":"0HNES88PQTJ7J:00000001","RequestPath":"/api/auth/refresh","ConnectionId":"0HNES88PQTJ7J"}
[2025-08-15 19:58:53.496 -05:00 INF] üîç PERMISSION DEBUG: Found 1 active user roles for user 6 in tenant 1: 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"15419ac2-ff5c-44b2-99fb-aea15b51ff7c","ActionName":"AuthService.Controllers.AuthController.RefreshToken (AuthService)","RequestId":"0HNES88PQTJ7I:00000001","RequestPath":"/api/auth/refresh","ConnectionId":"0HNES88PQTJ7I"}
[2025-08-15 19:58:53.501 -05:00 INF] üîç PERMISSION DEBUG: Found 27 role permissions for roles 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"15419ac2-ff5c-44b2-99fb-aea15b51ff7c","ActionName":"AuthService.Controllers.AuthController.RefreshToken (AuthService)","RequestId":"0HNES88PQTJ7J:00000001","RequestPath":"/api/auth/refresh","ConnectionId":"0HNES88PQTJ7J"}
[2025-08-15 19:58:53.503 -05:00 INF] üîç PERMISSION DEBUG: Found 27 role permissions for roles 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"15419ac2-ff5c-44b2-99fb-aea15b51ff7c","ActionName":"AuthService.Controllers.AuthController.RefreshToken (AuthService)","RequestId":"0HNES88PQTJ7I:00000001","RequestPath":"/api/auth/refresh","ConnectionId":"0HNES88PQTJ7I"}
[2025-08-15 19:58:53.506 -05:00 INF] üîç PERMISSION DEBUG: Final permissions for user 6 in tenant 1: [permissions.create, permissions.delete, permissions.edit, permissions.manage, permissions.view, reports.create, reports.export, reports.schedule, reports.view, roles.assign_users, roles.create, roles.delete, roles.edit, roles.manage_permissions, roles.view, tenants.create, tenants.delete, tenants.edit, tenants.manage_settings, tenants.view, tenants.view_all, users.create, users.delete, users.edit, users.manage_roles, users.view, users.view_all] {"SourceContext":"Common.Services.PermissionService","ActionId":"15419ac2-ff5c-44b2-99fb-aea15b51ff7c","ActionName":"AuthService.Controllers.AuthController.RefreshToken (AuthService)","RequestId":"0HNES88PQTJ7J:00000001","RequestPath":"/api/auth/refresh","ConnectionId":"0HNES88PQTJ7J"}
[2025-08-15 19:58:53.508 -05:00 INF] üîç PERMISSION DEBUG: Final permissions for user 6 in tenant 1: [permissions.create, permissions.delete, permissions.edit, permissions.manage, permissions.view, reports.create, reports.export, reports.schedule, reports.view, roles.assign_users, roles.create, roles.delete, roles.edit, roles.manage_permissions, roles.view, tenants.create, tenants.delete, tenants.edit, tenants.manage_settings, tenants.view, tenants.view_all, users.create, users.delete, users.edit, users.manage_roles, users.view, users.view_all] {"SourceContext":"Common.Services.PermissionService","ActionId":"15419ac2-ff5c-44b2-99fb-aea15b51ff7c","ActionName":"AuthService.Controllers.AuthController.RefreshToken (AuthService)","RequestId":"0HNES88PQTJ7I:00000001","RequestPath":"/api/auth/refresh","ConnectionId":"0HNES88PQTJ7I"}
[2025-08-15 19:58:53.509 -05:00 INF] üîç JWT: Added 27 permissions to JWT for user 6 in tenant 1 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"15419ac2-ff5c-44b2-99fb-aea15b51ff7c","ActionName":"AuthService.Controllers.AuthController.RefreshToken (AuthService)","RequestId":"0HNES88PQTJ7J:00000001","RequestPath":"/api/auth/refresh","ConnectionId":"0HNES88PQTJ7J"}
[2025-08-15 19:58:53.511 -05:00 INF] üîç JWT: Added 27 permissions to JWT for user 6 in tenant 1 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"15419ac2-ff5c-44b2-99fb-aea15b51ff7c","ActionName":"AuthService.Controllers.AuthController.RefreshToken (AuthService)","RequestId":"0HNES88PQTJ7I:00000001","RequestPath":"/api/auth/refresh","ConnectionId":"0HNES88PQTJ7I"}
[2025-08-15 19:58:53.515 -05:00 INF] üîç JWT: Generated token for user 6 with 1 roles and 27 permissions {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"15419ac2-ff5c-44b2-99fb-aea15b51ff7c","ActionName":"AuthService.Controllers.AuthController.RefreshToken (AuthService)","RequestId":"0HNES88PQTJ7J:00000001","RequestPath":"/api/auth/refresh","ConnectionId":"0HNES88PQTJ7J"}
[2025-08-15 19:58:53.518 -05:00 INF] üîç JWT: Generated token for user 6 with 1 roles and 27 permissions {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"15419ac2-ff5c-44b2-99fb-aea15b51ff7c","ActionName":"AuthService.Controllers.AuthController.RefreshToken (AuthService)","RequestId":"0HNES88PQTJ7I:00000001","RequestPath":"/api/auth/refresh","ConnectionId":"0HNES88PQTJ7I"}
[2025-08-15 19:58:53.544 -05:00 INF] Token refreshed for user 6 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"15419ac2-ff5c-44b2-99fb-aea15b51ff7c","ActionName":"AuthService.Controllers.AuthController.RefreshToken (AuthService)","RequestId":"0HNES88PQTJ7J:00000001","RequestPath":"/api/auth/refresh","ConnectionId":"0HNES88PQTJ7J"}
[2025-08-15 19:58:53.546 -05:00 INF] Token refreshed for user 6 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"15419ac2-ff5c-44b2-99fb-aea15b51ff7c","ActionName":"AuthService.Controllers.AuthController.RefreshToken (AuthService)","RequestId":"0HNES88PQTJ7I:00000001","RequestPath":"/api/auth/refresh","ConnectionId":"0HNES88PQTJ7I"}
[2025-08-15 19:58:53.547 -05:00 INF] HTTP POST /api/auth/refresh responded 200 in 168.6285 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-15 19:58:53.550 -05:00 INF] HTTP POST /api/auth/refresh responded 200 in 171.9480 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-15 19:59:06.930 -05:00 WRN] üîç LOGIN DEBUG: Starting login for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7K:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7K"}
[2025-08-15 19:59:06.939 -05:00 WRN] üîç LOGIN DEBUG: User found: true, IsActive: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7K:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7K"}
[2025-08-15 19:59:06.941 -05:00 WRN] üîç LOGIN DEBUG: Attempting password verification for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7K:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7K"}
[2025-08-15 19:59:06.944 -05:00 WRN] üîç LOGIN DEBUG: Password length: 11, Hash starts with: $2a$12$FoF {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7K:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7K"}
[2025-08-15 19:59:07.402 -05:00 WRN] üîç LOGIN DEBUG: Password verification result: true {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7K:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7K"}
[2025-08-15 19:59:07.405 -05:00 WRN] üîç LOGIN DEBUG: Checking tenant relationship. PrimaryTenant: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7K:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7K"}
[2025-08-15 19:59:07.410 -05:00 INF] üîç JWT: Found 1 active roles for user 6 in tenant 1 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7K:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7K"}
[2025-08-15 19:59:07.411 -05:00 INF] üîç JWT: Added role claim 'Admin' for user 6 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7K:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7K"}
[2025-08-15 19:59:07.413 -05:00 INF] üîç PERMISSION DEBUG: Getting permissions for user 6 in tenant 1 {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7K:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7K"}
[2025-08-15 19:59:07.417 -05:00 INF] üîç PERMISSION DEBUG: Found 1 active user roles for user 6 in tenant 1: 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7K:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7K"}
[2025-08-15 19:59:07.422 -05:00 INF] üîç PERMISSION DEBUG: Found 27 role permissions for roles 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7K:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7K"}
[2025-08-15 19:59:07.425 -05:00 INF] üîç PERMISSION DEBUG: Final permissions for user 6 in tenant 1: [permissions.create, permissions.delete, permissions.edit, permissions.manage, permissions.view, reports.create, reports.export, reports.schedule, reports.view, roles.assign_users, roles.create, roles.delete, roles.edit, roles.manage_permissions, roles.view, tenants.create, tenants.delete, tenants.edit, tenants.manage_settings, tenants.view, tenants.view_all, users.create, users.delete, users.edit, users.manage_roles, users.view, users.view_all] {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7K:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7K"}
[2025-08-15 19:59:07.429 -05:00 INF] üîç JWT: Added 27 permissions to JWT for user 6 in tenant 1 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7K:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7K"}
[2025-08-15 19:59:07.431 -05:00 INF] üîç JWT: Generated token for user 6 with 1 roles and 27 permissions {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7K:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7K"}
[2025-08-15 19:59:07.453 -05:00 INF] User mccrearyforward@gmail.com logged in successfully {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7K:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7K"}
[2025-08-15 19:59:07.456 -05:00 INF] HTTP POST /api/auth/login responded 200 in 526.7097 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-15 20:18:10.273 -05:00 INF] HTTP POST /api/auth/logout responded 415 in 2.5844 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-15 20:18:30.613 -05:00 WRN] üîç LOGIN DEBUG: Starting login for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7M:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7M"}
[2025-08-15 20:18:30.642 -05:00 WRN] üîç LOGIN DEBUG: User found: true, IsActive: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7M:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7M"}
[2025-08-15 20:18:30.645 -05:00 WRN] üîç LOGIN DEBUG: Attempting password verification for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7M:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7M"}
[2025-08-15 20:18:30.647 -05:00 WRN] üîç LOGIN DEBUG: Password length: 11, Hash starts with: $2a$12$FoF {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7M:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7M"}
[2025-08-15 20:18:31.233 -05:00 WRN] üîç LOGIN DEBUG: Password verification result: true {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7M:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7M"}
[2025-08-15 20:18:31.237 -05:00 WRN] üîç LOGIN DEBUG: Checking tenant relationship. PrimaryTenant: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7M:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7M"}
[2025-08-15 20:18:31.243 -05:00 INF] üîç JWT: Found 1 active roles for user 6 in tenant 1 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7M:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7M"}
[2025-08-15 20:18:31.251 -05:00 INF] üîç JWT: Added role claim 'Admin' for user 6 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7M:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7M"}
[2025-08-15 20:18:31.254 -05:00 INF] üîç PERMISSION DEBUG: Getting permissions for user 6 in tenant 1 {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7M:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7M"}
[2025-08-15 20:18:31.260 -05:00 INF] üîç PERMISSION DEBUG: Found 1 active user roles for user 6 in tenant 1: 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7M:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7M"}
[2025-08-15 20:18:31.267 -05:00 INF] üîç PERMISSION DEBUG: Found 27 role permissions for roles 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7M:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7M"}
[2025-08-15 20:18:31.273 -05:00 INF] üîç PERMISSION DEBUG: Final permissions for user 6 in tenant 1: [permissions.create, permissions.delete, permissions.edit, permissions.manage, permissions.view, reports.create, reports.export, reports.schedule, reports.view, roles.assign_users, roles.create, roles.delete, roles.edit, roles.manage_permissions, roles.view, tenants.create, tenants.delete, tenants.edit, tenants.manage_settings, tenants.view, tenants.view_all, users.create, users.delete, users.edit, users.manage_roles, users.view, users.view_all] {"SourceContext":"Common.Services.PermissionService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7M:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7M"}
[2025-08-15 20:18:31.275 -05:00 INF] üîç JWT: Added 27 permissions to JWT for user 6 in tenant 1 {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7M:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7M"}
[2025-08-15 20:18:31.278 -05:00 INF] üîç JWT: Generated token for user 6 with 1 roles and 27 permissions {"SourceContext":"AuthService.Services.EnhancedTokenService","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7M:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7M"}
[2025-08-15 20:18:31.304 -05:00 INF] User mccrearyforward@gmail.com logged in successfully {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"274e17f2-29f3-4760-8f09-cdbfdb5ed491","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNES88PQTJ7M:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNES88PQTJ7M"}
[2025-08-15 20:18:31.308 -05:00 INF] HTTP POST /api/auth/login responded 200 in 695.3658 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
