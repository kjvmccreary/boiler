[2025-08-11 08:42:27.880 -05:00 WRN] üîç LOGIN DEBUG: Starting login for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOBPP8O7SM"}
[2025-08-11 08:42:27.934 -05:00 WRN] üîç LOGIN DEBUG: User found: true, IsActive: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOBPP8O7SM"}
[2025-08-11 08:42:27.938 -05:00 WRN] üîç LOGIN DEBUG: Attempting password verification for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOBPP8O7SM"}
[2025-08-11 08:42:27.942 -05:00 WRN] üîç LOGIN DEBUG: Password length: 11, Hash starts with: $2a$12$FoF {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOBPP8O7SM"}
[2025-08-11 08:42:28.371 -05:00 WRN] üîç LOGIN DEBUG: Password verification result: true {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOBPP8O7SM"}
[2025-08-11 08:42:28.375 -05:00 WRN] üîç LOGIN DEBUG: Checking tenant relationship. PrimaryTenant: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOBPP8O7SM"}
[2025-08-11 08:42:28.378 -05:00 INF] üîç TOKEN DEBUG: Starting token generation for user 6 in tenant 1 {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOBPP8O7SM"}
[2025-08-11 08:42:28.380 -05:00 INF] üîç TOKEN DEBUG: Added role User for user 6 {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOBPP8O7SM"}
[2025-08-11 08:42:28.382 -05:00 INF] üîç TOKEN DEBUG: Attempting to resolve IPermissionService for user 6 {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOBPP8O7SM"}
[2025-08-11 08:42:28.384 -05:00 INF] üîç TOKEN DEBUG: IPermissionService resolved successfully, getting permissions for user 6 in tenant 1 {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOBPP8O7SM"}
[2025-08-11 08:42:28.387 -05:00 INF] üîç PERMISSION DEBUG: Getting permissions for user 6 in tenant 1 {"SourceContext":"Common.Services.PermissionService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOBPP8O7SM"}
[2025-08-11 08:42:28.401 -05:00 INF] üîç PERMISSION DEBUG: Found 1 active user roles for user 6 in tenant 1: 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOBPP8O7SM"}
[2025-08-11 08:42:28.407 -05:00 INF] üîç PERMISSION DEBUG: Found 22 role permissions for roles 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOBPP8O7SM"}
[2025-08-11 08:42:28.414 -05:00 INF] üîç PERMISSION DEBUG: Final permissions for user 6 in tenant 1: [reports.create, reports.export, reports.schedule, reports.view, roles.assign_users, roles.create, roles.delete, roles.edit, roles.manage_permissions, roles.view, tenants.create, tenants.delete, tenants.edit, tenants.manage_settings, tenants.view, tenants.view_all, users.create, users.delete, users.edit, users.manage_roles, users.view, users.view_all] {"SourceContext":"Common.Services.PermissionService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOBPP8O7SM"}
[2025-08-11 08:42:28.417 -05:00 INF] üîç TOKEN DEBUG: Retrieved 22 permissions for user 6: reports.create, reports.export, reports.schedule, reports.view, roles.assign_users, roles.create, roles.delete, roles.edit, roles.manage_permissions, roles.view {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOBPP8O7SM"}
[2025-08-11 08:42:28.420 -05:00 INF] üîç TOKEN DEBUG: Successfully added 22 permission claims to JWT for user 6 {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOBPP8O7SM"}
[2025-08-11 08:42:28.423 -05:00 INF] üîç TOKEN DEBUG: Added test permission claim {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOBPP8O7SM"}
[2025-08-11 08:42:28.425 -05:00 INF] üîç TOKEN DEBUG: Total claims count before token generation: 35 {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOBPP8O7SM"}
[2025-08-11 08:42:28.428 -05:00 INF] üîç TOKEN DEBUG: Token generation completed for user 6 {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOBPP8O7SM"}
[2025-08-11 08:42:28.443 -05:00 INF] User mccrearyforward@gmail.com logged in successfully {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOBPP8O7SM"}
[2025-08-11 08:42:28.448 -05:00 INF] HTTP POST /api/auth/login responded 200 in 569.3544 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-11 08:43:14.855 -05:00 WRN] üîç LOGIN DEBUG: Starting login for admin@localhost {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SN:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SN"}
[2025-08-11 08:43:14.865 -05:00 WRN] üîç LOGIN DEBUG: User found: true, IsActive: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SN:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SN"}
[2025-08-11 08:43:14.868 -05:00 WRN] üîç LOGIN DEBUG: Attempting password verification for admin@localhost {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SN:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SN"}
[2025-08-11 08:43:14.872 -05:00 WRN] üîç LOGIN DEBUG: Password length: 8, Hash starts with: $2a$12$29x {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SN:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SN"}
[2025-08-11 08:43:15.330 -05:00 WRN] üîç LOGIN DEBUG: Password verification result: true {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SN:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SN"}
[2025-08-11 08:43:15.335 -05:00 WRN] üîç LOGIN DEBUG: Checking tenant relationship. PrimaryTenant: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SN:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SN"}
[2025-08-11 08:43:15.340 -05:00 INF] üîç TOKEN DEBUG: Starting token generation for user 2 in tenant 1 {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SN:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SN"}
[2025-08-11 08:43:15.343 -05:00 INF] üîç TOKEN DEBUG: Added role SuperAdmin for user 2 {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SN:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SN"}
[2025-08-11 08:43:15.347 -05:00 INF] üîç TOKEN DEBUG: Attempting to resolve IPermissionService for user 2 {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SN:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SN"}
[2025-08-11 08:43:15.350 -05:00 INF] üîç TOKEN DEBUG: IPermissionService resolved successfully, getting permissions for user 2 in tenant 1 {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SN:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SN"}
[2025-08-11 08:43:15.352 -05:00 INF] üîç PERMISSION DEBUG: Getting permissions for user 2 in tenant 1 {"SourceContext":"Common.Services.PermissionService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SN:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SN"}
[2025-08-11 08:43:15.357 -05:00 INF] üîç PERMISSION DEBUG: Found 2 active user roles for user 2 in tenant 1: 7,10 {"SourceContext":"Common.Services.PermissionService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SN:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SN"}
[2025-08-11 08:43:15.364 -05:00 INF] üîç PERMISSION DEBUG: Found 27 role permissions for roles 7,10 {"SourceContext":"Common.Services.PermissionService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SN:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SN"}
[2025-08-11 08:43:15.370 -05:00 INF] üîç PERMISSION DEBUG: Final permissions for user 2 in tenant 1: [reports.create, reports.export, reports.schedule, reports.view, roles.assign_users, roles.create, roles.delete, roles.edit, roles.manage_permissions, roles.view, tenants.create, tenants.delete, tenants.edit, tenants.manage_settings, tenants.view, tenants.view_all, users.create, users.delete, users.edit, users.manage_roles, users.view, users.view_all] {"SourceContext":"Common.Services.PermissionService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SN:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SN"}
[2025-08-11 08:43:15.372 -05:00 INF] üîç TOKEN DEBUG: Retrieved 22 permissions for user 2: reports.create, reports.export, reports.schedule, reports.view, roles.assign_users, roles.create, roles.delete, roles.edit, roles.manage_permissions, roles.view {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SN:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SN"}
[2025-08-11 08:43:15.375 -05:00 INF] üîç TOKEN DEBUG: Successfully added 22 permission claims to JWT for user 2 {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SN:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SN"}
[2025-08-11 08:43:15.379 -05:00 INF] üîç TOKEN DEBUG: Added test permission claim {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SN:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SN"}
[2025-08-11 08:43:15.381 -05:00 INF] üîç TOKEN DEBUG: Total claims count before token generation: 35 {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SN:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SN"}
[2025-08-11 08:43:15.384 -05:00 INF] üîç TOKEN DEBUG: Token generation completed for user 2 {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SN:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SN"}
[2025-08-11 08:43:15.392 -05:00 INF] User admin@localhost logged in successfully {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SN:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SN"}
[2025-08-11 08:43:15.396 -05:00 INF] HTTP POST /api/Auth/login responded 200 in 543.5305 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-11 09:13:35.504 -05:00 WRN] üîç LOGIN DEBUG: Starting login for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SO:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SO"}
[2025-08-11 09:13:35.531 -05:00 WRN] üîç LOGIN DEBUG: User found: true, IsActive: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SO:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SO"}
[2025-08-11 09:13:35.536 -05:00 WRN] üîç LOGIN DEBUG: Attempting password verification for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SO:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SO"}
[2025-08-11 09:13:35.539 -05:00 WRN] üîç LOGIN DEBUG: Password length: 11, Hash starts with: $2a$12$FoF {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SO:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SO"}
[2025-08-11 09:13:35.916 -05:00 WRN] üîç LOGIN DEBUG: Password verification result: true {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SO:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SO"}
[2025-08-11 09:13:35.921 -05:00 WRN] üîç LOGIN DEBUG: Checking tenant relationship. PrimaryTenant: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SO:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SO"}
[2025-08-11 09:13:35.924 -05:00 INF] üîç TOKEN DEBUG: Starting token generation for user 6 in tenant 1 {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SO:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SO"}
[2025-08-11 09:13:35.928 -05:00 INF] üîç TOKEN DEBUG: Added role User for user 6 {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SO:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SO"}
[2025-08-11 09:13:35.933 -05:00 INF] üîç TOKEN DEBUG: Attempting to resolve IPermissionService for user 6 {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SO:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SO"}
[2025-08-11 09:13:35.936 -05:00 INF] üîç TOKEN DEBUG: IPermissionService resolved successfully, getting permissions for user 6 in tenant 1 {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SO:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SO"}
[2025-08-11 09:13:35.940 -05:00 INF] üîç PERMISSION DEBUG: Getting permissions for user 6 in tenant 1 {"SourceContext":"Common.Services.PermissionService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SO:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SO"}
[2025-08-11 09:13:35.947 -05:00 INF] üîç PERMISSION DEBUG: Found 1 active user roles for user 6 in tenant 1: 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SO:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SO"}
[2025-08-11 09:13:35.954 -05:00 INF] üîç PERMISSION DEBUG: Found 22 role permissions for roles 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SO:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SO"}
[2025-08-11 09:13:35.959 -05:00 INF] üîç PERMISSION DEBUG: Final permissions for user 6 in tenant 1: [reports.create, reports.export, reports.schedule, reports.view, roles.assign_users, roles.create, roles.delete, roles.edit, roles.manage_permissions, roles.view, tenants.create, tenants.delete, tenants.edit, tenants.manage_settings, tenants.view, tenants.view_all, users.create, users.delete, users.edit, users.manage_roles, users.view, users.view_all] {"SourceContext":"Common.Services.PermissionService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SO:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SO"}
[2025-08-11 09:13:35.963 -05:00 INF] üîç TOKEN DEBUG: Retrieved 22 permissions for user 6: reports.create, reports.export, reports.schedule, reports.view, roles.assign_users, roles.create, roles.delete, roles.edit, roles.manage_permissions, roles.view {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SO:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SO"}
[2025-08-11 09:13:35.967 -05:00 INF] üîç TOKEN DEBUG: Successfully added 22 permission claims to JWT for user 6 {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SO:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SO"}
[2025-08-11 09:13:35.970 -05:00 INF] üîç TOKEN DEBUG: Added test permission claim {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SO:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SO"}
[2025-08-11 09:13:35.975 -05:00 INF] üîç TOKEN DEBUG: Total claims count before token generation: 35 {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SO:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SO"}
[2025-08-11 09:13:35.979 -05:00 INF] üîç TOKEN DEBUG: Token generation completed for user 6 {"SourceContext":"AuthService.Services.TokenService","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SO:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SO"}
[2025-08-11 09:13:35.994 -05:00 INF] User mccrearyforward@gmail.com logged in successfully {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"a35c15e1-3325-4c98-b6c5-1c8c5b888024","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOBPP8O7SO:00000003","RequestPath":"/api/Auth/login","ConnectionId":"0HNEOBPP8O7SO"}
[2025-08-11 09:13:35.998 -05:00 INF] HTTP POST /api/Auth/login responded 200 in 496.0376 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-11 09:26:35.006 -05:00 INF] Starting AuthService {}
[2025-08-11 09:26:35.105 -05:00 INF] Now listening on: https://localhost:7001 {}
[2025-08-11 09:26:35.107 -05:00 INF] Now listening on: http://localhost:5001 {}
[2025-08-11 09:27:44.412 -05:00 INF] HTTP POST /api/auth/logout responded 415 in 1140.4848 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-11 09:27:58.296 -05:00 WRN] üîç LOGIN DEBUG: Starting login for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHD:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHD"}
[2025-08-11 09:27:58.912 -05:00 WRN] üîç LOGIN DEBUG: User found: true, IsActive: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHD:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHD"}
[2025-08-11 09:27:58.917 -05:00 WRN] üîç LOGIN DEBUG: Attempting password verification for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHD:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHD"}
[2025-08-11 09:27:58.920 -05:00 WRN] üîç LOGIN DEBUG: Password length: 11, Hash starts with: $2a$12$FoF {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHD:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHD"}
[2025-08-11 09:27:59.947 -05:00 WRN] üîç LOGIN DEBUG: Password verification result: true {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHD:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHD"}
[2025-08-11 09:27:59.952 -05:00 WRN] üîç LOGIN DEBUG: Checking tenant relationship. PrimaryTenant: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHD:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHD"}
[2025-08-11 09:27:59.957 -05:00 INF] üîç TOKEN DEBUG: Starting token generation for user 6 in tenant 1 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHD:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHD"}
[2025-08-11 09:27:59.960 -05:00 INF] üîç TOKEN DEBUG: Added role User for user 6 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHD:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHD"}
[2025-08-11 09:27:59.963 -05:00 INF] üîç TOKEN DEBUG: Attempting to resolve IPermissionService for user 6 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHD:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHD"}
[2025-08-11 09:27:59.965 -05:00 INF] üîç TOKEN DEBUG: IPermissionService resolved successfully, getting permissions for user 6 in tenant 1 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHD:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHD"}
[2025-08-11 09:27:59.970 -05:00 INF] üîç PERMISSION DEBUG: Getting permissions for user 6 in tenant 1 {"SourceContext":"Common.Services.PermissionService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHD:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHD"}
[2025-08-11 09:27:59.999 -05:00 INF] üîç PERMISSION DEBUG: Found 1 active user roles for user 6 in tenant 1: 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHD:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHD"}
[2025-08-11 09:28:00.092 -05:00 INF] üîç PERMISSION DEBUG: Found 22 role permissions for roles 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHD:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHD"}
[2025-08-11 09:28:00.112 -05:00 INF] üîç PERMISSION DEBUG: Final permissions for user 6 in tenant 1: [reports.create, reports.export, reports.schedule, reports.view, roles.assign_users, roles.create, roles.delete, roles.edit, roles.manage_permissions, roles.view, tenants.create, tenants.delete, tenants.edit, tenants.manage_settings, tenants.view, tenants.view_all, users.create, users.delete, users.edit, users.manage_roles, users.view, users.view_all] {"SourceContext":"Common.Services.PermissionService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHD:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHD"}
[2025-08-11 09:28:00.127 -05:00 INF] üîç TOKEN DEBUG: Retrieved 22 permissions for user 6: reports.create, reports.export, reports.schedule, reports.view, roles.assign_users, roles.create, roles.delete, roles.edit, roles.manage_permissions, roles.view {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHD:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHD"}
[2025-08-11 09:28:00.130 -05:00 INF] üîç TOKEN DEBUG: Successfully added 22 permission claims to JWT for user 6 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHD:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHD"}
[2025-08-11 09:28:00.133 -05:00 INF] üîç TOKEN DEBUG: Added test permission claim {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHD:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHD"}
[2025-08-11 09:28:00.136 -05:00 INF] üîç TOKEN DEBUG: Total claims count before token generation: 35 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHD:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHD"}
[2025-08-11 09:28:00.145 -05:00 INF] üîç TOKEN DEBUG: Token generation completed for user 6 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHD:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHD"}
[2025-08-11 09:28:00.337 -05:00 INF] User mccrearyforward@gmail.com logged in successfully {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHD:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHD"}
[2025-08-11 09:28:00.357 -05:00 INF] HTTP POST /api/auth/login responded 200 in 2127.3417 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-11 10:12:48.573 -05:00 INF] HTTP POST /api/auth/logout responded 415 in 27.5276 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-11 10:13:00.589 -05:00 WRN] üîç LOGIN DEBUG: Starting login for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHF:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHF"}
[2025-08-11 10:13:00.619 -05:00 WRN] üîç LOGIN DEBUG: User found: true, IsActive: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHF:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHF"}
[2025-08-11 10:13:00.624 -05:00 WRN] üîç LOGIN DEBUG: Attempting password verification for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHF:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHF"}
[2025-08-11 10:13:00.628 -05:00 WRN] üîç LOGIN DEBUG: Password length: 11, Hash starts with: $2a$12$FoF {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHF:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHF"}
[2025-08-11 10:13:01.066 -05:00 WRN] üîç LOGIN DEBUG: Password verification result: true {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHF:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHF"}
[2025-08-11 10:13:01.071 -05:00 WRN] üîç LOGIN DEBUG: Checking tenant relationship. PrimaryTenant: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHF:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHF"}
[2025-08-11 10:13:01.075 -05:00 INF] üîç TOKEN DEBUG: Starting token generation for user 6 in tenant 1 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHF:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHF"}
[2025-08-11 10:13:01.079 -05:00 INF] üîç TOKEN DEBUG: Added role User for user 6 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHF:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHF"}
[2025-08-11 10:13:01.081 -05:00 INF] üîç TOKEN DEBUG: Attempting to resolve IPermissionService for user 6 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHF:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHF"}
[2025-08-11 10:13:01.084 -05:00 INF] üîç TOKEN DEBUG: IPermissionService resolved successfully, getting permissions for user 6 in tenant 1 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHF:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHF"}
[2025-08-11 10:13:01.088 -05:00 INF] üîç PERMISSION DEBUG: Getting permissions for user 6 in tenant 1 {"SourceContext":"Common.Services.PermissionService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHF:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHF"}
[2025-08-11 10:13:01.095 -05:00 INF] üîç PERMISSION DEBUG: Found 1 active user roles for user 6 in tenant 1: 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHF:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHF"}
[2025-08-11 10:13:01.103 -05:00 INF] üîç PERMISSION DEBUG: Found 22 role permissions for roles 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHF:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHF"}
[2025-08-11 10:13:01.108 -05:00 INF] üîç PERMISSION DEBUG: Final permissions for user 6 in tenant 1: [reports.create, reports.export, reports.schedule, reports.view, roles.assign_users, roles.create, roles.delete, roles.edit, roles.manage_permissions, roles.view, tenants.create, tenants.delete, tenants.edit, tenants.manage_settings, tenants.view, tenants.view_all, users.create, users.delete, users.edit, users.manage_roles, users.view, users.view_all] {"SourceContext":"Common.Services.PermissionService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHF:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHF"}
[2025-08-11 10:13:01.111 -05:00 INF] üîç TOKEN DEBUG: Retrieved 22 permissions for user 6: reports.create, reports.export, reports.schedule, reports.view, roles.assign_users, roles.create, roles.delete, roles.edit, roles.manage_permissions, roles.view {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHF:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHF"}
[2025-08-11 10:13:01.114 -05:00 INF] üîç TOKEN DEBUG: Successfully added 22 permission claims to JWT for user 6 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHF:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHF"}
[2025-08-11 10:13:01.118 -05:00 INF] üîç TOKEN DEBUG: Added test permission claim {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHF:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHF"}
[2025-08-11 10:13:01.121 -05:00 INF] üîç TOKEN DEBUG: Total claims count before token generation: 35 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHF:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHF"}
[2025-08-11 10:13:01.124 -05:00 INF] üîç TOKEN DEBUG: Token generation completed for user 6 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHF:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHF"}
[2025-08-11 10:13:01.141 -05:00 INF] User mccrearyforward@gmail.com logged in successfully {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHF:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHF"}
[2025-08-11 10:13:01.146 -05:00 INF] HTTP POST /api/auth/login responded 200 in 559.3330 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-11 10:22:23.940 -05:00 INF] HTTP POST /api/auth/logout responded 415 in 4.7329 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-11 10:22:37.265 -05:00 WRN] üîç LOGIN DEBUG: Starting login for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHH:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHH"}
[2025-08-11 10:22:37.288 -05:00 WRN] üîç LOGIN DEBUG: User found: true, IsActive: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHH:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHH"}
[2025-08-11 10:22:37.294 -05:00 WRN] üîç LOGIN DEBUG: Attempting password verification for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHH:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHH"}
[2025-08-11 10:22:37.297 -05:00 WRN] üîç LOGIN DEBUG: Password length: 11, Hash starts with: $2a$12$FoF {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHH:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHH"}
[2025-08-11 10:22:37.745 -05:00 WRN] üîç LOGIN DEBUG: Password verification result: true {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHH:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHH"}
[2025-08-11 10:22:37.748 -05:00 WRN] üîç LOGIN DEBUG: Checking tenant relationship. PrimaryTenant: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHH:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHH"}
[2025-08-11 10:22:37.750 -05:00 INF] üîç TOKEN DEBUG: Starting token generation for user 6 in tenant 1 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHH:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHH"}
[2025-08-11 10:22:37.753 -05:00 INF] üîç TOKEN DEBUG: Added role User for user 6 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHH:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHH"}
[2025-08-11 10:22:37.755 -05:00 INF] üîç TOKEN DEBUG: Attempting to resolve IPermissionService for user 6 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHH:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHH"}
[2025-08-11 10:22:37.759 -05:00 INF] üîç TOKEN DEBUG: IPermissionService resolved successfully, getting permissions for user 6 in tenant 1 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHH:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHH"}
[2025-08-11 10:22:37.761 -05:00 INF] üîç PERMISSION DEBUG: Getting permissions for user 6 in tenant 1 {"SourceContext":"Common.Services.PermissionService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHH:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHH"}
[2025-08-11 10:22:37.766 -05:00 INF] üîç PERMISSION DEBUG: Found 1 active user roles for user 6 in tenant 1: 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHH:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHH"}
[2025-08-11 10:22:37.771 -05:00 INF] üîç PERMISSION DEBUG: Found 22 role permissions for roles 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHH:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHH"}
[2025-08-11 10:22:37.776 -05:00 INF] üîç PERMISSION DEBUG: Final permissions for user 6 in tenant 1: [reports.create, reports.export, reports.schedule, reports.view, roles.assign_users, roles.create, roles.delete, roles.edit, roles.manage_permissions, roles.view, tenants.create, tenants.delete, tenants.edit, tenants.manage_settings, tenants.view, tenants.view_all, users.create, users.delete, users.edit, users.manage_roles, users.view, users.view_all] {"SourceContext":"Common.Services.PermissionService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHH:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHH"}
[2025-08-11 10:22:37.780 -05:00 INF] üîç TOKEN DEBUG: Retrieved 22 permissions for user 6: reports.create, reports.export, reports.schedule, reports.view, roles.assign_users, roles.create, roles.delete, roles.edit, roles.manage_permissions, roles.view {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHH:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHH"}
[2025-08-11 10:22:37.782 -05:00 INF] üîç TOKEN DEBUG: Successfully added 22 permission claims to JWT for user 6 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHH:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHH"}
[2025-08-11 10:22:37.784 -05:00 INF] üîç TOKEN DEBUG: Added test permission claim {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHH:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHH"}
[2025-08-11 10:22:37.786 -05:00 INF] üîç TOKEN DEBUG: Total claims count before token generation: 35 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHH:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHH"}
[2025-08-11 10:22:37.788 -05:00 INF] üîç TOKEN DEBUG: Token generation completed for user 6 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHH:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHH"}
[2025-08-11 10:22:37.799 -05:00 INF] User mccrearyforward@gmail.com logged in successfully {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHH:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHH"}
[2025-08-11 10:22:37.803 -05:00 INF] HTTP POST /api/auth/login responded 200 in 538.5549 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-11 10:45:31.633 -05:00 INF] HTTP POST /api/auth/logout responded 415 in 2.4461 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-11 10:46:06.486 -05:00 WRN] üîç LOGIN DEBUG: Starting login for kevin@txwoodcraftstudio.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHJ:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHJ"}
[2025-08-11 10:46:06.508 -05:00 WRN] üîç LOGIN DEBUG: User found: false, IsActive: null, TenantId: null {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHJ:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHJ"}
[2025-08-11 10:46:06.512 -05:00 WRN] Login attempt for non-existent user: kevin@txwoodcraftstudio.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHJ:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHJ"}
[2025-08-11 10:46:06.515 -05:00 INF] HTTP POST /api/auth/login responded 400 in 29.9993 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-11 10:46:35.134 -05:00 INF] üîç TOKEN DEBUG: Starting token generation for user 7 in tenant 1 {"SourceContext":"AuthService.Services.TokenService","ActionId":"f9ace45e-04dd-4ccd-b396-23a0d60c3ed5","ActionName":"AuthService.Controllers.AuthController.Register (AuthService)","RequestId":"0HNEOSCTVDVHK:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNEOSCTVDVHK"}
[2025-08-11 10:46:35.139 -05:00 INF] üîç TOKEN DEBUG: Added role User for user 7 {"SourceContext":"AuthService.Services.TokenService","ActionId":"f9ace45e-04dd-4ccd-b396-23a0d60c3ed5","ActionName":"AuthService.Controllers.AuthController.Register (AuthService)","RequestId":"0HNEOSCTVDVHK:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNEOSCTVDVHK"}
[2025-08-11 10:46:35.142 -05:00 INF] üîç TOKEN DEBUG: Attempting to resolve IPermissionService for user 7 {"SourceContext":"AuthService.Services.TokenService","ActionId":"f9ace45e-04dd-4ccd-b396-23a0d60c3ed5","ActionName":"AuthService.Controllers.AuthController.Register (AuthService)","RequestId":"0HNEOSCTVDVHK:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNEOSCTVDVHK"}
[2025-08-11 10:46:35.146 -05:00 INF] üîç TOKEN DEBUG: IPermissionService resolved successfully, getting permissions for user 7 in tenant 1 {"SourceContext":"AuthService.Services.TokenService","ActionId":"f9ace45e-04dd-4ccd-b396-23a0d60c3ed5","ActionName":"AuthService.Controllers.AuthController.Register (AuthService)","RequestId":"0HNEOSCTVDVHK:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNEOSCTVDVHK"}
[2025-08-11 10:46:35.149 -05:00 INF] üîç PERMISSION DEBUG: Getting permissions for user 7 in tenant 1 {"SourceContext":"Common.Services.PermissionService","ActionId":"f9ace45e-04dd-4ccd-b396-23a0d60c3ed5","ActionName":"AuthService.Controllers.AuthController.Register (AuthService)","RequestId":"0HNEOSCTVDVHK:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNEOSCTVDVHK"}
[2025-08-11 10:46:35.156 -05:00 INF] üîç PERMISSION DEBUG: Found 0 active user roles for user 7 in tenant 1:  {"SourceContext":"Common.Services.PermissionService","ActionId":"f9ace45e-04dd-4ccd-b396-23a0d60c3ed5","ActionName":"AuthService.Controllers.AuthController.Register (AuthService)","RequestId":"0HNEOSCTVDVHK:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNEOSCTVDVHK"}
[2025-08-11 10:46:35.160 -05:00 WRN] üîç PERMISSION DEBUG: No active user roles found for user 7 in tenant 1 {"SourceContext":"Common.Services.PermissionService","ActionId":"f9ace45e-04dd-4ccd-b396-23a0d60c3ed5","ActionName":"AuthService.Controllers.AuthController.Register (AuthService)","RequestId":"0HNEOSCTVDVHK:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNEOSCTVDVHK"}
[2025-08-11 10:46:35.163 -05:00 INF] üîç TOKEN DEBUG: Retrieved 0 permissions for user 7:  {"SourceContext":"AuthService.Services.TokenService","ActionId":"f9ace45e-04dd-4ccd-b396-23a0d60c3ed5","ActionName":"AuthService.Controllers.AuthController.Register (AuthService)","RequestId":"0HNEOSCTVDVHK:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNEOSCTVDVHK"}
[2025-08-11 10:46:35.167 -05:00 INF] üîç TOKEN DEBUG: Successfully added 0 permission claims to JWT for user 7 {"SourceContext":"AuthService.Services.TokenService","ActionId":"f9ace45e-04dd-4ccd-b396-23a0d60c3ed5","ActionName":"AuthService.Controllers.AuthController.Register (AuthService)","RequestId":"0HNEOSCTVDVHK:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNEOSCTVDVHK"}
[2025-08-11 10:46:35.170 -05:00 INF] üîç TOKEN DEBUG: Added test permission claim {"SourceContext":"AuthService.Services.TokenService","ActionId":"f9ace45e-04dd-4ccd-b396-23a0d60c3ed5","ActionName":"AuthService.Controllers.AuthController.Register (AuthService)","RequestId":"0HNEOSCTVDVHK:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNEOSCTVDVHK"}
[2025-08-11 10:46:35.173 -05:00 INF] üîç TOKEN DEBUG: Total claims count before token generation: 13 {"SourceContext":"AuthService.Services.TokenService","ActionId":"f9ace45e-04dd-4ccd-b396-23a0d60c3ed5","ActionName":"AuthService.Controllers.AuthController.Register (AuthService)","RequestId":"0HNEOSCTVDVHK:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNEOSCTVDVHK"}
[2025-08-11 10:46:35.176 -05:00 INF] üîç TOKEN DEBUG: Token generation completed for user 7 {"SourceContext":"AuthService.Services.TokenService","ActionId":"f9ace45e-04dd-4ccd-b396-23a0d60c3ed5","ActionName":"AuthService.Controllers.AuthController.Register (AuthService)","RequestId":"0HNEOSCTVDVHK:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNEOSCTVDVHK"}
[2025-08-11 10:46:35.190 -05:00 INF] User kevin@txwoodcraftstudio.com registered successfully {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"f9ace45e-04dd-4ccd-b396-23a0d60c3ed5","ActionName":"AuthService.Controllers.AuthController.Register (AuthService)","RequestId":"0HNEOSCTVDVHK:00000001","RequestPath":"/api/auth/register","ConnectionId":"0HNEOSCTVDVHK"}
[2025-08-11 10:46:35.195 -05:00 INF] HTTP POST /api/auth/register responded 200 in 449.3160 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-11 10:46:43.595 -05:00 INF] HTTP POST /api/auth/logout responded 415 in 1.5234 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
[2025-08-11 10:46:52.187 -05:00 WRN] üîç LOGIN DEBUG: Starting login for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHM"}
[2025-08-11 10:46:52.193 -05:00 WRN] üîç LOGIN DEBUG: User found: true, IsActive: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHM"}
[2025-08-11 10:46:52.196 -05:00 WRN] üîç LOGIN DEBUG: Attempting password verification for mccrearyforward@gmail.com {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHM"}
[2025-08-11 10:46:52.200 -05:00 WRN] üîç LOGIN DEBUG: Password length: 11, Hash starts with: $2a$12$FoF {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHM"}
[2025-08-11 10:46:52.606 -05:00 WRN] üîç LOGIN DEBUG: Password verification result: true {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHM"}
[2025-08-11 10:46:52.609 -05:00 WRN] üîç LOGIN DEBUG: Checking tenant relationship. PrimaryTenant: true, TenantId: 1 {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHM"}
[2025-08-11 10:46:52.613 -05:00 INF] üîç TOKEN DEBUG: Starting token generation for user 6 in tenant 1 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHM"}
[2025-08-11 10:46:52.616 -05:00 INF] üîç TOKEN DEBUG: Added role User for user 6 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHM"}
[2025-08-11 10:46:52.618 -05:00 INF] üîç TOKEN DEBUG: Attempting to resolve IPermissionService for user 6 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHM"}
[2025-08-11 10:46:52.622 -05:00 INF] üîç TOKEN DEBUG: IPermissionService resolved successfully, getting permissions for user 6 in tenant 1 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHM"}
[2025-08-11 10:46:52.625 -05:00 INF] üîç PERMISSION DEBUG: Getting permissions for user 6 in tenant 1 {"SourceContext":"Common.Services.PermissionService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHM"}
[2025-08-11 10:46:52.630 -05:00 INF] üîç PERMISSION DEBUG: Found 1 active user roles for user 6 in tenant 1: 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHM"}
[2025-08-11 10:46:52.635 -05:00 INF] üîç PERMISSION DEBUG: Found 22 role permissions for roles 7 {"SourceContext":"Common.Services.PermissionService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHM"}
[2025-08-11 10:46:52.641 -05:00 INF] üîç PERMISSION DEBUG: Final permissions for user 6 in tenant 1: [reports.create, reports.export, reports.schedule, reports.view, roles.assign_users, roles.create, roles.delete, roles.edit, roles.manage_permissions, roles.view, tenants.create, tenants.delete, tenants.edit, tenants.manage_settings, tenants.view, tenants.view_all, users.create, users.delete, users.edit, users.manage_roles, users.view, users.view_all] {"SourceContext":"Common.Services.PermissionService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHM"}
[2025-08-11 10:46:52.645 -05:00 INF] üîç TOKEN DEBUG: Retrieved 22 permissions for user 6: reports.create, reports.export, reports.schedule, reports.view, roles.assign_users, roles.create, roles.delete, roles.edit, roles.manage_permissions, roles.view {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHM"}
[2025-08-11 10:46:52.648 -05:00 INF] üîç TOKEN DEBUG: Successfully added 22 permission claims to JWT for user 6 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHM"}
[2025-08-11 10:46:52.650 -05:00 INF] üîç TOKEN DEBUG: Added test permission claim {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHM"}
[2025-08-11 10:46:52.653 -05:00 INF] üîç TOKEN DEBUG: Total claims count before token generation: 35 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHM"}
[2025-08-11 10:46:52.656 -05:00 INF] üîç TOKEN DEBUG: Token generation completed for user 6 {"SourceContext":"AuthService.Services.TokenService","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHM"}
[2025-08-11 10:46:52.667 -05:00 INF] User mccrearyforward@gmail.com logged in successfully {"SourceContext":"AuthService.Services.AuthServiceImplementation","ActionId":"17f6d9da-8359-471f-8e6b-487439c433f7","ActionName":"AuthService.Controllers.AuthController.Login (AuthService)","RequestId":"0HNEOSCTVDVHM:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNEOSCTVDVHM"}
[2025-08-11 10:46:52.671 -05:00 INF] HTTP POST /api/auth/login responded 200 in 485.0940 ms {"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware"}
