boiler-pgadmin | postfix/postlog: starting the Postfix mail system
boiler-redis | | 2025-08-22T20:16:42.743668048Z 1:C 22 Aug 2025 20:16:42.743 * oO0OoO0OoO0Oo Redis is starting oO0OoO0OoO0Oo
boiler-redis | | 2025-08-22T20:16:42.743733150Z 1:C 22 Aug 2025 20:16:42.743 * Redis version=7.4.5, bits=64, commit=00000000, modified=0, pid=1, just started
boiler-redis | | 2025-08-22T20:16:42.743736750Z 1:C 22 Aug 2025 20:16:42.743 # Warning: no config file specified, using the default config. In order to specify a config file use redis-server /path/to/redis.conf
boiler-redis | | 2025-08-22T20:16:42.744142563Z 1:M 22 Aug 2025 20:16:42.744 * monotonic clock: POSIX clock_gettime
boiler-redis | | 2025-08-22T20:16:42.745013191Z 1:M 22 Aug 2025 20:16:42.744 * Running mode=standalone, port=6379.
boiler-redis | | 2025-08-22T20:16:42.745585709Z 1:M 22 Aug 2025 20:16:42.745 * Server initialized
boiler-redis | | 2025-08-22T20:16:42.745717914Z 1:M 22 Aug 2025 20:16:42.745 * Loading RDB produced by version 7.4.5
boiler-redis | | 2025-08-22T20:16:42.745744315Z 1:M 22 Aug 2025 20:16:42.745 * RDB age 163 seconds
boiler-redis | | 2025-08-22T20:16:42.745762315Z 1:M 22 Aug 2025 20:16:42.745 * RDB memory usage when created 1.34 Mb
boiler-redis | | 2025-08-22T20:16:42.746190629Z 1:M 22 Aug 2025 20:16:42.746 * Done loading RDB, keys loaded: 2, keys expired: 3.
boiler-redis | | 2025-08-22T20:16:42.746310233Z 1:M 22 Aug 2025 20:16:42.746 * DB loaded from disk: 0.001 seconds
boiler-redis | | 2025-08-22T20:16:42.746322633Z 1:M 22 Aug 2025 20:16:42.746 * Ready to accept connections tcp
boiler-postgres | 
boiler-postgres | PostgreSQL Database directory appears to contain a database; Skipping initialization
boiler-postgres | 
boiler-postgres | 2025-08-22 20:16:42.857 UTC [1] LOG:  starting PostgreSQL 15.14 on aarch64-unknown-linux-musl, compiled by gcc (Alpine 14.2.0) 14.2.0, 64-bit
boiler-postgres | 2025-08-22 20:16:42.857 UTC [1] LOG:  listening on IPv4 address "0.0.0.0", port 5432
boiler-postgres | 2025-08-22 20:16:42.857 UTC [1] LOG:  listening on IPv6 address "::", port 5432
boiler-postgres | 2025-08-22 20:16:42.861 UTC [1] LOG:  listening on Unix socket "/var/run/postgresql/.s.PGSQL.5432"
boiler-postgres | 2025-08-22 20:16:42.868 UTC [29] LOG:  database system was shut down at 2025-08-22 20:13:59 UTC
boiler-postgres | 2025-08-22 20:16:42.875 UTC [1] LOG:  database system is ready to accept connections
boiler-frontend | 10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf
boiler-frontend | 10-listen-on-ipv6-by-default.sh: info: /etc/nginx/conf.d/default.conf differs from the packaged version
boiler-frontend | /docker-entrypoint.sh: Sourcing /docker-entrypoint.d/15-local-resolvers.envsh
boiler-frontend | /docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh
boiler-frontend | /docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh
boiler-frontend | /docker-entrypoint.sh: Configuration complete; ready for start up
boiler-frontend | 2025/08/22 20:16:59 [notice] 1#1: using the "epoll" event method
boiler-frontend | 2025/08/22 20:16:59 [notice] 1#1: nginx/1.29.1
boiler-frontend | 2025/08/22 20:16:59 [notice] 1#1: built by gcc 14.2.0 (Alpine 14.2.0) 
boiler-frontend | 2025/08/22 20:16:59 [notice] 1#1: OS: Linux 6.6.87.2-microsoft-standard-WSL2
boiler-frontend | 2025/08/22 20:16:59 [notice] 1#1: getrlimit(RLIMIT_NOFILE): 1048576:1048576
boiler-frontend | 2025/08/22 20:16:59 [notice] 1#1: start worker processes
boiler-frontend | 2025/08/22 20:16:59 [notice] 1#1: start worker process 29
boiler-frontend | 2025/08/22 20:16:59 [notice] 1#1: start worker process 30
boiler-frontend | 2025/08/22 20:16:59 [notice] 1#1: start worker process 31
boiler-frontend | 2025/08/22 20:16:59 [notice] 1#1: start worker process 32
boiler-frontend | 2025/08/22 20:16:59 [notice] 1#1: start worker process 33
boiler-frontend | 2025/08/22 20:16:59 [notice] 1#1: start worker process 34
boiler-frontend | 2025/08/22 20:16:59 [notice] 1#1: start worker process 35
boiler-frontend | 2025/08/22 20:16:59 [notice] 1#1: start worker process 36
boiler-frontend | 2025/08/22 20:16:59 [notice] 1#1: start worker process 37
boiler-frontend | 2025/08/22 20:16:59 [notice] 1#1: start worker process 38
boiler-frontend | 2025/08/22 20:16:59 [notice] 1#1: start worker process 39
boiler-frontend | 2025/08/22 20:16:59 [notice] 1#1: start worker process 40
boiler-gateway | 2025-08-22T20:16:59.926515493Z [20:16:59 INF] Starting API Gateway {}
boiler-gateway | 2025-08-22T20:16:59.926639797Z === API Gateway Starting ===
boiler-gateway | 2025-08-22T20:16:59.947304505Z [20:16:59 WRN] Using an in-memory repository. Keys will not be persisted to storage. {"EventId": {"Id": 50, "Name": "UsingInMemoryRepository"}, "SourceContext": "Microsoft.AspNetCore.DataProtection.Repositories.EphemeralXmlRepository"}
boiler-gateway | 2025-08-22T20:16:59.947961727Z [20:16:59 WRN] Neither user profile nor HKLM registry available. Using an ephemeral key repository. Protected data will be unavailable when application exits. {"EventId": {"Id": 59, "Name": "UsingEphemeralKeyRepository"}, "SourceContext": "Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}
boiler-gateway | 2025-08-22T20:16:59.961947106Z [20:16:59 WRN] No XML encryptor configured. Key {6bf91821-5951-439a-a10b-6025e11ea64c} may be persisted to storage in unencrypted form. {"EventId": {"Id": 35, "Name": "NoXMLEncryptorConfiguredKeyMayBePersistedToStorageInUnencryptedForm"}, "SourceContext": "Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}
boiler-gateway | 2025-08-22T20:16:59.965728236Z [20:16:59 WRN] Overriding HTTP_PORTS '8080' and HTTPS_PORTS ''. Binding to values defined by URLS instead 'http://0.0.0.0:5000;https://0.0.0.0:7000'. {"EventId": {"Id": 15}, "SourceContext": "Microsoft.AspNetCore.Hosting.Diagnostics"}
boiler-gateway | 2025-08-22T20:17:00.072632397Z Now listening on: http://0.0.0.0:5000
boiler-gateway | 2025-08-22T20:17:00.074540062Z [20:17:00 INF] Now listening on: http://0.0.0.0:5000 {}
boiler-gateway | 2025-08-22T20:17:00.074592164Z Now listening on: https://0.0.0.0:7000
boiler-gateway | 2025-08-22T20:17:00.074595064Z [20:17:00 INF] Now listening on: https://0.0.0.0:7000 {}
boiler-gateway | 2025-08-22T20:17:00.074597264Z üåê API Gateway started without Enhanced Security (routing only)
boiler-gateway | 2025-08-22T20:17:00.074600264Z [20:17:00 INF] API Gateway started - routing service without database dependencies {}
boiler-frontend | 172.18.0.1 - - [22/Aug/2025:20:19:05 +0000] "GET / HTTP/1.1" 200 970 "-" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" "-"
boiler-frontend | 172.18.0.1 - - [22/Aug/2025:20:19:05 +0000] "GET /assets/index-EFDK_Fdj.js HTTP/1.1" 200 76287 "https://localhost:3000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" "-"
boiler-frontend | 172.18.0.1 - - [22/Aug/2025:20:19:05 +0000] "GET /assets/react-vendor-gH-7aFTg.js HTTP/1.1" 200 4595 "https://localhost:3000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" "-"
boiler-frontend | 172.18.0.1 - - [22/Aug/2025:20:19:05 +0000] "GET /assets/router-vendor-BmDKUtvC.js HTTP/1.1" 200 13500 "https://localhost:3000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" "-"
boiler-frontend | 172.18.0.1 - - [22/Aug/2025:20:19:05 +0000] "GET /assets/user-components-uSG9RUl9.js HTTP/1.1" 200 20393 "https://localhost:3000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" "-"
boiler-frontend | 172.18.0.1 - - [22/Aug/2025:20:19:05 +0000] "GET /assets/index-Dgq5rOVt.css HTTP/1.1" 200 2707 "https://localhost:3000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" "-"
boiler-frontend | 172.18.0.1 - - [22/Aug/2025:20:19:05 +0000] "GET /assets/auth-components-CIoxq1vn.js HTTP/1.1" 200 21919 "https://localhost:3000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" "-"
boiler-frontend | 172.18.0.1 - - [22/Aug/2025:20:19:05 +0000] "GET /assets/role-components-Km1ZIL_l.js HTTP/1.1" 200 9021 "https://localhost:3000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" "-"
boiler-frontend | 172.18.0.1 - - [22/Aug/2025:20:19:05 +0000] "GET /assets/mui-vendor-DgZ36Fo-.js HTTP/1.1" 200 117977 "https://localhost:3000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" "-"
boiler-frontend | 172.18.0.1 - - [22/Aug/2025:20:19:05 +0000] "GET /vite.svg HTTP/1.1" 200 796 "https://localhost:3000/" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" "-"
boiler-gateway | 2025-08-22T20:19:13.948221293Z [20:19:13 INF] REQUEST 2b9bf7a4: POST /api/auth/login from 172.18.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TRU:00000001", "RequestPath": "/api/auth/login", "ConnectionId": "0HNF1N3E75TRU"}
boiler-gateway | 2025-08-22T20:19:13.948839709Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:19:13.948911611Z    Path: /api/auth/login
boiler-gateway | 2025-08-22T20:19:13.948917411Z    Method: POST
boiler-gateway | 2025-08-22T20:19:13.948921511Z    Authorization Header: MISSING
boiler-gateway | 2025-08-22T20:19:13.976141393Z [20:19:13 INF] requestId: 0HNF1N3E75TRU:00000001, previousRequestId: No PreviousRequestId, message: 'No authentication needed for path '/api/auth/login'.' {"SourceContext": "Ocelot.Authentication.Middleware.AuthenticationMiddleware", "RequestId": "0HNF1N3E75TRU:00000001", "RequestPath": "/api/auth/login", "ConnectionId": "0HNF1N3E75TRU"}
boiler-gateway | 2025-08-22T20:19:13.976203195Z [20:19:13 INF] requestId: 0HNF1N3E75TRU:00000001, previousRequestId: No PreviousRequestId, message: '/api/auth/login route does not require user to be authorized' {"SourceContext": "Ocelot.Authorization.Middleware.AuthorizationMiddleware", "RequestId": "0HNF1N3E75TRU:00000001", "RequestPath": "/api/auth/login", "ConnectionId": "0HNF1N3E75TRU"}
boiler-gateway | 2025-08-22T20:19:13.985430326Z [20:19:13 WRN] requestId: 0HNF1N3E75TRU:00000001, previousRequestId: No PreviousRequestId, message: 'You have ignored all SSL warnings by using DangerousAcceptAnyServerCertificateValidator for this DownstreamRoute, UpstreamPathTemplate: Ocelot.Values.UpstreamPathTemplate, DownstreamPathTemplate: /api/auth/login' {"SourceContext": "Ocelot.Requester.MessageInvokerPool", "RequestId": "0HNF1N3E75TRU:00000001", "RequestPath": "/api/auth/login", "ConnectionId": "0HNF1N3E75TRU"}
boiler-auth |   | 2025-08-22T20:19:14.096739615Z [20:19:14 INF] Starting login for mccrearyforward@gmail.com {"SourceContext": "AuthService.Services.AuthServiceImplementation", "ActionId": "961e0735-f912-4bb6-853f-afbaac52e5b7", "ActionName": "AuthService.Controllers.AuthController.Login (AuthService)", "RequestId": "0HNF1N3CFMEQR:00000001", "RequestPath": "/api/auth/login", "ConnectionId": "0HNF1N3CFMEQR"}
boiler-auth |   | 2025-08-22T20:19:14.187806397Z [20:19:14 WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. {"EventId": {"Id": 20504, "Name": "Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"}, "SourceContext": "Microsoft.EntityFrameworkCore.Query", "ActionId": "961e0735-f912-4bb6-853f-afbaac52e5b7", "ActionName": "AuthService.Controllers.AuthController.Login (AuthService)", "RequestId": "0HNF1N3CFMEQR:00000001", "RequestPath": "/api/auth/login", "ConnectionId": "0HNF1N3CFMEQR"}
boiler-auth |   | 2025-08-22T20:19:14.324170214Z [20:19:14 INF] User found: True, IsActive: True {"SourceContext": "AuthService.Services.AuthServiceImplementation", "ActionId": "961e0735-f912-4bb6-853f-afbaac52e5b7", "ActionName": "AuthService.Controllers.AuthController.Login (AuthService)", "RequestId": "0HNF1N3CFMEQR:00000001", "RequestPath": "/api/auth/login", "ConnectionId": "0HNF1N3CFMEQR"}
boiler-auth |   | 2025-08-22T20:19:15.123692847Z [20:19:15 INF] Password verification result: True {"SourceContext": "AuthService.Services.AuthServiceImplementation", "ActionId": "961e0735-f912-4bb6-853f-afbaac52e5b7", "ActionName": "AuthService.Controllers.AuthController.Login (AuthService)", "RequestId": "0HNF1N3CFMEQR:00000001", "RequestPath": "/api/auth/login", "ConnectionId": "0HNF1N3CFMEQR"}
boiler-auth |   | 2025-08-22T20:19:15.123745149Z [20:19:15 INF] Generating tenant-less JWT for initial login {"SourceContext": "AuthService.Services.AuthServiceImplementation", "ActionId": "961e0735-f912-4bb6-853f-afbaac52e5b7", "ActionName": "AuthService.Controllers.AuthController.Login (AuthService)", "RequestId": "0HNF1N3CFMEQR:00000001", "RequestPath": "/api/auth/login", "ConnectionId": "0HNF1N3CFMEQR"}
boiler-auth |   | 2025-08-22T20:19:15.126346714Z [20:19:15 INF] üîç TOKEN DEBUG: Generating tenant-less JWT for user 6 {"SourceContext": "AuthService.Services.EnhancedTokenService", "ActionId": "961e0735-f912-4bb6-853f-afbaac52e5b7", "ActionName": "AuthService.Controllers.AuthController.Login (AuthService)", "RequestId": "0HNF1N3CFMEQR:00000001", "RequestPath": "/api/auth/login", "ConnectionId": "0HNF1N3CFMEQR"}
boiler-auth |   | 2025-08-22T20:19:15.228187366Z [20:19:15 INF] üîç TOKEN DEBUG: Tenant-less system roles=0, system permissions added=0 {"SourceContext": "AuthService.Services.EnhancedTokenService", "ActionId": "961e0735-f912-4bb6-853f-afbaac52e5b7", "ActionName": "AuthService.Controllers.AuthController.Login (AuthService)", "RequestId": "0HNF1N3CFMEQR:00000001", "RequestPath": "/api/auth/login", "ConnectionId": "0HNF1N3CFMEQR"}
boiler-auth |   | 2025-08-22T20:19:15.276326572Z [20:19:15 INF] üîç All request headers: Accept=application/json, text/plain, */*; Connection=close; Host=boiler-auth:7001; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Content-Type=application/json; Origin=https://localhost:3000; Referer=https://localhost:3000/login; traceparent=00-083ec3efe526fc36ee1ddc23db9dc504-392689c59e52ebe5-00; Content-Length=62; X-Real-IP=172.18.0.1; X-Forwarded-For=172.18.0.1; X-Forwarded-Proto=https; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; Sec-Fetch-Site=same-origin; Sec-Fetch-Mode=cors; Sec-Fetch-Dest=empty {"SourceContext": "Common.Services.TenantProvider", "ActionId": "961e0735-f912-4bb6-853f-afbaac52e5b7", "ActionName": "AuthService.Controllers.AuthController.Login (AuthService)", "RequestId": "0HNF1N3CFMEQR:00000001", "RequestPath": "/api/auth/login", "ConnectionId": "0HNF1N3CFMEQR"}
boiler-auth |   | 2025-08-22T20:19:15.276436675Z [20:19:15 WRN] ‚ùå No tenant found in any headers: X-Tenant-Id, X-Tenant-ID, X-Tenant-ID {"SourceContext": "Common.Services.TenantProvider", "ActionId": "961e0735-f912-4bb6-853f-afbaac52e5b7", "ActionName": "AuthService.Controllers.AuthController.Login (AuthService)", "RequestId": "0HNF1N3CFMEQR:00000001", "RequestPath": "/api/auth/login", "ConnectionId": "0HNF1N3CFMEQR"}
boiler-auth |   | 2025-08-22T20:19:15.276440775Z [20:19:15 WRN] Could not resolve tenant from any source. Strategy: Header, IsAuthenticated: False {"SourceContext": "Common.Services.TenantProvider", "ActionId": "961e0735-f912-4bb6-853f-afbaac52e5b7", "ActionName": "AuthService.Controllers.AuthController.Login (AuthService)", "RequestId": "0HNF1N3CFMEQR:00000001", "RequestPath": "/api/auth/login", "ConnectionId": "0HNF1N3CFMEQR"}
boiler-auth |   | 2025-08-22T20:19:15.276871186Z [20:19:15 WRN] Failed to resolve tenant ID from any source {"SourceContext": "Common.Services.TenantProvider", "ActionId": "961e0735-f912-4bb6-853f-afbaac52e5b7", "ActionName": "AuthService.Controllers.AuthController.Login (AuthService)", "RequestId": "0HNF1N3CFMEQR:00000001", "RequestPath": "/api/auth/login", "ConnectionId": "0HNF1N3CFMEQR"}
boiler-auth |   | 2025-08-22T20:19:15.372169273Z [20:19:15 INF] User mccrearyforward@gmail.com logged in successfully (no tenant selected yet) {"SourceContext": "AuthService.Services.AuthServiceImplementation", "ActionId": "961e0735-f912-4bb6-853f-afbaac52e5b7", "ActionName": "AuthService.Controllers.AuthController.Login (AuthService)", "RequestId": "0HNF1N3CFMEQR:00000001", "RequestPath": "/api/auth/login", "ConnectionId": "0HNF1N3CFMEQR"}
boiler-auth |   | 2025-08-22T20:19:15.388174274Z [20:19:15 INF] HTTP POST /api/auth/login responded 200 in 1371.3927 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:19:15.390184025Z [20:19:15 INF] requestId: 0HNF1N3E75TRU:00000001, previousRequestId: No PreviousRequestId, message: '200 (OK) status code of request URI: https://boiler-auth:7001/api/auth/login.' {"SourceContext": "Ocelot.Requester.Middleware.HttpRequesterMiddleware", "RequestId": "0HNF1N3E75TRU:00000001", "RequestPath": "/api/auth/login", "ConnectionId": "0HNF1N3E75TRU"}
boiler-gateway | 2025-08-22T20:19:15.398826041Z [20:19:15 INF] RESPONSE 2b9bf7a4: 200 in 1450ms | Size: Unknown {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TRU:00000001", "RequestPath": "/api/auth/login", "ConnectionId": "0HNF1N3E75TRU"}
boiler-gateway | 2025-08-22T20:19:15.399591361Z [20:19:15 WRN] SLOW REQUEST 2b9bf7a4: POST /api/auth/login took 1450ms {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TRU:00000001", "RequestPath": "/api/auth/login", "ConnectionId": "0HNF1N3E75TRU"}
boiler-gateway | 2025-08-22T20:19:15.399796066Z [20:19:15 INF] HTTP POST /api/auth/login responded 200 in 1453.1467 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TRU:00000001", "ConnectionId": "0HNF1N3E75TRU"}
boiler-frontend | 172.18.0.1 - - [22/Aug/2025:20:19:15 +0000] "POST /api/auth/login HTTP/1.1" 200 902 "https://localhost:3000/login" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" "-"
boiler-gateway | 2025-08-22T20:19:15.412003072Z [20:19:15 INF] REQUEST 6875a2d9: GET /api/users/6/tenants from 172.18.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TRV:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3E75TRV"}
boiler-gateway | 2025-08-22T20:19:15.412071873Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:19:15.412075673Z    Path: /api/users/6/tenants
boiler-gateway | 2025-08-22T20:19:15.412077773Z    Method: GET
boiler-gateway | 2025-08-22T20:19:15.412080573Z    Authorization Header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodH...
boiler-gateway | 2025-08-22T20:19:15.432530286Z ‚úÖ JWT Token Validated Successfully:
boiler-gateway | 2025-08-22T20:19:15.432568987Z    UserId: 6
boiler-gateway | 2025-08-22T20:19:15.432571387Z    Email: mccrearyforward@gmail.com
boiler-gateway | 2025-08-22T20:19:15.432573487Z    Issuer: AuthService
boiler-gateway | 2025-08-22T20:19:15.432575787Z    Audience: StarterApp
boiler-gateway | 2025-08-22T20:19:15.432577687Z    Claims Count: 11
boiler-gateway | 2025-08-22T20:19:15.433162202Z [20:19:15 WRN] ‚ö†Ô∏è No tenant ID found for authenticated request to /api/users/6/tenants {"SourceContext": "ApiGateway.Middleware.TenantResolutionMiddleware", "RequestId": "0HNF1N3E75TRV:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3E75TRV"}
boiler-gateway | 2025-08-22T20:19:15.448637590Z [20:19:15 INF] requestId: 0HNF1N3E75TRV:00000001, previousRequestId: No PreviousRequestId, message: 'The path '/api/users/6/tenants' is an authenticated route! AuthenticationMiddleware checking if client is authenticated...' {"SourceContext": "Ocelot.Authentication.Middleware.AuthenticationMiddleware", "RequestId": "0HNF1N3E75TRV:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3E75TRV"}
boiler-gateway | 2025-08-22T20:19:15.449367108Z [20:19:15 INF] requestId: 0HNF1N3E75TRV:00000001, previousRequestId: No PreviousRequestId, message: 'Client has been authenticated for path '/api/users/6/tenants' by 'AuthenticationTypes.Federation' scheme.' {"SourceContext": "Ocelot.Authentication.Middleware.AuthenticationMiddleware", "RequestId": "0HNF1N3E75TRV:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3E75TRV"}
boiler-gateway | 2025-08-22T20:19:15.449388808Z [20:19:15 INF] requestId: 0HNF1N3E75TRV:00000001, previousRequestId: No PreviousRequestId, message: 'route is authenticated scopes must be checked' {"SourceContext": "Ocelot.Authorization.Middleware.AuthorizationMiddleware", "RequestId": "0HNF1N3E75TRV:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3E75TRV"}
boiler-gateway | 2025-08-22T20:19:15.449637715Z [20:19:15 INF] requestId: 0HNF1N3E75TRV:00000001, previousRequestId: No PreviousRequestId, message: 'user scopes is authorized calling next authorization checks' {"SourceContext": "Ocelot.Authorization.Middleware.AuthorizationMiddleware", "RequestId": "0HNF1N3E75TRV:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3E75TRV"}
boiler-gateway | 2025-08-22T20:19:15.449661615Z [20:19:15 INF] requestId: 0HNF1N3E75TRV:00000001, previousRequestId: No PreviousRequestId, message: '/api/users/{everything} route does not require user to be authorized' {"SourceContext": "Ocelot.Authorization.Middleware.AuthorizationMiddleware", "RequestId": "0HNF1N3E75TRV:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3E75TRV"}
boiler-gateway | 2025-08-22T20:19:15.449993823Z [20:19:15 WRN] requestId: 0HNF1N3E75TRV:00000001, previousRequestId: No PreviousRequestId, message: 'You have ignored all SSL warnings by using DangerousAcceptAnyServerCertificateValidator for this DownstreamRoute, UpstreamPathTemplate: Ocelot.Values.UpstreamPathTemplate, DownstreamPathTemplate: /api/users/{everything}' {"SourceContext": "Ocelot.Requester.MessageInvokerPool", "RequestId": "0HNF1N3E75TRV:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3E75TRV"}
boiler-user |   | 2025-08-22T20:19:15.464459986Z [20:19:15 INF] üîç All request headers: Accept=application/json, text/plain, */*; Connection=close; Host=boiler-user:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Authorization=Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJtY2NyZWFyeWZvcndhcmRAZ21haWwuY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvZ2l2ZW5uYW1lIjoiSm9lIE1hZCBEb2ciLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zdXJuYW1lIjoiTWFjRGFkZHkiLCJzdWIiOiI2IiwiZW1haWwiOiJtY2NyZWFyeWZvcndhcmRAZ21haWwuY29tIiwianRpIjoiOWM3MWY1YmItYWMwOS00NDQyLWExOTMtMDAzMjRhMzRjM2I4IiwiaWF0IjoxNzU1ODkzOTU1LCJleHAiOjE3NTU4OTQ4NTUsImlzcyI6IkF1dGhTZXJ2aWNlIiwiYXVkIjoiU3RhcnRlckFwcCJ9.XkinDvJ5hHSP52HOnavL18jN7QA2GD8bv8G4eRDRhmI; Referer=https://localhost:3000/login; traceparent=00-4b44b3021f901de149c134f560c7a0a8-d2739c15e5e74745-00; X-Real-IP=172.18.0.1; X-Forwarded-For=172.18.0.1; X-Forwarded-Proto=https; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; Sec-Fetch-Site=same-origin; Sec-Fetch-Mode=cors; Sec-Fetch-Dest=empty; X-Forwarded-Authorization=Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJtY2NyZWFyeWZvcndhcmRAZ21haWwuY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvZ2l2ZW5uYW1lIjoiSm9lIE1hZCBEb2ciLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zdXJuYW1lIjoiTWFjRGFkZHkiLCJzdWIiOiI2IiwiZW1haWwiOiJtY2NyZWFyeWZvcndhcmRAZ21haWwuY29tIiwianRpIjoiOWM3MWY1YmItYWMwOS00NDQyLWExOTMtMDAzMjRhMzRjM2I4IiwiaWF0IjoxNzU1ODkzOTU1LCJleHAiOjE3NTU4OTQ4NTUsImlzcyI6IkF1dGhTZXJ2aWNlIiwiYXVkIjoiU3RhcnRlckFwcCJ9.XkinDvJ5hHSP52HOnavL18jN7QA2GD8bv8G4eRDRhmI; X-User-Context=eyJVc2VySWQiOm51bGwsIlRlbmFudElkIjpudWxsLCJSb2xlcyI6W10sIlBlcm1pc3Npb25zIjpbXSwiRW1haWwiOm51bGx9; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKU1:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3CFNKU1"}
boiler-user |   | 2025-08-22T20:19:15.464528188Z [20:19:15 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKU1:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3CFNKU1"}
boiler-user |   | 2025-08-22T20:19:15.517418413Z [20:19:15 DBG] Successfully validated the token. {"EventId": {"Id": 2, "Name": "TokenValidationSucceeded"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKU1:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3CFNKU1"}
boiler-user |   | 2025-08-22T20:19:15.517923826Z [20:19:15 DBG] AuthenticationScheme: Bearer was successfully authenticated. {"EventId": {"Id": 8, "Name": "AuthenticationSchemeAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKU1:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3CFNKU1"}
boiler-user |   | 2025-08-22T20:19:15.520318086Z [20:19:15 DBG] Authorization was successful. {"EventId": {"Id": 1, "Name": "UserAuthorizationSucceeded"}, "SourceContext": "Microsoft.AspNetCore.Authorization.DefaultAuthorizationService", "RequestId": "0HNF1N3CFNKU1:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3CFNKU1"}
boiler-user |   | 2025-08-22T20:19:15.622659450Z [20:19:15 INF] Found 15 tenants for user 6 (unfiltered by tenant context) {"SourceContext": "UserService.Controllers.UsersController", "ActionId": "43cbedd5-d394-41b2-9322-3adc2cc826bb", "ActionName": "UserService.Controllers.UsersController.GetUserTenants (UserService)", "RequestId": "0HNF1N3CFNKU1:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3CFNKU1"}
boiler-gateway | 2025-08-22T20:19:15.627861980Z [20:19:15 INF] requestId: 0HNF1N3E75TRV:00000001, previousRequestId: No PreviousRequestId, message: '200 (OK) status code of request URI: https://boiler-user:7002/api/users/6/tenants.' {"SourceContext": "Ocelot.Requester.Middleware.HttpRequesterMiddleware", "RequestId": "0HNF1N3E75TRV:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3E75TRV"}
boiler-user |   | 2025-08-22T20:19:15.631613074Z [20:19:15 INF] HTTP GET /api/users/6/tenants responded 200 in 169.8127 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:19:15.633271516Z [20:19:15 INF] RESPONSE 6875a2d9: 200 in 221ms | Size: Unknown {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TRV:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3E75TRV"}
boiler-gateway | 2025-08-22T20:19:15.633298317Z [20:19:15 INF] HTTP GET /api/users/6/tenants responded 200 in 221.5308 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TRV:00000001", "ConnectionId": "0HNF1N3E75TRV"}
boiler-frontend | 172.18.0.1 - - [22/Aug/2025:20:19:15 +0000] "GET /api/users/6/tenants HTTP/1.1" 200 666 "https://localhost:3000/login" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" "-"
boiler-gateway | 2025-08-22T20:19:19.315002242Z [20:19:19 INF] REQUEST 4ad309bf: POST /api/auth/switch-tenant from 172.18.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS0:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3E75TS0"}
boiler-gateway | 2025-08-22T20:19:19.315082344Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:19:19.315088245Z    Path: /api/auth/switch-tenant
boiler-gateway | 2025-08-22T20:19:19.315091545Z    Method: POST
boiler-gateway | 2025-08-22T20:19:19.315094645Z    Authorization Header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodH...
boiler-gateway | 2025-08-22T20:19:19.315781066Z ‚úÖ JWT Token Validated Successfully:
boiler-gateway | 2025-08-22T20:19:19.315854368Z    UserId: 6
boiler-gateway | 2025-08-22T20:19:19.315857668Z    Email: mccrearyforward@gmail.com
boiler-gateway | 2025-08-22T20:19:19.315859768Z    Issuer: AuthService
boiler-gateway | 2025-08-22T20:19:19.315861868Z    Audience: StarterApp
boiler-gateway | 2025-08-22T20:19:19.315863768Z    Claims Count: 11
boiler-gateway | 2025-08-22T20:19:19.315923570Z [20:19:19 WRN] ‚ö†Ô∏è No tenant ID found for authenticated request to /api/auth/switch-tenant {"SourceContext": "ApiGateway.Middleware.TenantResolutionMiddleware", "RequestId": "0HNF1N3E75TS0:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3E75TS0"}
boiler-gateway | 2025-08-22T20:19:19.318114237Z [20:19:19 INF] requestId: 0HNF1N3E75TS0:00000001, previousRequestId: No PreviousRequestId, message: 'The path '/api/auth/switch-tenant' is an authenticated route! AuthenticationMiddleware checking if client is authenticated...' {"SourceContext": "Ocelot.Authentication.Middleware.AuthenticationMiddleware", "RequestId": "0HNF1N3E75TS0:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3E75TS0"}
boiler-gateway | 2025-08-22T20:19:19.318198939Z [20:19:19 INF] requestId: 0HNF1N3E75TS0:00000001, previousRequestId: No PreviousRequestId, message: 'Client has been authenticated for path '/api/auth/switch-tenant' by 'AuthenticationTypes.Federation' scheme.' {"SourceContext": "Ocelot.Authentication.Middleware.AuthenticationMiddleware", "RequestId": "0HNF1N3E75TS0:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3E75TS0"}
boiler-gateway | 2025-08-22T20:19:19.318204539Z [20:19:19 INF] requestId: 0HNF1N3E75TS0:00000001, previousRequestId: No PreviousRequestId, message: 'route is authenticated scopes must be checked' {"SourceContext": "Ocelot.Authorization.Middleware.AuthorizationMiddleware", "RequestId": "0HNF1N3E75TS0:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3E75TS0"}
boiler-gateway | 2025-08-22T20:19:19.318208039Z [20:19:19 INF] requestId: 0HNF1N3E75TS0:00000001, previousRequestId: No PreviousRequestId, message: 'user scopes is authorized calling next authorization checks' {"SourceContext": "Ocelot.Authorization.Middleware.AuthorizationMiddleware", "RequestId": "0HNF1N3E75TS0:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3E75TS0"}
boiler-gateway | 2025-08-22T20:19:19.318211240Z [20:19:19 INF] requestId: 0HNF1N3E75TS0:00000001, previousRequestId: No PreviousRequestId, message: '/api/auth/{everything} route does not require user to be authorized' {"SourceContext": "Ocelot.Authorization.Middleware.AuthorizationMiddleware", "RequestId": "0HNF1N3E75TS0:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3E75TS0"}
boiler-gateway | 2025-08-22T20:19:19.318315243Z [20:19:19 WRN] requestId: 0HNF1N3E75TS0:00000001, previousRequestId: No PreviousRequestId, message: 'You have ignored all SSL warnings by using DangerousAcceptAnyServerCertificateValidator for this DownstreamRoute, UpstreamPathTemplate: Ocelot.Values.UpstreamPathTemplate, DownstreamPathTemplate: /api/auth/{everything}' {"SourceContext": "Ocelot.Requester.MessageInvokerPool", "RequestId": "0HNF1N3E75TS0:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3E75TS0"}
boiler-auth |   | 2025-08-22T20:19:19.369945512Z [20:19:19 INF] User 6 requesting to switch to tenant 1 {"SourceContext": "AuthService.Services.AuthServiceImplementation", "ActionId": "259c86a2-b3d7-482d-a013-b78a0b6bf2bd", "ActionName": "AuthService.Controllers.AuthController.SwitchTenant (AuthService)", "RequestId": "0HNF1N3CFMEQS:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3CFMEQS"}
boiler-auth |   | 2025-08-22T20:19:19.375931494Z [20:19:19 WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. {"EventId": {"Id": 20504, "Name": "Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"}, "SourceContext": "Microsoft.EntityFrameworkCore.Query", "ActionId": "259c86a2-b3d7-482d-a013-b78a0b6bf2bd", "ActionName": "AuthService.Controllers.AuthController.SwitchTenant (AuthService)", "RequestId": "0HNF1N3CFMEQS:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3CFMEQS"}
boiler-auth |   | 2025-08-22T20:19:19.398111568Z [20:19:19 WRN] User loaded. TenantUsers count: 15 {"SourceContext": "AuthService.Services.AuthServiceImplementation", "ActionId": "259c86a2-b3d7-482d-a013-b78a0b6bf2bd", "ActionName": "AuthService.Controllers.AuthController.SwitchTenant (AuthService)", "RequestId": "0HNF1N3CFMEQS:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3CFMEQS"}
boiler-auth |   | 2025-08-22T20:19:19.398151870Z [20:19:19 WRN] User has access to tenant 1: True {"SourceContext": "AuthService.Services.AuthServiceImplementation", "ActionId": "259c86a2-b3d7-482d-a013-b78a0b6bf2bd", "ActionName": "AuthService.Controllers.AuthController.SwitchTenant (AuthService)", "RequestId": "0HNF1N3CFMEQS:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3CFMEQS"}
boiler-auth |   | 2025-08-22T20:19:19.398155570Z [20:19:19 WRN] Loading tenant 1 from repository {"SourceContext": "AuthService.Services.AuthServiceImplementation", "ActionId": "259c86a2-b3d7-482d-a013-b78a0b6bf2bd", "ActionName": "AuthService.Controllers.AuthController.SwitchTenant (AuthService)", "RequestId": "0HNF1N3CFMEQS:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3CFMEQS"}
boiler-auth |   | 2025-08-22T20:19:19.413290930Z [20:19:19 WRN] Tenant loaded - ID: 1, Name: Default Tenant, IsActive: True {"SourceContext": "AuthService.Services.AuthServiceImplementation", "ActionId": "259c86a2-b3d7-482d-a013-b78a0b6bf2bd", "ActionName": "AuthService.Controllers.AuthController.SwitchTenant (AuthService)", "RequestId": "0HNF1N3CFMEQS:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3CFMEQS"}
boiler-auth |   | 2025-08-22T20:19:19.422792419Z [20:19:19 INF] üîç All request headers: Accept=application/json, text/plain, */*; Connection=close; Host=boiler-auth:7001; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Authorization=Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJtY2NyZWFyeWZvcndhcmRAZ21haWwuY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvZ2l2ZW5uYW1lIjoiSm9lIE1hZCBEb2ciLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zdXJuYW1lIjoiTWFjRGFkZHkiLCJzdWIiOiI2IiwiZW1haWwiOiJtY2NyZWFyeWZvcndhcmRAZ21haWwuY29tIiwianRpIjoiOWM3MWY1YmItYWMwOS00NDQyLWExOTMtMDAzMjRhMzRjM2I4IiwiaWF0IjoxNzU1ODkzOTU1LCJleHAiOjE3NTU4OTQ4NTUsImlzcyI6IkF1dGhTZXJ2aWNlIiwiYXVkIjoiU3RhcnRlckFwcCJ9.XkinDvJ5hHSP52HOnavL18jN7QA2GD8bv8G4eRDRhmI; Content-Type=application/json; Origin=https://localhost:3000; Referer=https://localhost:3000/login; traceparent=00-6c12619651bcd51a4ed74a07cde78657-e63fa93fbad6d348-00; Content-Length=14; X-Real-IP=172.18.0.1; X-Forwarded-For=172.18.0.1; X-Forwarded-Proto=https; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; Sec-Fetch-Site=same-origin; Sec-Fetch-Mode=cors; Sec-Fetch-Dest=empty; X-Forwarded-Authorization=Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJtY2NyZWFyeWZvcndhcmRAZ21haWwuY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvZ2l2ZW5uYW1lIjoiSm9lIE1hZCBEb2ciLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zdXJuYW1lIjoiTWFjRGFkZHkiLCJzdWIiOiI2IiwiZW1haWwiOiJtY2NyZWFyeWZvcndhcmRAZ21haWwuY29tIiwianRpIjoiOWM3MWY1YmItYWMwOS00NDQyLWExOTMtMDAzMjRhMzRjM2I4IiwiaWF0IjoxNzU1ODkzOTU1LCJleHAiOjE3NTU4OTQ4NTUsImlzcyI6IkF1dGhTZXJ2aWNlIiwiYXVkIjoiU3RhcnRlckFwcCJ9.XkinDvJ5hHSP52HOnavL18jN7QA2GD8bv8G4eRDRhmI; X-User-Context=eyJVc2VySWQiOm51bGwsIlRlbmFudElkIjpudWxsLCJSb2xlcyI6W10sIlBlcm1pc3Npb25zIjpbXSwiRW1haWwiOm51bGx9 {"SourceContext": "Common.Services.TenantProvider", "ActionId": "259c86a2-b3d7-482d-a013-b78a0b6bf2bd", "ActionName": "AuthService.Controllers.AuthController.SwitchTenant (AuthService)", "RequestId": "0HNF1N3CFMEQS:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3CFMEQS"}
boiler-auth |   | 2025-08-22T20:19:19.422881621Z [20:19:19 WRN] ‚ùå No tenant found in any headers: X-Tenant-Id, X-Tenant-ID, X-Tenant-ID {"SourceContext": "Common.Services.TenantProvider", "ActionId": "259c86a2-b3d7-482d-a013-b78a0b6bf2bd", "ActionName": "AuthService.Controllers.AuthController.SwitchTenant (AuthService)", "RequestId": "0HNF1N3CFMEQS:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3CFMEQS"}
boiler-auth |   | 2025-08-22T20:19:19.422889022Z [20:19:19 WRN] Could not resolve tenant from any source. Strategy: Header, IsAuthenticated: True {"SourceContext": "Common.Services.TenantProvider", "ActionId": "259c86a2-b3d7-482d-a013-b78a0b6bf2bd", "ActionName": "AuthService.Controllers.AuthController.SwitchTenant (AuthService)", "RequestId": "0HNF1N3CFMEQS:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3CFMEQS"}
boiler-auth |   | 2025-08-22T20:19:19.423131929Z [20:19:19 WRN] Failed to resolve tenant ID from any source {"SourceContext": "Common.Services.TenantProvider", "ActionId": "259c86a2-b3d7-482d-a013-b78a0b6bf2bd", "ActionName": "AuthService.Controllers.AuthController.SwitchTenant (AuthService)", "RequestId": "0HNF1N3CFMEQS:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3CFMEQS"}
boiler-auth |   | 2025-08-22T20:19:19.428602195Z [20:19:19 WRN] About to generate token with - User ID: 6, Tenant ID: 1, Tenant Name: Default Tenant {"SourceContext": "AuthService.Services.AuthServiceImplementation", "ActionId": "259c86a2-b3d7-482d-a013-b78a0b6bf2bd", "ActionName": "AuthService.Controllers.AuthController.SwitchTenant (AuthService)", "RequestId": "0HNF1N3CFMEQS:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3CFMEQS"}
boiler-auth |   | 2025-08-22T20:19:19.446319034Z [20:19:19 INF] üîç JWT: Found 1 active roles for user 6 in tenant 1 {"SourceContext": "AuthService.Services.EnhancedTokenService", "ActionId": "259c86a2-b3d7-482d-a013-b78a0b6bf2bd", "ActionName": "AuthService.Controllers.AuthController.SwitchTenant (AuthService)", "RequestId": "0HNF1N3CFMEQS:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3CFMEQS"}
boiler-auth |   | 2025-08-22T20:19:19.446361135Z [20:19:19 INF] üîç JWT: Added role claim 'Admin' for user 6 {"SourceContext": "AuthService.Services.EnhancedTokenService", "ActionId": "259c86a2-b3d7-482d-a013-b78a0b6bf2bd", "ActionName": "AuthService.Controllers.AuthController.SwitchTenant (AuthService)", "RequestId": "0HNF1N3CFMEQS:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3CFMEQS"}
boiler-auth |   | 2025-08-22T20:19:19.454770891Z [20:19:19 INF] üîç PERMISSION DEBUG: Getting permissions for user 6 in tenant 1 {"SourceContext": "Common.Services.PermissionService", "ActionId": "259c86a2-b3d7-482d-a013-b78a0b6bf2bd", "ActionName": "AuthService.Controllers.AuthController.SwitchTenant (AuthService)", "RequestId": "0HNF1N3CFMEQS:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3CFMEQS"}
boiler-auth |   | 2025-08-22T20:19:19.461099383Z [20:19:19 INF] üîç PERMISSION DEBUG: Found 1 active user roles for user 6 in tenant 1: 7 {"SourceContext": "Common.Services.PermissionService", "ActionId": "259c86a2-b3d7-482d-a013-b78a0b6bf2bd", "ActionName": "AuthService.Controllers.AuthController.SwitchTenant (AuthService)", "RequestId": "0HNF1N3CFMEQS:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3CFMEQS"}
boiler-auth |   | 2025-08-22T20:19:19.476463650Z [20:19:19 INF] üîç PERMISSION DEBUG: Found 35 role permissions for roles 7 {"SourceContext": "Common.Services.PermissionService", "ActionId": "259c86a2-b3d7-482d-a013-b78a0b6bf2bd", "ActionName": "AuthService.Controllers.AuthController.SwitchTenant (AuthService)", "RequestId": "0HNF1N3CFMEQS:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3CFMEQS"}
boiler-auth |   | 2025-08-22T20:19:19.487855197Z [20:19:19 INF] üîç PERMISSION DEBUG: Final permissions for user 6 in tenant 1: [permissions.delete, roles.create, reports.view, users.view_all, system.view_metrics, users.delete, tenants.view_all, users.view, tenants.create, billing.view_invoices, system.manage_backups, roles.assign_users, billing.view, billing.process_payments, roles.delete, tenants.edit, tenants.delete, users.manage_roles, billing.manage, roles.view, reports.schedule, permissions.manage, reports.export, users.edit, roles.manage_permissions, users.create, system.view_logs, roles.edit, permissions.view, tenants.view, permissions.create, tenants.manage_settings, system.manage_settings, reports.create, permissions.edit] {"SourceContext": "Common.Services.PermissionService", "ActionId": "259c86a2-b3d7-482d-a013-b78a0b6bf2bd", "ActionName": "AuthService.Controllers.AuthController.SwitchTenant (AuthService)", "RequestId": "0HNF1N3CFMEQS:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3CFMEQS"}
boiler-auth |   | 2025-08-22T20:19:19.487974800Z [20:19:19 INF] üîç JWT: Added 35 permissions to JWT for user 6 in tenant 1 {"SourceContext": "AuthService.Services.EnhancedTokenService", "ActionId": "259c86a2-b3d7-482d-a013-b78a0b6bf2bd", "ActionName": "AuthService.Controllers.AuthController.SwitchTenant (AuthService)", "RequestId": "0HNF1N3CFMEQS:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3CFMEQS"}
boiler-auth |   | 2025-08-22T20:19:19.488909729Z [20:19:19 INF] üîç JWT: Generated token for user 6 with 1 roles and 35 permissions {"SourceContext": "AuthService.Services.EnhancedTokenService", "ActionId": "259c86a2-b3d7-482d-a013-b78a0b6bf2bd", "ActionName": "AuthService.Controllers.AuthController.SwitchTenant (AuthService)", "RequestId": "0HNF1N3CFMEQS:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3CFMEQS"}
boiler-auth |   | 2025-08-22T20:19:19.490702083Z [20:19:19 INF] üîç All request headers: Accept=application/json, text/plain, */*; Connection=close; Host=boiler-auth:7001; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Authorization=Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJtY2NyZWFyeWZvcndhcmRAZ21haWwuY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvZ2l2ZW5uYW1lIjoiSm9lIE1hZCBEb2ciLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zdXJuYW1lIjoiTWFjRGFkZHkiLCJzdWIiOiI2IiwiZW1haWwiOiJtY2NyZWFyeWZvcndhcmRAZ21haWwuY29tIiwianRpIjoiOWM3MWY1YmItYWMwOS00NDQyLWExOTMtMDAzMjRhMzRjM2I4IiwiaWF0IjoxNzU1ODkzOTU1LCJleHAiOjE3NTU4OTQ4NTUsImlzcyI6IkF1dGhTZXJ2aWNlIiwiYXVkIjoiU3RhcnRlckFwcCJ9.XkinDvJ5hHSP52HOnavL18jN7QA2GD8bv8G4eRDRhmI; Content-Type=application/json; Origin=https://localhost:3000; Referer=https://localhost:3000/login; traceparent=00-6c12619651bcd51a4ed74a07cde78657-e63fa93fbad6d348-00; Content-Length=14; X-Real-IP=172.18.0.1; X-Forwarded-For=172.18.0.1; X-Forwarded-Proto=https; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; Sec-Fetch-Site=same-origin; Sec-Fetch-Mode=cors; Sec-Fetch-Dest=empty; X-Forwarded-Authorization=Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJtY2NyZWFyeWZvcndhcmRAZ21haWwuY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvZ2l2ZW5uYW1lIjoiSm9lIE1hZCBEb2ciLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zdXJuYW1lIjoiTWFjRGFkZHkiLCJzdWIiOiI2IiwiZW1haWwiOiJtY2NyZWFyeWZvcndhcmRAZ21haWwuY29tIiwianRpIjoiOWM3MWY1YmItYWMwOS00NDQyLWExOTMtMDAzMjRhMzRjM2I4IiwiaWF0IjoxNzU1ODkzOTU1LCJleHAiOjE3NTU4OTQ4NTUsImlzcyI6IkF1dGhTZXJ2aWNlIiwiYXVkIjoiU3RhcnRlckFwcCJ9.XkinDvJ5hHSP52HOnavL18jN7QA2GD8bv8G4eRDRhmI; X-User-Context=eyJVc2VySWQiOm51bGwsIlRlbmFudElkIjpudWxsLCJSb2xlcyI6W10sIlBlcm1pc3Npb25zIjpbXSwiRW1haWwiOm51bGx9 {"SourceContext": "Common.Services.TenantProvider", "ActionId": "259c86a2-b3d7-482d-a013-b78a0b6bf2bd", "ActionName": "AuthService.Controllers.AuthController.SwitchTenant (AuthService)", "RequestId": "0HNF1N3CFMEQS:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3CFMEQS"}
boiler-auth |   | 2025-08-22T20:19:19.490748084Z [20:19:19 WRN] ‚ùå No tenant found in any headers: X-Tenant-Id, X-Tenant-ID, X-Tenant-ID {"SourceContext": "Common.Services.TenantProvider", "ActionId": "259c86a2-b3d7-482d-a013-b78a0b6bf2bd", "ActionName": "AuthService.Controllers.AuthController.SwitchTenant (AuthService)", "RequestId": "0HNF1N3CFMEQS:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3CFMEQS"}
boiler-auth |   | 2025-08-22T20:19:19.490751485Z [20:19:19 WRN] Could not resolve tenant from any source. Strategy: Header, IsAuthenticated: True {"SourceContext": "Common.Services.TenantProvider", "ActionId": "259c86a2-b3d7-482d-a013-b78a0b6bf2bd", "ActionName": "AuthService.Controllers.AuthController.SwitchTenant (AuthService)", "RequestId": "0HNF1N3CFMEQS:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3CFMEQS"}
boiler-auth |   | 2025-08-22T20:19:19.490754685Z [20:19:19 WRN] Failed to resolve tenant ID from any source {"SourceContext": "Common.Services.TenantProvider", "ActionId": "259c86a2-b3d7-482d-a013-b78a0b6bf2bd", "ActionName": "AuthService.Controllers.AuthController.SwitchTenant (AuthService)", "RequestId": "0HNF1N3CFMEQS:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3CFMEQS"}
boiler-auth |   | 2025-08-22T20:19:19.503094360Z [20:19:19 WRN] Response DTOs created - UserDto.TenantId: 1, TenantDto.Id: 1, TenantDto.Name: Default Tenant {"SourceContext": "AuthService.Services.AuthServiceImplementation", "ActionId": "259c86a2-b3d7-482d-a013-b78a0b6bf2bd", "ActionName": "AuthService.Controllers.AuthController.SwitchTenant (AuthService)", "RequestId": "0HNF1N3CFMEQS:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3CFMEQS"}
boiler-auth |   | 2025-08-22T20:19:19.503173062Z [20:19:19 INF] User 6 successfully switched to tenant 1 (Default Tenant) {"SourceContext": "AuthService.Services.AuthServiceImplementation", "ActionId": "259c86a2-b3d7-482d-a013-b78a0b6bf2bd", "ActionName": "AuthService.Controllers.AuthController.SwitchTenant (AuthService)", "RequestId": "0HNF1N3CFMEQS:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3CFMEQS"}
boiler-auth |   | 2025-08-22T20:19:19.505422831Z [20:19:19 INF] HTTP POST /api/auth/switch-tenant responded 200 in 180.3823 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:19:19.506069250Z [20:19:19 INF] requestId: 0HNF1N3E75TS0:00000001, previousRequestId: No PreviousRequestId, message: '200 (OK) status code of request URI: https://boiler-auth:7001/api/auth/switch-tenant.' {"SourceContext": "Ocelot.Requester.Middleware.HttpRequesterMiddleware", "RequestId": "0HNF1N3E75TS0:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3E75TS0"}
boiler-gateway | 2025-08-22T20:19:19.506635167Z [20:19:19 INF] RESPONSE 4ad309bf: 200 in 192ms | Size: Unknown {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS0:00000001", "RequestPath": "/api/auth/switch-tenant", "ConnectionId": "0HNF1N3E75TS0"}
boiler-gateway | 2025-08-22T20:19:19.506692969Z [20:19:19 INF] HTTP POST /api/auth/switch-tenant responded 200 in 192.6769 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS0:00000001", "ConnectionId": "0HNF1N3E75TS0"}
boiler-frontend | 172.18.0.1 - - [22/Aug/2025:20:19:19 +0000] "POST /api/auth/switch-tenant HTTP/1.1" 200 1528 "https://localhost:3000/login" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" "-"
boiler-gateway | 2025-08-22T20:19:19.512550947Z [20:19:19 INF] REQUEST ec62ab31: GET /api/users/profile from 172.18.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS1:00000001", "RequestPath": "/api/users/profile", "ConnectionId": "0HNF1N3E75TS1"}
boiler-gateway | 2025-08-22T20:19:19.512630050Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:19:19.512633650Z    Path: /api/users/profile
boiler-gateway | 2025-08-22T20:19:19.512635750Z    Method: GET
boiler-gateway | 2025-08-22T20:19:19.512637750Z    Authorization Header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodH...
boiler-gateway | 2025-08-22T20:19:19.513582979Z ‚úÖ JWT Token Validated Successfully:
boiler-gateway | 2025-08-22T20:19:19.513600479Z    UserId: 6
boiler-gateway | 2025-08-22T20:19:19.513602979Z    Email: mccrearyforward@gmail.com
boiler-gateway | 2025-08-22T20:19:19.513605179Z    Issuer: AuthService
boiler-gateway | 2025-08-22T20:19:19.513607579Z    Audience: StarterApp
boiler-gateway | 2025-08-22T20:19:19.513609379Z    Claims Count: 50
boiler-gateway | 2025-08-22T20:19:19.513999091Z [20:19:19 INF] ‚úÖ Tenant resolved: 1 from jwt-claim {"SourceContext": "ApiGateway.Middleware.TenantResolutionMiddleware", "RequestId": "0HNF1N3E75TS1:00000001", "RequestPath": "/api/users/profile", "ConnectionId": "0HNF1N3E75TS1"}
boiler-gateway | 2025-08-22T20:19:19.515432635Z [20:19:19 INF] requestId: 0HNF1N3E75TS1:00000001, previousRequestId: No PreviousRequestId, message: 'The path '/api/users/profile' is an authenticated route! AuthenticationMiddleware checking if client is authenticated...' {"SourceContext": "Ocelot.Authentication.Middleware.AuthenticationMiddleware", "RequestId": "0HNF1N3E75TS1:00000001", "RequestPath": "/api/users/profile", "ConnectionId": "0HNF1N3E75TS1"}
boiler-gateway | 2025-08-22T20:19:19.515456936Z [20:19:19 INF] requestId: 0HNF1N3E75TS1:00000001, previousRequestId: No PreviousRequestId, message: 'Client has been authenticated for path '/api/users/profile' by 'AuthenticationTypes.Federation' scheme.' {"SourceContext": "Ocelot.Authentication.Middleware.AuthenticationMiddleware", "RequestId": "0HNF1N3E75TS1:00000001", "RequestPath": "/api/users/profile", "ConnectionId": "0HNF1N3E75TS1"}
boiler-gateway | 2025-08-22T20:19:19.515459736Z [20:19:19 INF] requestId: 0HNF1N3E75TS1:00000001, previousRequestId: No PreviousRequestId, message: 'route is authenticated scopes must be checked' {"SourceContext": "Ocelot.Authorization.Middleware.AuthorizationMiddleware", "RequestId": "0HNF1N3E75TS1:00000001", "RequestPath": "/api/users/profile", "ConnectionId": "0HNF1N3E75TS1"}
boiler-gateway | 2025-08-22T20:19:19.515462236Z [20:19:19 INF] requestId: 0HNF1N3E75TS1:00000001, previousRequestId: No PreviousRequestId, message: 'user scopes is authorized calling next authorization checks' {"SourceContext": "Ocelot.Authorization.Middleware.AuthorizationMiddleware", "RequestId": "0HNF1N3E75TS1:00000001", "RequestPath": "/api/users/profile", "ConnectionId": "0HNF1N3E75TS1"}
boiler-gateway | 2025-08-22T20:19:19.515464736Z [20:19:19 INF] requestId: 0HNF1N3E75TS1:00000001, previousRequestId: No PreviousRequestId, message: '/api/users/{everything} route does not require user to be authorized' {"SourceContext": "Ocelot.Authorization.Middleware.AuthorizationMiddleware", "RequestId": "0HNF1N3E75TS1:00000001", "RequestPath": "/api/users/profile", "ConnectionId": "0HNF1N3E75TS1"}
boiler-user |   | 2025-08-22T20:19:19.522457148Z [20:19:19 INF] üîç All request headers: Accept=application/json, text/plain, */*; Connection=close; Host=boiler-user:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Authorization=Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJtY2NyZWFyeWZvcndhcmRAZ21haWwuY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvZ2l2ZW5uYW1lIjoiSm9lIE1hZCBEb2ciLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zdXJuYW1lIjoiTWFjRGFkZHkiLCJ0ZW5hbnRfaWQiOiIxIiwidGVuYW50X25hbWUiOiJEZWZhdWx0IFRlbmFudCIsInRlbmFudF9kb21haW4iOiJsb2NhbGhvc3QiLCJzdWIiOiI2IiwiZW1haWwiOiJtY2NyZWFyeWZvcndhcmRAZ21haWwuY29tIiwianRpIjoiNGQxMWRkY2QtMTdhNS00ZTlmLWI0YjctYmU3NjQ4Y2VjMzZmIiwiaWF0IjoxNzU1ODkzOTU5LCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJBZG1pbiIsInBlcm1pc3Npb24iOlsicGVybWlzc2lvbnMuZGVsZXRlIiwicm9sZXMuY3JlYXRlIiwicmVwb3J0cy52aWV3IiwidXNlcnMudmlld19hbGwiLCJzeXN0ZW0udmlld19tZXRyaWNzIiwidXNlcnMuZGVsZXRlIiwidGVuYW50cy52aWV3X2FsbCIsInVzZXJzLnZpZXciLCJ0ZW5hbnRzLmNyZWF0ZSIsImJpbGxpbmcudmlld19pbnZvaWNlcyIsInN5c3RlbS5tYW5hZ2VfYmFja3VwcyIsInJvbGVzLmFzc2lnbl91c2VycyIsImJpbGxpbmcudmlldyIsImJpbGxpbmcucHJvY2Vzc19wYXltZW50cyIsInJvbGVzLmRlbGV0ZSIsInRlbmFudHMuZWRpdCIsInRlbmFudHMuZGVsZXRlIiwidXNlcnMubWFuYWdlX3JvbGVzIiwiYmlsbGluZy5tYW5hZ2UiLCJyb2xlcy52aWV3IiwicmVwb3J0cy5zY2hlZHVsZSIsInBlcm1pc3Npb25zLm1hbmFnZSIsInJlcG9ydHMuZXhwb3J0IiwidXNlcnMuZWRpdCIsInJvbGVzLm1hbmFnZV9wZXJtaXNzaW9ucyIsInVzZXJzLmNyZWF0ZSIsInN5c3RlbS52aWV3X2xvZ3MiLCJyb2xlcy5lZGl0IiwicGVybWlzc2lvbnMudmlldyIsInRlbmFudHMudmlldyIsInBlcm1pc3Npb25zLmNyZWF0ZSIsInRlbmFudHMubWFuYWdlX3NldHRpbmdzIiwic3lzdGVtLm1hbmFnZV9zZXR0aW5ncyIsInJlcG9ydHMuY3JlYXRlIiwicGVybWlzc2lvbnMuZWRpdCJdLCJleHAiOjE3NTU4OTc1NTksImlzcyI6IkF1dGhTZXJ2aWNlIiwiYXVkIjoiU3RhcnRlckFwcCJ9.8_dJdtl0KvanAIncm4OTpN6AbXl4ow1mSa3QCkVcCFQ; Referer=https://localhost:3000/login; traceparent=00-40a26bdddde6fe1171a1d9e853e38336-87fc3569ea17939a-00; X-Real-IP=172.18.0.1; X-Forwarded-For=172.18.0.1; X-Forwarded-Proto=https; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; Sec-Fetch-Site=same-origin; Sec-Fetch-Mode=cors; Sec-Fetch-Dest=empty; X-Tenant-ID=1; X-Forwarded-Authorization=Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJtY2NyZWFyeWZvcndhcmRAZ21haWwuY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvZ2l2ZW5uYW1lIjoiSm9lIE1hZCBEb2ciLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zdXJuYW1lIjoiTWFjRGFkZHkiLCJ0ZW5hbnRfaWQiOiIxIiwidGVuYW50X25hbWUiOiJEZWZhdWx0IFRlbmFudCIsInRlbmFudF9kb21haW4iOiJsb2NhbGhvc3QiLCJzdWIiOiI2IiwiZW1haWwiOiJtY2NyZWFyeWZvcndhcmRAZ21haWwuY29tIiwianRpIjoiNGQxMWRkY2QtMTdhNS00ZTlmLWI0YjctYmU3NjQ4Y2VjMzZmIiwiaWF0IjoxNzU1ODkzOTU5LCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJBZG1pbiIsInBlcm1pc3Npb24iOlsicGVybWlzc2lvbnMuZGVsZXRlIiwicm9sZXMuY3JlYXRlIiwicmVwb3J0cy52aWV3IiwidXNlcnMudmlld19hbGwiLCJzeXN0ZW0udmlld19tZXRyaWNzIiwidXNlcnMuZGVsZXRlIiwidGVuYW50cy52aWV3X2FsbCIsInVzZXJzLnZpZXciLCJ0ZW5hbnRzLmNyZWF0ZSIsImJpbGxpbmcudmlld19pbnZvaWNlcyIsInN5c3RlbS5tYW5hZ2VfYmFja3VwcyIsInJvbGVzLmFzc2lnbl91c2VycyIsImJpbGxpbmcudmlldyIsImJpbGxpbmcucHJvY2Vzc19wYXltZW50cyIsInJvbGVzLmRlbGV0ZSIsInRlbmFudHMuZWRpdCIsInRlbmFudHMuZGVsZXRlIiwidXNlcnMubWFuYWdlX3JvbGVzIiwiYmlsbGluZy5tYW5hZ2UiLCJyb2xlcy52aWV3IiwicmVwb3J0cy5zY2hlZHVsZSIsInBlcm1pc3Npb25zLm1hbmFnZSIsInJlcG9ydHMuZXhwb3J0IiwidXNlcnMuZWRpdCIsInJvbGVzLm1hbmFnZV9wZXJtaXNzaW9ucyIsInVzZXJzLmNyZWF0ZSIsInN5c3RlbS52aWV3X2xvZ3MiLCJyb2xlcy5lZGl0IiwicGVybWlzc2lvbnMudmlldyIsInRlbmFudHMudmlldyIsInBlcm1pc3Npb25zLmNyZWF0ZSIsInRlbmFudHMubWFuYWdlX3NldHRpbmdzIiwic3lzdGVtLm1hbmFnZV9zZXR0aW5ncyIsInJlcG9ydHMuY3JlYXRlIiwicGVybWlzc2lvbnMuZWRpdCJdLCJleHAiOjE3NTU4OTc1NTksImlzcyI6IkF1dGhTZXJ2aWNlIiwiYXVkIjoiU3RhcnRlckFwcCJ9.8_dJdtl0KvanAIncm4OTpN6AbXl4ow1mSa3QCkVcCFQ; X-User-Context=eyJVc2VySWQiOm51bGwsIlRlbmFudElkIjoiMSIsIlJvbGVzIjpbXSwiUGVybWlzc2lvbnMiOlsicGVybWlzc2lvbnMuZGVsZXRlIiwicm9sZXMuY3JlYXRlIiwicmVwb3J0cy52aWV3IiwidXNlcnMudmlld19hbGwiLCJzeXN0ZW0udmlld19tZXRyaWNzIiwidXNlcnMuZGVsZXRlIiwidGVuYW50cy52aWV3X2FsbCIsInVzZXJzLnZpZXciLCJ0ZW5hbnRzLmNyZWF0ZSIsImJpbGxpbmcudmlld19pbnZvaWNlcyIsInN5c3RlbS5tYW5hZ2VfYmFja3VwcyIsInJvbGVzLmFzc2lnbl91c2VycyIsImJpbGxpbmcudmlldyIsImJpbGxpbmcucHJvY2Vzc19wYXltZW50cyIsInJvbGVzLmRlbGV0ZSIsInRlbmFudHMuZWRpdCIsInRlbmFudHMuZGVsZXRlIiwidXNlcnMubWFuYWdlX3JvbGVzIiwiYmlsbGluZy5tYW5hZ2UiLCJyb2xlcy52aWV3IiwicmVwb3J0cy5zY2hlZHVsZSIsInBlcm1pc3Npb25zLm1hbmFnZSIsInJlcG9ydHMuZXhwb3J0IiwidXNlcnMuZWRpdCIsInJvbGVzLm1hbmFnZV9wZXJtaXNzaW9ucyIsInVzZXJzLmNyZWF0ZSIsInN5c3RlbS52aWV3X2xvZ3MiLCJyb2xlcy5lZGl0IiwicGVybWlzc2lvbnMudmlldyIsInRlbmFudHMudmlldyIsInBlcm1pc3Npb25zLmNyZWF0ZSIsInRlbmFudHMubWFuYWdlX3NldHRpbmdzIiwic3lzdGVtLm1hbmFnZV9zZXR0aW5ncyIsInJlcG9ydHMuY3JlYXRlIiwicGVybWlzc2lvbnMuZWRpdCJdLCJFbWFpbCI6bnVsbH0=; X-Tenant-Context=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKU2:00000001", "RequestPath": "/api/users/profile", "ConnectionId": "0HNF1N3CFNKU2"}
boiler-user |   | 2025-08-22T20:19:19.522859261Z [20:19:19 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKU2:00000001", "RequestPath": "/api/users/profile", "ConnectionId": "0HNF1N3CFNKU2"}
boiler-user |   | 2025-08-22T20:19:19.528366728Z [20:19:19 DBG] Successfully validated the token. {"EventId": {"Id": 2, "Name": "TokenValidationSucceeded"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKU2:00000001", "RequestPath": "/api/users/profile", "ConnectionId": "0HNF1N3CFNKU2"}
boiler-user |   | 2025-08-22T20:19:19.528705338Z [20:19:19 DBG] AuthenticationScheme: Bearer was successfully authenticated. {"EventId": {"Id": 8, "Name": "AuthenticationSchemeAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKU2:00000001", "RequestPath": "/api/users/profile", "ConnectionId": "0HNF1N3CFNKU2"}
boiler-user |   | 2025-08-22T20:19:19.530115681Z [20:19:19 DBG] Authorization was successful. {"EventId": {"Id": 1, "Name": "UserAuthorizationSucceeded"}, "SourceContext": "Microsoft.AspNetCore.Authorization.DefaultAuthorizationService", "RequestId": "0HNF1N3CFNKU2:00000001", "RequestPath": "/api/users/profile", "ConnectionId": "0HNF1N3CFNKU2"}
boiler-user |   | 2025-08-22T20:19:19.572872181Z [20:19:19 WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'. {"EventId": {"Id": 20504, "Name": "Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"}, "SourceContext": "Microsoft.EntityFrameworkCore.Query", "ActionId": "b0be8616-5892-4409-b503-0750014b6ee9", "ActionName": "UserService.Controllers.UsersController.GetCurrentUserProfile (UserService)", "RequestId": "0HNF1N3CFNKU2:00000001", "RequestPath": "/api/users/profile", "ConnectionId": "0HNF1N3CFNKU2"}
boiler-user |   | 2025-08-22T20:19:19.643102616Z [20:19:19 INF] User 6 successfully accessed profile in tenant 1 {"SourceContext": "UserService.Services.UserProfileService", "ActionId": "b0be8616-5892-4409-b503-0750014b6ee9", "ActionName": "UserService.Controllers.UsersController.GetCurrentUserProfile (UserService)", "RequestId": "0HNF1N3CFNKU2:00000001", "RequestPath": "/api/users/profile", "ConnectionId": "0HNF1N3CFNKU2"}
boiler-gateway | 2025-08-22T20:19:19.650220132Z [20:19:19 INF] requestId: 0HNF1N3E75TS1:00000001, previousRequestId: No PreviousRequestId, message: '200 (OK) status code of request URI: https://boiler-user:7002/api/users/profile.' {"SourceContext": "Ocelot.Requester.Middleware.HttpRequesterMiddleware", "RequestId": "0HNF1N3E75TS1:00000001", "RequestPath": "/api/users/profile", "ConnectionId": "0HNF1N3E75TS1"}
boiler-user |   | 2025-08-22T20:19:19.651001156Z [20:19:19 INF] HTTP GET /api/users/profile responded 200 in 128.6983 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:19:19.651976386Z [20:19:19 INF] RESPONSE ec62ab31: 200 in 139ms | Size: Unknown {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS1:00000001", "RequestPath": "/api/users/profile", "ConnectionId": "0HNF1N3E75TS1"}
boiler-gateway | 2025-08-22T20:19:19.652013587Z [20:19:19 INF] HTTP GET /api/users/profile responded 200 in 139.6070 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS1:00000001", "ConnectionId": "0HNF1N3E75TS1"}
boiler-frontend | 172.18.0.1 - - [22/Aug/2025:20:19:19 +0000] "GET /api/users/profile HTTP/1.1" 200 313 "https://localhost:3000/login" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" "-"
boiler-gateway | 2025-08-22T20:19:19.659254407Z [20:19:19 INF] REQUEST dec81fcd: GET /api/tenants/1/settings from 172.18.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS2:00000001", "RequestPath": "/api/tenants/1/settings", "ConnectionId": "0HNF1N3E75TS2"}
boiler-gateway | 2025-08-22T20:19:19.659307408Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:19:19.659311009Z    Path: /api/tenants/1/settings
boiler-gateway | 2025-08-22T20:19:19.659313109Z    Method: GET
boiler-gateway | 2025-08-22T20:19:19.659315009Z    Authorization Header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodH...
boiler-gateway | 2025-08-22T20:19:19.659497314Z ‚úÖ JWT Token Validated Successfully:
boiler-gateway | 2025-08-22T20:19:19.659504714Z    UserId: 6
boiler-gateway | 2025-08-22T20:19:19.659507115Z    Email: mccrearyforward@gmail.com
boiler-gateway | 2025-08-22T20:19:19.659509115Z    Issuer: AuthService
boiler-gateway | 2025-08-22T20:19:19.659511115Z    Audience: StarterApp
boiler-gateway | 2025-08-22T20:19:19.659513115Z    Claims Count: 50
boiler-gateway | 2025-08-22T20:19:19.659515615Z [20:19:19 INF] ‚úÖ Tenant resolved: 1 from jwt-claim {"SourceContext": "ApiGateway.Middleware.TenantResolutionMiddleware", "RequestId": "0HNF1N3E75TS2:00000001", "RequestPath": "/api/tenants/1/settings", "ConnectionId": "0HNF1N3E75TS2"}
boiler-gateway | 2025-08-22T20:19:19.659932528Z [20:19:19 INF] requestId: 0HNF1N3E75TS2:00000001, previousRequestId: No PreviousRequestId, message: 'The path '/api/tenants/1/settings' is an authenticated route! AuthenticationMiddleware checking if client is authenticated...' {"SourceContext": "Ocelot.Authentication.Middleware.AuthenticationMiddleware", "RequestId": "0HNF1N3E75TS2:00000001", "RequestPath": "/api/tenants/1/settings", "ConnectionId": "0HNF1N3E75TS2"}
boiler-gateway | 2025-08-22T20:19:19.659939728Z [20:19:19 INF] requestId: 0HNF1N3E75TS2:00000001, previousRequestId: No PreviousRequestId, message: 'Client has been authenticated for path '/api/tenants/1/settings' by 'AuthenticationTypes.Federation' scheme.' {"SourceContext": "Ocelot.Authentication.Middleware.AuthenticationMiddleware", "RequestId": "0HNF1N3E75TS2:00000001", "RequestPath": "/api/tenants/1/settings", "ConnectionId": "0HNF1N3E75TS2"}
boiler-gateway | 2025-08-22T20:19:19.659942528Z [20:19:19 INF] requestId: 0HNF1N3E75TS2:00000001, previousRequestId: No PreviousRequestId, message: 'route is authenticated scopes must be checked' {"SourceContext": "Ocelot.Authorization.Middleware.AuthorizationMiddleware", "RequestId": "0HNF1N3E75TS2:00000001", "RequestPath": "/api/tenants/1/settings", "ConnectionId": "0HNF1N3E75TS2"}
boiler-gateway | 2025-08-22T20:19:19.659945328Z [20:19:19 INF] requestId: 0HNF1N3E75TS2:00000001, previousRequestId: No PreviousRequestId, message: 'user scopes is authorized calling next authorization checks' {"SourceContext": "Ocelot.Authorization.Middleware.AuthorizationMiddleware", "RequestId": "0HNF1N3E75TS2:00000001", "RequestPath": "/api/tenants/1/settings", "ConnectionId": "0HNF1N3E75TS2"}
boiler-gateway | 2025-08-22T20:19:19.660160734Z [20:19:19 INF] requestId: 0HNF1N3E75TS2:00000001, previousRequestId: No PreviousRequestId, message: '/api/tenants/{everything} route does not require user to be authorized' {"SourceContext": "Ocelot.Authorization.Middleware.AuthorizationMiddleware", "RequestId": "0HNF1N3E75TS2:00000001", "RequestPath": "/api/tenants/1/settings", "ConnectionId": "0HNF1N3E75TS2"}
boiler-gateway | 2025-08-22T20:19:19.660167935Z [20:19:19 WRN] requestId: 0HNF1N3E75TS2:00000001, previousRequestId: No PreviousRequestId, message: 'You have ignored all SSL warnings by using DangerousAcceptAnyServerCertificateValidator for this DownstreamRoute, UpstreamPathTemplate: Ocelot.Values.UpstreamPathTemplate, DownstreamPathTemplate: /api/tenants/{everything}' {"SourceContext": "Ocelot.Requester.MessageInvokerPool", "RequestId": "0HNF1N3E75TS2:00000001", "RequestPath": "/api/tenants/1/settings", "ConnectionId": "0HNF1N3E75TS2"}
boiler-gateway | 2025-08-22T20:19:19.661359671Z [20:19:19 INF] REQUEST 47e53f72: GET /api/users/6/tenants from 172.18.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS3:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3E75TS3"}
boiler-gateway | 2025-08-22T20:19:19.661409072Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:19:19.661412772Z    Path: /api/users/6/tenants
boiler-gateway | 2025-08-22T20:19:19.661414873Z    Method: GET
boiler-gateway | 2025-08-22T20:19:19.661416873Z    Authorization Header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodH...
boiler-gateway | 2025-08-22T20:19:19.662101293Z ‚úÖ JWT Token Validated Successfully:
boiler-gateway | 2025-08-22T20:19:19.662111894Z    UserId: 6
boiler-gateway | 2025-08-22T20:19:19.662114194Z    Email: mccrearyforward@gmail.com
boiler-gateway | 2025-08-22T20:19:19.662116494Z    Issuer: AuthService
boiler-gateway | 2025-08-22T20:19:19.662118594Z    Audience: StarterApp
boiler-gateway | 2025-08-22T20:19:19.662120894Z    Claims Count: 50
boiler-gateway | 2025-08-22T20:19:19.662122894Z [20:19:19 INF] ‚úÖ Tenant resolved: 1 from jwt-claim {"SourceContext": "ApiGateway.Middleware.TenantResolutionMiddleware", "RequestId": "0HNF1N3E75TS3:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3E75TS3"}
boiler-gateway | 2025-08-22T20:19:19.662790714Z [20:19:19 INF] requestId: 0HNF1N3E75TS3:00000001, previousRequestId: No PreviousRequestId, message: 'The path '/api/users/6/tenants' is an authenticated route! AuthenticationMiddleware checking if client is authenticated...' {"SourceContext": "Ocelot.Authentication.Middleware.AuthenticationMiddleware", "RequestId": "0HNF1N3E75TS3:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3E75TS3"}
boiler-gateway | 2025-08-22T20:19:19.662819915Z [20:19:19 INF] requestId: 0HNF1N3E75TS3:00000001, previousRequestId: No PreviousRequestId, message: 'Client has been authenticated for path '/api/users/6/tenants' by 'AuthenticationTypes.Federation' scheme.' {"SourceContext": "Ocelot.Authentication.Middleware.AuthenticationMiddleware", "RequestId": "0HNF1N3E75TS3:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3E75TS3"}
boiler-gateway | 2025-08-22T20:19:19.662822915Z [20:19:19 INF] requestId: 0HNF1N3E75TS3:00000001, previousRequestId: No PreviousRequestId, message: 'route is authenticated scopes must be checked' {"SourceContext": "Ocelot.Authorization.Middleware.AuthorizationMiddleware", "RequestId": "0HNF1N3E75TS3:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3E75TS3"}
boiler-gateway | 2025-08-22T20:19:19.662859116Z [20:19:19 INF] requestId: 0HNF1N3E75TS3:00000001, previousRequestId: No PreviousRequestId, message: 'user scopes is authorized calling next authorization checks' {"SourceContext": "Ocelot.Authorization.Middleware.AuthorizationMiddleware", "RequestId": "0HNF1N3E75TS3:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3E75TS3"}
boiler-gateway | 2025-08-22T20:19:19.662862417Z [20:19:19 INF] requestId: 0HNF1N3E75TS3:00000001, previousRequestId: No PreviousRequestId, message: '/api/users/{everything} route does not require user to be authorized' {"SourceContext": "Ocelot.Authorization.Middleware.AuthorizationMiddleware", "RequestId": "0HNF1N3E75TS3:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3E75TS3"}
boiler-user |   | 2025-08-22T20:19:19.667281251Z [20:19:19 DBG] Successfully validated the token. {"EventId": {"Id": 2, "Name": "TokenValidationSucceeded"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKU3:00000001", "RequestPath": "/api/tenants/1/settings", "ConnectionId": "0HNF1N3CFNKU3"}
boiler-user |   | 2025-08-22T20:19:19.667315952Z [20:19:19 DBG] AuthenticationScheme: Bearer was successfully authenticated. {"EventId": {"Id": 8, "Name": "AuthenticationSchemeAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKU3:00000001", "RequestPath": "/api/tenants/1/settings", "ConnectionId": "0HNF1N3CFNKU3"}
boiler-user |   | 2025-08-22T20:19:19.668465087Z [20:19:19 INF] HTTP GET /api/tenants/1/settings responded 404 in 3.4776 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:19:19.669538520Z [20:19:19 WRN] requestId: 0HNF1N3E75TS2:00000001, previousRequestId: No PreviousRequestId, message: '404 (Not Found) status code of request URI: https://boiler-user:7002/api/tenants/1/settings.' {"SourceContext": "Ocelot.Requester.Middleware.HttpRequesterMiddleware", "RequestId": "0HNF1N3E75TS2:00000001", "RequestPath": "/api/tenants/1/settings", "ConnectionId": "0HNF1N3E75TS2"}
boiler-user |   | 2025-08-22T20:19:19.669444317Z [20:19:19 INF] üîç All request headers: Accept=application/json, text/plain, */*; Connection=close; Host=boiler-user:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Authorization=Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJtY2NyZWFyeWZvcndhcmRAZ21haWwuY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvZ2l2ZW5uYW1lIjoiSm9lIE1hZCBEb2ciLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zdXJuYW1lIjoiTWFjRGFkZHkiLCJ0ZW5hbnRfaWQiOiIxIiwidGVuYW50X25hbWUiOiJEZWZhdWx0IFRlbmFudCIsInRlbmFudF9kb21haW4iOiJsb2NhbGhvc3QiLCJzdWIiOiI2IiwiZW1haWwiOiJtY2NyZWFyeWZvcndhcmRAZ21haWwuY29tIiwianRpIjoiNGQxMWRkY2QtMTdhNS00ZTlmLWI0YjctYmU3NjQ4Y2VjMzZmIiwiaWF0IjoxNzU1ODkzOTU5LCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJBZG1pbiIsInBlcm1pc3Npb24iOlsicGVybWlzc2lvbnMuZGVsZXRlIiwicm9sZXMuY3JlYXRlIiwicmVwb3J0cy52aWV3IiwidXNlcnMudmlld19hbGwiLCJzeXN0ZW0udmlld19tZXRyaWNzIiwidXNlcnMuZGVsZXRlIiwidGVuYW50cy52aWV3X2FsbCIsInVzZXJzLnZpZXciLCJ0ZW5hbnRzLmNyZWF0ZSIsImJpbGxpbmcudmlld19pbnZvaWNlcyIsInN5c3RlbS5tYW5hZ2VfYmFja3VwcyIsInJvbGVzLmFzc2lnbl91c2VycyIsImJpbGxpbmcudmlldyIsImJpbGxpbmcucHJvY2Vzc19wYXltZW50cyIsInJvbGVzLmRlbGV0ZSIsInRlbmFudHMuZWRpdCIsInRlbmFudHMuZGVsZXRlIiwidXNlcnMubWFuYWdlX3JvbGVzIiwiYmlsbGluZy5tYW5hZ2UiLCJyb2xlcy52aWV3IiwicmVwb3J0cy5zY2hlZHVsZSIsInBlcm1pc3Npb25zLm1hbmFnZSIsInJlcG9ydHMuZXhwb3J0IiwidXNlcnMuZWRpdCIsInJvbGVzLm1hbmFnZV9wZXJtaXNzaW9ucyIsInVzZXJzLmNyZWF0ZSIsInN5c3RlbS52aWV3X2xvZ3MiLCJyb2xlcy5lZGl0IiwicGVybWlzc2lvbnMudmlldyIsInRlbmFudHMudmlldyIsInBlcm1pc3Npb25zLmNyZWF0ZSIsInRlbmFudHMubWFuYWdlX3NldHRpbmdzIiwic3lzdGVtLm1hbmFnZV9zZXR0aW5ncyIsInJlcG9ydHMuY3JlYXRlIiwicGVybWlzc2lvbnMuZWRpdCJdLCJleHAiOjE3NTU4OTc1NTksImlzcyI6IkF1dGhTZXJ2aWNlIiwiYXVkIjoiU3RhcnRlckFwcCJ9.8_dJdtl0KvanAIncm4OTpN6AbXl4ow1mSa3QCkVcCFQ; Referer=https://localhost:3000/login; traceparent=00-14c7051eac5d7559561aa08eb27b9c76-56760a3431ad3483-00; X-Real-IP=172.18.0.1; X-Forwarded-For=172.18.0.1; X-Forwarded-Proto=https; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; Sec-Fetch-Site=same-origin; Sec-Fetch-Mode=cors; Sec-Fetch-Dest=empty; X-Tenant-ID=1; X-Forwarded-Authorization=Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjYiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJtY2NyZWFyeWZvcndhcmRAZ21haWwuY29tIiwiaHR0cDovL3NjaGVtYXMueG1sc29hcC5vcmcvd3MvMjAwNS8wNS9pZGVudGl0eS9jbGFpbXMvZ2l2ZW5uYW1lIjoiSm9lIE1hZCBEb2ciLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9zdXJuYW1lIjoiTWFjRGFkZHkiLCJ0ZW5hbnRfaWQiOiIxIiwidGVuYW50X25hbWUiOiJEZWZhdWx0IFRlbmFudCIsInRlbmFudF9kb21haW4iOiJsb2NhbGhvc3QiLCJzdWIiOiI2IiwiZW1haWwiOiJtY2NyZWFyeWZvcndhcmRAZ21haWwuY29tIiwianRpIjoiNGQxMWRkY2QtMTdhNS00ZTlmLWI0YjctYmU3NjQ4Y2VjMzZmIiwiaWF0IjoxNzU1ODkzOTU5LCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3JvbGUiOiJBZG1pbiIsInBlcm1pc3Npb24iOlsicGVybWlzc2lvbnMuZGVsZXRlIiwicm9sZXMuY3JlYXRlIiwicmVwb3J0cy52aWV3IiwidXNlcnMudmlld19hbGwiLCJzeXN0ZW0udmlld19tZXRyaWNzIiwidXNlcnMuZGVsZXRlIiwidGVuYW50cy52aWV3X2FsbCIsInVzZXJzLnZpZXciLCJ0ZW5hbnRzLmNyZWF0ZSIsImJpbGxpbmcudmlld19pbnZvaWNlcyIsInN5c3RlbS5tYW5hZ2VfYmFja3VwcyIsInJvbGVzLmFzc2lnbl91c2VycyIsImJpbGxpbmcudmlldyIsImJpbGxpbmcucHJvY2Vzc19wYXltZW50cyIsInJvbGVzLmRlbGV0ZSIsInRlbmFudHMuZWRpdCIsInRlbmFudHMuZGVsZXRlIiwidXNlcnMubWFuYWdlX3JvbGVzIiwiYmlsbGluZy5tYW5hZ2UiLCJyb2xlcy52aWV3IiwicmVwb3J0cy5zY2hlZHVsZSIsInBlcm1pc3Npb25zLm1hbmFnZSIsInJlcG9ydHMuZXhwb3J0IiwidXNlcnMuZWRpdCIsInJvbGVzLm1hbmFnZV9wZXJtaXNzaW9ucyIsInVzZXJzLmNyZWF0ZSIsInN5c3RlbS52aWV3X2xvZ3MiLCJyb2xlcy5lZGl0IiwicGVybWlzc2lvbnMudmlldyIsInRlbmFudHMudmlldyIsInBlcm1pc3Npb25zLmNyZWF0ZSIsInRlbmFudHMubWFuYWdlX3NldHRpbmdzIiwic3lzdGVtLm1hbmFnZV9zZXR0aW5ncyIsInJlcG9ydHMuY3JlYXRlIiwicGVybWlzc2lvbnMuZWRpdCJdLCJleHAiOjE3NTU4OTc1NTksImlzcyI6IkF1dGhTZXJ2aWNlIiwiYXVkIjoiU3RhcnRlckFwcCJ9.8_dJdtl0KvanAIncm4OTpN6AbXl4ow1mSa3QCkVcCFQ; X-User-Context=eyJVc2VySWQiOm51bGwsIlRlbmFudElkIjoiMSIsIlJvbGVzIjpbXSwiUGVybWlzc2lvbnMiOlsicGVybWlzc2lvbnMuZGVsZXRlIiwicm9sZXMuY3JlYXRlIiwicmVwb3J0cy52aWV3IiwidXNlcnMudmlld19hbGwiLCJzeXN0ZW0udmlld19tZXRyaWNzIiwidXNlcnMuZGVsZXRlIiwidGVuYW50cy52aWV3X2FsbCIsInVzZXJzLnZpZXciLCJ0ZW5hbnRzLmNyZWF0ZSIsImJpbGxpbmcudmlld19pbnZvaWNlcyIsInN5c3RlbS5tYW5hZ2VfYmFja3VwcyIsInJvbGVzLmFzc2lnbl91c2VycyIsImJpbGxpbmcudmlldyIsImJpbGxpbmcucHJvY2Vzc19wYXltZW50cyIsInJvbGVzLmRlbGV0ZSIsInRlbmFudHMuZWRpdCIsInRlbmFudHMuZGVsZXRlIiwidXNlcnMubWFuYWdlX3JvbGVzIiwiYmlsbGluZy5tYW5hZ2UiLCJyb2xlcy52aWV3IiwicmVwb3J0cy5zY2hlZHVsZSIsInBlcm1pc3Npb25zLm1hbmFnZSIsInJlcG9ydHMuZXhwb3J0IiwidXNlcnMuZWRpdCIsInJvbGVzLm1hbmFnZV9wZXJtaXNzaW9ucyIsInVzZXJzLmNyZWF0ZSIsInN5c3RlbS52aWV3X2xvZ3MiLCJyb2xlcy5lZGl0IiwicGVybWlzc2lvbnMudmlldyIsInRlbmFudHMudmlldyIsInBlcm1pc3Npb25zLmNyZWF0ZSIsInRlbmFudHMubWFuYWdlX3NldHRpbmdzIiwic3lzdGVtLm1hbmFnZV9zZXR0aW5ncyIsInJlcG9ydHMuY3JlYXRlIiwicGVybWlzc2lvbnMuZWRpdCJdLCJFbWFpbCI6bnVsbH0=; X-Tenant-Context=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKU4:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3CFNKU4"}
boiler-user |   | 2025-08-22T20:19:19.669505619Z [20:19:19 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKU4:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3CFNKU4"}
boiler-gateway | 2025-08-22T20:19:19.670047335Z [20:19:19 INF] RESPONSE dec81fcd: 404 in 10ms | Size: 0 {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS2:00000001", "RequestPath": "/api/tenants/1/settings", "ConnectionId": "0HNF1N3E75TS2"}
boiler-gateway | 2025-08-22T20:19:19.670092836Z [20:19:19 INF] HTTP GET /api/tenants/1/settings responded 404 in 10.9918 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS2:00000001", "ConnectionId": "0HNF1N3E75TS2"}
boiler-frontend | 172.18.0.1 - - [22/Aug/2025:20:19:19 +0000] "GET /api/tenants/1/settings HTTP/1.1" 404 0 "https://localhost:3000/login" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" "-"
boiler-user |   | 2025-08-22T20:19:19.675974815Z [20:19:19 DBG] Successfully validated the token. {"EventId": {"Id": 2, "Name": "TokenValidationSucceeded"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKU4:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3CFNKU4"}
boiler-user |   | 2025-08-22T20:19:19.676026117Z [20:19:19 DBG] AuthenticationScheme: Bearer was successfully authenticated. {"EventId": {"Id": 8, "Name": "AuthenticationSchemeAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKU4:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3CFNKU4"}
boiler-user |   | 2025-08-22T20:19:19.678192583Z [20:19:19 DBG] Authorization was successful. {"EventId": {"Id": 1, "Name": "UserAuthorizationSucceeded"}, "SourceContext": "Microsoft.AspNetCore.Authorization.DefaultAuthorizationService", "RequestId": "0HNF1N3CFNKU4:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3CFNKU4"}
boiler-user |   | 2025-08-22T20:19:19.687370462Z [20:19:19 INF] Found 15 tenants for user 6 (unfiltered by tenant context) {"SourceContext": "UserService.Controllers.UsersController", "ActionId": "43cbedd5-d394-41b2-9322-3adc2cc826bb", "ActionName": "UserService.Controllers.UsersController.GetUserTenants (UserService)", "RequestId": "0HNF1N3CFNKU4:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3CFNKU4"}
boiler-gateway | 2025-08-22T20:19:19.690168447Z [20:19:19 INF] requestId: 0HNF1N3E75TS3:00000001, previousRequestId: No PreviousRequestId, message: '200 (OK) status code of request URI: https://boiler-user:7002/api/users/6/tenants.' {"SourceContext": "Ocelot.Requester.Middleware.HttpRequesterMiddleware", "RequestId": "0HNF1N3E75TS3:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3E75TS3"}
boiler-user |   | 2025-08-22T20:19:19.691539788Z [20:19:19 INF] HTTP GET /api/users/6/tenants responded 200 in 22.2811 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:19:19.692549119Z [20:19:19 INF] RESPONSE 47e53f72: 200 in 31ms | Size: Unknown {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS3:00000001", "RequestPath": "/api/users/6/tenants", "ConnectionId": "0HNF1N3E75TS3"}
boiler-gateway | 2025-08-22T20:19:19.692613421Z [20:19:19 INF] HTTP GET /api/users/6/tenants responded 200 in 31.3902 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS3:00000001", "ConnectionId": "0HNF1N3E75TS3"}
boiler-frontend | 172.18.0.1 - - [22/Aug/2025:20:19:19 +0000] "GET /api/users/6/tenants HTTP/1.1" 200 666 "https://localhost:3000/login" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" "-"
boiler-gateway | 2025-08-22T20:19:19.710978979Z [20:19:19 INF] REQUEST 584e6292: GET /api/tenants/1/settings from 172.18.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS4:00000001", "RequestPath": "/api/tenants/1/settings", "ConnectionId": "0HNF1N3E75TS4"}
boiler-gateway | 2025-08-22T20:19:19.711102783Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:19:19.711106583Z    Path: /api/tenants/1/settings
boiler-gateway | 2025-08-22T20:19:19.711108783Z    Method: GET
boiler-gateway | 2025-08-22T20:19:19.711110883Z    Authorization Header: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodH...
boiler-gateway | 2025-08-22T20:19:19.711351691Z ‚úÖ JWT Token Validated Successfully:
boiler-gateway | 2025-08-22T20:19:19.711432393Z    UserId: 6
boiler-gateway | 2025-08-22T20:19:19.711435793Z    Email: mccrearyforward@gmail.com
boiler-gateway | 2025-08-22T20:19:19.711438093Z    Issuer: AuthService
boiler-gateway | 2025-08-22T20:19:19.711440093Z    Audience: StarterApp
boiler-gateway | 2025-08-22T20:19:19.711442293Z    Claims Count: 50
boiler-gateway | 2025-08-22T20:19:19.711444393Z [20:19:19 INF] ‚úÖ Tenant resolved: 1 from jwt-claim {"SourceContext": "ApiGateway.Middleware.TenantResolutionMiddleware", "RequestId": "0HNF1N3E75TS4:00000001", "RequestPath": "/api/tenants/1/settings", "ConnectionId": "0HNF1N3E75TS4"}
boiler-gateway | 2025-08-22T20:19:19.711838905Z [20:19:19 INF] requestId: 0HNF1N3E75TS4:00000001, previousRequestId: No PreviousRequestId, message: 'The path '/api/tenants/1/settings' is an authenticated route! AuthenticationMiddleware checking if client is authenticated...' {"SourceContext": "Ocelot.Authentication.Middleware.AuthenticationMiddleware", "RequestId": "0HNF1N3E75TS4:00000001", "RequestPath": "/api/tenants/1/settings", "ConnectionId": "0HNF1N3E75TS4"}
boiler-gateway | 2025-08-22T20:19:19.711851006Z [20:19:19 INF] requestId: 0HNF1N3E75TS4:00000001, previousRequestId: No PreviousRequestId, message: 'Client has been authenticated for path '/api/tenants/1/settings' by 'AuthenticationTypes.Federation' scheme.' {"SourceContext": "Ocelot.Authentication.Middleware.AuthenticationMiddleware", "RequestId": "0HNF1N3E75TS4:00000001", "RequestPath": "/api/tenants/1/settings", "ConnectionId": "0HNF1N3E75TS4"}
boiler-gateway | 2025-08-22T20:19:19.711853706Z [20:19:19 INF] requestId: 0HNF1N3E75TS4:00000001, previousRequestId: No PreviousRequestId, message: 'route is authenticated scopes must be checked' {"SourceContext": "Ocelot.Authorization.Middleware.AuthorizationMiddleware", "RequestId": "0HNF1N3E75TS4:00000001", "RequestPath": "/api/tenants/1/settings", "ConnectionId": "0HNF1N3E75TS4"}
boiler-gateway | 2025-08-22T20:19:19.711856306Z [20:19:19 INF] requestId: 0HNF1N3E75TS4:00000001, previousRequestId: No PreviousRequestId, message: 'user scopes is authorized calling next authorization checks' {"SourceContext": "Ocelot.Authorization.Middleware.AuthorizationMiddleware", "RequestId": "0HNF1N3E75TS4:00000001", "RequestPath": "/api/tenants/1/settings", "ConnectionId": "0HNF1N3E75TS4"}
boiler-gateway | 2025-08-22T20:19:19.711858706Z [20:19:19 INF] requestId: 0HNF1N3E75TS4:00000001, previousRequestId: No PreviousRequestId, message: '/api/tenants/{everything} route does not require user to be authorized' {"SourceContext": "Ocelot.Authorization.Middleware.AuthorizationMiddleware", "RequestId": "0HNF1N3E75TS4:00000001", "RequestPath": "/api/tenants/1/settings", "ConnectionId": "0HNF1N3E75TS4"}
boiler-user |   | 2025-08-22T20:19:19.722331924Z [20:19:19 DBG] Successfully validated the token. {"EventId": {"Id": 2, "Name": "TokenValidationSucceeded"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKU5:00000001", "RequestPath": "/api/tenants/1/settings", "ConnectionId": "0HNF1N3CFNKU5"}
boiler-user |   | 2025-08-22T20:19:19.722414027Z [20:19:19 DBG] AuthenticationScheme: Bearer was successfully authenticated. {"EventId": {"Id": 8, "Name": "AuthenticationSchemeAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKU5:00000001", "RequestPath": "/api/tenants/1/settings", "ConnectionId": "0HNF1N3CFNKU5"}
boiler-user |   | 2025-08-22T20:19:19.723496060Z [20:19:19 INF] HTTP GET /api/tenants/1/settings responded 404 in 3.8879 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:19:19.724382987Z [20:19:19 WRN] requestId: 0HNF1N3E75TS4:00000001, previousRequestId: No PreviousRequestId, message: '404 (Not Found) status code of request URI: https://boiler-user:7002/api/tenants/1/settings.' {"SourceContext": "Ocelot.Requester.Middleware.HttpRequesterMiddleware", "RequestId": "0HNF1N3E75TS4:00000001", "RequestPath": "/api/tenants/1/settings", "ConnectionId": "0HNF1N3E75TS4"}
boiler-gateway | 2025-08-22T20:19:19.724643295Z [20:19:19 INF] RESPONSE 584e6292: 404 in 13ms | Size: 0 {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS4:00000001", "RequestPath": "/api/tenants/1/settings", "ConnectionId": "0HNF1N3E75TS4"}
boiler-gateway | 2025-08-22T20:19:19.724676096Z [20:19:19 INF] HTTP GET /api/tenants/1/settings responded 404 in 13.9253 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS4:00000001", "ConnectionId": "0HNF1N3E75TS4"}
boiler-frontend | 172.18.0.1 - - [22/Aug/2025:20:19:19 +0000] "GET /api/tenants/1/settings HTTP/1.1" 404 0 "https://localhost:3000/app/dashboard" "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" "-"
boiler-auth |   | 2025-08-22T20:19:29.225931337Z [20:19:29 INF] HTTP GET /health responded 200 in 0.1890 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:19:29.399318421Z [20:19:29 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKU6:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3CFNKU6"}
boiler-user |   | 2025-08-22T20:19:29.408998416Z [20:19:29 INF] HTTP GET /health responded 200 in 11.8965 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:19:35.097343257Z [20:19:35 INF] REQUEST 8f4c3a85: GET /health from 127.0.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS5:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TS5"}
boiler-gateway | 2025-08-22T20:19:35.097415459Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:19:35.097420059Z    Path: /health
boiler-gateway | 2025-08-22T20:19:35.097422659Z    Method: GET
boiler-gateway | 2025-08-22T20:19:35.097425159Z    Authorization Header: MISSING
boiler-gateway | 2025-08-22T20:19:35.097533762Z [20:19:35 INF] RESPONSE 8f4c3a85: 200 in 0ms | Size: Unknown {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS5:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TS5"}
boiler-gateway | 2025-08-22T20:19:35.097545263Z [20:19:35 INF] HTTP GET /health responded 200 in 0.7117 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS5:00000001", "ConnectionId": "0HNF1N3E75TS5"}
boiler-auth |   | 2025-08-22T20:19:59.320485731Z [20:19:59 INF] HTTP GET /health responded 200 in 0.2569 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:19:59.530071856Z [20:19:59 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKU7:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3CFNKU7"}
boiler-user |   | 2025-08-22T20:19:59.539906253Z [20:19:59 INF] HTTP GET /health responded 200 in 11.8432 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:20:05.204968718Z [20:20:05 INF] REQUEST da3f3ce3: GET /health from 127.0.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS6:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TS6"}
boiler-gateway | 2025-08-22T20:20:05.205152024Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:20:05.205171425Z    Path: /health
boiler-gateway | 2025-08-22T20:20:05.205175325Z    Method: GET
boiler-gateway | 2025-08-22T20:20:05.205178725Z    Authorization Header: MISSING
boiler-gateway | 2025-08-22T20:20:05.205764443Z [20:20:05 INF] RESPONSE da3f3ce3: 200 in 0ms | Size: Unknown {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS6:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TS6"}
boiler-gateway | 2025-08-22T20:20:05.205807144Z [20:20:05 INF] HTTP GET /health responded 200 in 0.9772 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS6:00000001", "ConnectionId": "0HNF1N3E75TS6"}
boiler-user |   | 2025-08-22T20:20:22.799680639Z [20:20:22 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUC:00000001", "RequestPath": "/health/cache", "ConnectionId": "0HNF1N3CFNKUC"}
boiler-user |   | 2025-08-22T20:20:22.811880707Z [20:20:22 INF] HTTP GET /health/cache responded 200 in 15.0033 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:20:25.971216014Z [20:20:25 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUC:00000003", "RequestPath": "/health/cache", "ConnectionId": "0HNF1N3CFNKUC"}
boiler-user |   | 2025-08-22T20:20:25.973880095Z [20:20:25 INF] HTTP GET /health/cache responded 200 in 6.0972 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-auth |   | 2025-08-22T20:20:29.413168528Z [20:20:29 INF] HTTP GET /health responded 200 in 0.7478 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:20:29.654262395Z [20:20:29 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUD:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3CFNKUD"}
boiler-user |   | 2025-08-22T20:20:29.662574942Z [20:20:29 INF] HTTP GET /health responded 200 in 11.1841 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:20:33.324867107Z [20:20:33 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUC:00000005", "RequestPath": "/health", "ConnectionId": "0HNF1N3CFNKUC"}
boiler-user |   | 2025-08-22T20:20:33.335207814Z [20:20:33 INF] HTTP GET /health responded 200 in 13.1602 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:20:35.298388372Z [20:20:35 INF] REQUEST 9309893f: GET /health from 127.0.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS7:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TS7"}
boiler-gateway | 2025-08-22T20:20:35.298439873Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:20:35.298443673Z    Path: /health
boiler-gateway | 2025-08-22T20:20:35.298446173Z    Method: GET
boiler-gateway | 2025-08-22T20:20:35.298448674Z    Authorization Header: MISSING
boiler-gateway | 2025-08-22T20:20:35.298451174Z [20:20:35 INF] RESPONSE 9309893f: 200 in 0ms | Size: Unknown {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS7:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TS7"}
boiler-gateway | 2025-08-22T20:20:35.298454074Z [20:20:35 INF] HTTP GET /health responded 200 in 0.7119 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS7:00000001", "ConnectionId": "0HNF1N3E75TS7"}
boiler-user |   | 2025-08-22T20:20:52.016751008Z [20:20:52 INF] üîç All request headers: Accept=text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Upgrade-Insecure-Requests=1; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-ch-ua-platform="Windows"; sec-fetch-site=none; sec-fetch-mode=navigate; sec-fetch-user=?1; sec-fetch-dest=document; priority=u=0, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUC:00000007", "RequestPath": "/api/Monitoring/health", "ConnectionId": "0HNF1N3CFNKUC"}
boiler-user |   | 2025-08-22T20:20:52.016834411Z [20:20:52 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUC:00000007", "RequestPath": "/api/Monitoring/health", "ConnectionId": "0HNF1N3CFNKUC"}
boiler-user |   | 2025-08-22T20:20:52.028264341Z [20:20:52 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUC:00000007", "RequestPath": "/api/Monitoring/health", "ConnectionId": "0HNF1N3CFNKUC"}
boiler-user |   | 2025-08-22T20:20:52.089780522Z [20:20:52 ERR] An exception occurred while iterating over the results of a query for context type 'Common.Data.ApplicationDbContext'.
boiler-user |   | 2025-08-22T20:20:52.089828124Z System.InvalidOperationException: Sequence contains no elements.
boiler-user |   | 2025-08-22T20:20:52.089831124Z    at lambda_method763(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
boiler-user |   | 2025-08-22T20:20:52.089834024Z    at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId": {"Id": 10100, "Name": "Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"}, "SourceContext": "Microsoft.EntityFrameworkCore.Query", "ActionId": "7fa896c2-629f-4c1e-9adb-26ba4a317653", "ActionName": "UserService.Controllers.MonitoringController.GetHealthStatus (UserService)", "RequestId": "0HNF1N3CFNKUC:00000007", "RequestPath": "/api/Monitoring/health", "ConnectionId": "0HNF1N3CFNKUC"}
boiler-user |   | 2025-08-22T20:20:52.089838324Z System.InvalidOperationException: Sequence contains no elements.
boiler-user |   | 2025-08-22T20:20:52.089840924Z    at lambda_method763(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
boiler-user |   | 2025-08-22T20:20:52.089843424Z    at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
boiler-user |   | 2025-08-22T20:20:52.091314167Z [20:20:52 ERR] Failed to get system metrics for period 00:05:00 {"SourceContext": "Common.Services.MonitoringService", "ActionId": "7fa896c2-629f-4c1e-9adb-26ba4a317653", "ActionName": "UserService.Controllers.MonitoringController.GetHealthStatus (UserService)", "RequestId": "0HNF1N3CFNKUC:00000007", "RequestPath": "/api/Monitoring/health", "ConnectionId": "0HNF1N3CFNKUC"}
boiler-user |   | 2025-08-22T20:20:52.091365268Z System.InvalidOperationException: Sequence contains no elements.
boiler-user |   | 2025-08-22T20:20:52.091367968Z    at lambda_method763(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
boiler-user |   | 2025-08-22T20:20:52.091370168Z    at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
boiler-user |   | 2025-08-22T20:20:52.091372368Z    at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:20:52.091374568Z    at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:20:52.091376868Z    at Common.Services.EnhancedAuditService.GetSecurityMetricsAsync(TimeSpan period) in /src/shared/Common/Services/EnhancedAuditService.cs:line 255
boiler-user |   | 2025-08-22T20:20:52.091378969Z    at Common.Services.MonitoringService.GetSystemMetricsAsync(TimeSpan period) in /src/shared/Common/Services/MonitoringService.cs:line 176
boiler-user |   | 2025-08-22T20:20:52.098140464Z [20:20:52 INF] HTTP GET /api/Monitoring/health responded 200 in 81.7673 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-auth |   | 2025-08-22T20:20:59.532325838Z [20:20:59 INF] HTTP GET /health responded 200 in 0.3048 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:20:59.748942992Z [20:20:59 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUE:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3CFNKUE"}
boiler-user |   | 2025-08-22T20:20:59.758738488Z [20:20:59 INF] HTTP GET /health responded 200 in 10.4419 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:21:05.441843171Z [20:21:05 INF] REQUEST ece8921f: GET /health from 127.0.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS8:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TS8"}
boiler-gateway | 2025-08-22T20:21:05.442155380Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:21:05.442201282Z    Path: /health
boiler-gateway | 2025-08-22T20:21:05.442204382Z    Method: GET
boiler-gateway | 2025-08-22T20:21:05.442206982Z    Authorization Header: MISSING
boiler-gateway | 2025-08-22T20:21:05.442374787Z [20:21:05 INF] RESPONSE ece8921f: 200 in 0ms | Size: Unknown {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS8:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TS8"}
boiler-gateway | 2025-08-22T20:21:05.442380587Z [20:21:05 INF] HTTP GET /health responded 200 in 0.6429 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS8:00000001", "ConnectionId": "0HNF1N3E75TS8"}
boiler-auth |   | 2025-08-22T20:21:29.641988242Z [20:21:29 INF] HTTP GET /health responded 200 in 0.6303 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:21:29.839338417Z [20:21:29 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUF:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3CFNKUF"}
boiler-user |   | 2025-08-22T20:21:29.847400890Z [20:21:29 INF] HTTP GET /health responded 200 in 11.5792 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:21:35.508869859Z [20:21:35 INF] REQUEST c216d2fb: GET /health from 127.0.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS9:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TS9"}
boiler-gateway | 2025-08-22T20:21:35.509279871Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:21:35.509292172Z    Path: /health
boiler-gateway | 2025-08-22T20:21:35.509294972Z    Method: GET
boiler-gateway | 2025-08-22T20:21:35.509297872Z    Authorization Header: MISSING
boiler-gateway | 2025-08-22T20:21:35.509830789Z [20:21:35 INF] RESPONSE c216d2fb: 200 in 0ms | Size: Unknown {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS9:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TS9"}
boiler-gateway | 2025-08-22T20:21:35.509936092Z [20:21:35 INF] HTTP GET /health responded 200 in 0.8780 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TS9:00000001", "ConnectionId": "0HNF1N3E75TS9"}
boiler-postgres | 2025-08-22 20:21:42.852 UTC [27] LOG:  checkpoint starting: time
boiler-redis |  | 2025-08-22T20:21:43.057659589Z 1:M 22 Aug 2025 20:21:43.055 * 100 changes in 300 seconds. Saving...
boiler-redis |  | 2025-08-22T20:21:43.060812086Z 1:M 22 Aug 2025 20:21:43.058 * Background saving started by pid 196
boiler-redis |  | 2025-08-22T20:21:43.088288234Z 196:C 22 Aug 2025 20:21:43.087 * DB saved on disk
boiler-redis |  | 2025-08-22T20:21:43.089446769Z 196:C 22 Aug 2025 20:21:43.088 * Fork CoW for RDB: current 0 MB, peak 0 MB, average 0 MB
boiler-redis |  | 2025-08-22T20:21:43.161516191Z 1:M 22 Aug 2025 20:21:43.160 * Background saving terminated with success
boiler-postgres | 2025-08-22 20:21:44.227 UTC [27] LOG:  checkpoint complete: wrote 16 buffers (0.1%); 0 WAL file(s) added, 0 removed, 0 recycled; write=1.316 s, sync=0.025 s, total=1.375 s; sync files=14, longest=0.014 s, average=0.002 s; distance=67 kB, estimate=67 kB
boiler-auth |   | 2025-08-22T20:21:59.751733330Z [20:21:59 INF] HTTP GET /health responded 200 in 0.2839 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:21:59.958192611Z [20:21:59 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUG:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3CFNKUG"}
boiler-user |   | 2025-08-22T20:21:59.966567286Z [20:21:59 INF] HTTP GET /health responded 200 in 10.1902 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:22:05.562888889Z [20:22:05 INF] REQUEST ff36644c: GET /health from 127.0.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSA:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSA"}
boiler-gateway | 2025-08-22T20:22:05.562946891Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:22:05.562952291Z    Path: /health
boiler-gateway | 2025-08-22T20:22:05.562955691Z    Method: GET
boiler-gateway | 2025-08-22T20:22:05.562958191Z    Authorization Header: MISSING
boiler-gateway | 2025-08-22T20:22:05.563199199Z [20:22:05 INF] RESPONSE ff36644c: 200 in 0ms | Size: Unknown {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSA:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSA"}
boiler-gateway | 2025-08-22T20:22:05.563210099Z [20:22:05 INF] HTTP GET /health responded 200 in 0.5216 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSA:00000001", "ConnectionId": "0HNF1N3E75TSA"}
boiler-auth |   | 2025-08-22T20:22:29.907628388Z [20:22:29 INF] HTTP GET /health responded 200 in 0.2069 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:22:30.034555014Z [20:22:30 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUH:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3CFNKUH"}
boiler-user |   | 2025-08-22T20:22:30.043182922Z [20:22:30 INF] HTTP GET /health responded 200 in 10.1354 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:22:35.633967693Z [20:22:35 INF] REQUEST 5d47828c: GET /health from 127.0.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSB:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSB"}
boiler-gateway | 2025-08-22T20:22:35.634050196Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:22:35.634053796Z    Path: /health
boiler-gateway | 2025-08-22T20:22:35.634056096Z    Method: GET
boiler-gateway | 2025-08-22T20:22:35.634057996Z    Authorization Header: MISSING
boiler-gateway | 2025-08-22T20:22:35.634246503Z [20:22:35 INF] RESPONSE 5d47828c: 200 in 0ms | Size: Unknown {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSB:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSB"}
boiler-gateway | 2025-08-22T20:22:35.634397009Z [20:22:35 INF] HTTP GET /health responded 200 in 0.5610 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSB:00000001", "ConnectionId": "0HNF1N3E75TSB"}
boiler-auth |   | 2025-08-22T20:23:00.044914298Z [20:23:00 INF] HTTP GET /health responded 200 in 0.1731 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:23:00.169819016Z [20:23:00 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUI:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3CFNKUI"}
boiler-user |   | 2025-08-22T20:23:00.182848260Z [20:23:00 INF] HTTP GET /health responded 200 in 15.3868 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:23:05.722644713Z [20:23:05 INF] REQUEST 9412de8c: GET /health from 127.0.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSC:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSC"}
boiler-gateway | 2025-08-22T20:23:05.722823119Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:23:05.722828019Z    Path: /health
boiler-gateway | 2025-08-22T20:23:05.722830619Z    Method: GET
boiler-gateway | 2025-08-22T20:23:05.722833119Z    Authorization Header: MISSING
boiler-gateway | 2025-08-22T20:23:05.723549242Z [20:23:05 INF] RESPONSE 9412de8c: 200 in 0ms | Size: Unknown {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSC:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSC"}
boiler-gateway | 2025-08-22T20:23:05.723563043Z [20:23:05 INF] HTTP GET /health responded 200 in 0.8849 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSC:00000001", "ConnectionId": "0HNF1N3E75TSC"}
boiler-auth |   | 2025-08-22T20:23:30.209771817Z [20:23:30 INF] HTTP GET /health responded 200 in 0.2757 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:23:30.299325341Z [20:23:30 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUJ:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3CFNKUJ"}
boiler-user |   | 2025-08-22T20:23:30.309067435Z [20:23:30 INF] HTTP GET /health responded 200 in 12.3810 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:23:35.814936766Z [20:23:35 INF] REQUEST b4f154f5: GET /health from 127.0.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSD:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSD"}
boiler-gateway | 2025-08-22T20:23:35.815017669Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:23:35.815022569Z    Path: /health
boiler-gateway | 2025-08-22T20:23:35.815025169Z    Method: GET
boiler-gateway | 2025-08-22T20:23:35.815027569Z    Authorization Header: MISSING
boiler-gateway | 2025-08-22T20:23:35.815370080Z [20:23:35 INF] RESPONSE b4f154f5: 200 in 0ms | Size: Unknown {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSD:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSD"}
boiler-gateway | 2025-08-22T20:23:35.815412681Z [20:23:35 INF] HTTP GET /health responded 200 in 0.7227 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSD:00000001", "ConnectionId": "0HNF1N3E75TSD"}
boiler-auth |   | 2025-08-22T20:24:00.343565258Z [20:24:00 INF] HTTP GET /health responded 200 in 0.1899 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:24:00.398388202Z [20:24:00 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUK:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3CFNKUK"}
boiler-user |   | 2025-08-22T20:24:00.408436022Z [20:24:00 INF] HTTP GET /health responded 200 in 11.9202 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:24:05.910818725Z [20:24:05 INF] REQUEST 62eac317: GET /health from 127.0.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSE:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSE"}
boiler-gateway | 2025-08-22T20:24:05.910882326Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:24:05.910885727Z    Path: /health
boiler-gateway | 2025-08-22T20:24:05.910887827Z    Method: GET
boiler-gateway | 2025-08-22T20:24:05.910889827Z    Authorization Header: MISSING
boiler-gateway | 2025-08-22T20:24:05.911214336Z [20:24:05 INF] RESPONSE 62eac317: 200 in 0ms | Size: Unknown {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSE:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSE"}
boiler-gateway | 2025-08-22T20:24:05.911649249Z [20:24:05 INF] HTTP GET /health responded 200 in 0.6021 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSE:00000001", "ConnectionId": "0HNF1N3E75TSE"}
boiler-auth |   | 2025-08-22T20:24:30.453682780Z [20:24:30 INF] HTTP GET /health responded 200 in 0.1669 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:24:30.488710482Z [20:24:30 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUL:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3CFNKUL"}
boiler-user |   | 2025-08-22T20:24:30.497011143Z [20:24:30 INF] HTTP GET /health responded 200 in 11.5553 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:24:35.979091831Z [20:24:35 INF] REQUEST de1fa2d7: GET /health from 127.0.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSF:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSF"}
boiler-gateway | 2025-08-22T20:24:35.979142533Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:24:35.979147233Z    Path: /health
boiler-gateway | 2025-08-22T20:24:35.979149833Z    Method: GET
boiler-gateway | 2025-08-22T20:24:35.979152633Z    Authorization Header: MISSING
boiler-gateway | 2025-08-22T20:24:35.979651749Z [20:24:35 INF] RESPONSE de1fa2d7: 200 in 0ms | Size: Unknown {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSF:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSF"}
boiler-gateway | 2025-08-22T20:24:35.979694150Z [20:24:35 INF] HTTP GET /health responded 200 in 0.8727 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSF:00000001", "ConnectionId": "0HNF1N3E75TSF"}
boiler-auth |   | 2025-08-22T20:25:00.577894686Z [20:25:00 INF] HTTP GET /health responded 200 in 0.1868 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:25:00.584860533Z [20:25:00 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUM:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3CFNKUM"}
boiler-user |   | 2025-08-22T20:25:00.591954988Z [20:25:00 INF] HTTP GET /health responded 200 in 10.4956 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:25:06.049224158Z [20:25:06 INF] REQUEST 720e232c: GET /health from 127.0.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSG:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSG"}
boiler-gateway | 2025-08-22T20:25:06.050378395Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:25:06.050435697Z    Path: /health
boiler-gateway | 2025-08-22T20:25:06.050439497Z    Method: GET
boiler-gateway | 2025-08-22T20:25:06.050441997Z    Authorization Header: MISSING
boiler-gateway | 2025-08-22T20:25:06.050444597Z [20:25:06 INF] RESPONSE 720e232c: 200 in 0ms | Size: Unknown {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSG:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSG"}
boiler-gateway | 2025-08-22T20:25:06.050448797Z [20:25:06 INF] HTTP GET /health responded 200 in 0.5488 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSG:00000001", "ConnectionId": "0HNF1N3E75TSG"}
boiler-auth |   | 2025-08-22T20:25:30.655686456Z [20:25:30 INF] HTTP GET /health responded 200 in 0.1663 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:25:30.659149099Z [20:25:30 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUN:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3CFNKUN"}
boiler-user |   | 2025-08-22T20:25:30.668838418Z [20:25:30 INF] HTTP GET /health responded 200 in 12.2068 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:25:36.121920638Z [20:25:36 INF] REQUEST c21d8b6b: GET /health from 127.0.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSH:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSH"}
boiler-gateway | 2025-08-22T20:25:36.121976140Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:25:36.121980240Z    Path: /health
boiler-gateway | 2025-08-22T20:25:36.121999641Z    Method: GET
boiler-gateway | 2025-08-22T20:25:36.122001841Z    Authorization Header: MISSING
boiler-gateway | 2025-08-22T20:25:36.122003841Z [20:25:36 INF] RESPONSE c21d8b6b: 200 in 0ms | Size: Unknown {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSH:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSH"}
boiler-gateway | 2025-08-22T20:25:36.122006141Z [20:25:36 INF] HTTP GET /health responded 200 in 0.4038 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSH:00000001", "ConnectionId": "0HNF1N3E75TSH"}
boiler-user |   | 2025-08-22T20:25:37.318341478Z [20:25:37 INF] üîç All request headers: Accept=text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Upgrade-Insecure-Requests=1; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-ch-ua-platform="Windows"; sec-fetch-site=none; sec-fetch-mode=navigate; sec-fetch-user=?1; sec-fetch-dest=document; priority=u=0, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000001", "RequestPath": "/api/AuditTest/test-all-audit-types-fixed", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:25:37.318432581Z [20:25:37 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000001", "RequestPath": "/api/AuditTest/test-all-audit-types-fixed", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:25:37.336359907Z [20:25:37 INF] üîç All request headers: Accept=text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Upgrade-Insecure-Requests=1; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-ch-ua-platform="Windows"; sec-fetch-site=none; sec-fetch-mode=navigate; sec-fetch-user=?1; sec-fetch-dest=document; priority=u=0, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000001", "RequestPath": "/api/AuditTest/test-all-audit-types-fixed", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:25:37.336472610Z [20:25:37 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000001", "RequestPath": "/api/AuditTest/test-all-audit-types-fixed", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:25:37.360710922Z [20:25:37 INF] üîç All request headers: Accept=text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Upgrade-Insecure-Requests=1; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-ch-ua-platform="Windows"; sec-fetch-site=none; sec-fetch-mode=navigate; sec-fetch-user=?1; sec-fetch-dest=document; priority=u=0, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000001", "RequestPath": "/api/AuditTest/test-all-audit-types-fixed", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:25:37.360790025Z [20:25:37 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000001", "RequestPath": "/api/AuditTest/test-all-audit-types-fixed", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-postgres | 2025-08-22 20:25:37.361 UTC [433] ERROR:  function set_config(unknown, integer, boolean) does not exist at character 8
boiler-postgres | 2025-08-22 20:25:37.361 UTC [433] HINT:  No function matches the given name and argument types. You might need to add explicit type casts.
boiler-postgres | 2025-08-22 20:25:37.361 UTC [433] STATEMENT:  SELECT set_config('app.tenant_id', $1, false)
boiler-user |   | 2025-08-22T20:25:37.368545152Z [20:25:37 ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='1'], CommandType='Text', CommandTimeout='30']
boiler-user |   | 2025-08-22T20:25:37.368600954Z SELECT set_config('app.tenant_id', @p0, false) {"EventId": {"Id": 20102, "Name": "Microsoft.EntityFrameworkCore.Database.Command.CommandError"}, "SourceContext": "Microsoft.EntityFrameworkCore.Database.Command", "RequestId": "0HNF1N3CFNKUP:00000001", "RequestPath": "/api/AuditTest/test-all-audit-types-fixed", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:25:37.432501531Z [20:25:37 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUP:00000001", "RequestPath": "/api/AuditTest/test-all-audit-types-fixed", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:25:37.434237882Z [20:25:37 INF] HTTP GET /api/AuditTest/test-all-audit-types-fixed responded 405 in 116.1492 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:25:53.129955239Z [20:25:53 INF] üîç All request headers: Accept=text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Upgrade-Insecure-Requests=1; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-ch-ua-platform="Windows"; sec-fetch-site=none; sec-fetch-mode=navigate; sec-fetch-user=?1; sec-fetch-dest=document; priority=u=0, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000003", "RequestPath": "/api/EnhancedAuthTest/test-users-view", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:25:53.130036743Z [20:25:53 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000003", "RequestPath": "/api/EnhancedAuthTest/test-users-view", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:25:53.134752773Z [20:25:53 INF] üîç All request headers: Accept=text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Upgrade-Insecure-Requests=1; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-ch-ua-platform="Windows"; sec-fetch-site=none; sec-fetch-mode=navigate; sec-fetch-user=?1; sec-fetch-dest=document; priority=u=0, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000003", "RequestPath": "/api/EnhancedAuthTest/test-users-view", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-postgres | 2025-08-22 20:25:53.136 UTC [433] ERROR:  function set_config(unknown, integer, boolean) does not exist at character 8
boiler-postgres | 2025-08-22 20:25:53.136 UTC [433] HINT:  No function matches the given name and argument types. You might need to add explicit type casts.
boiler-postgres | 2025-08-22 20:25:53.136 UTC [433] STATEMENT:  SELECT set_config('app.tenant_id', $1, false)
boiler-user |   | 2025-08-22T20:25:53.134825177Z [20:25:53 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000003", "RequestPath": "/api/EnhancedAuthTest/test-users-view", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:25:53.135830826Z [20:25:53 INF] üîç All request headers: Accept=text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Upgrade-Insecure-Requests=1; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-ch-ua-platform="Windows"; sec-fetch-site=none; sec-fetch-mode=navigate; sec-fetch-user=?1; sec-fetch-dest=document; priority=u=0, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000003", "RequestPath": "/api/EnhancedAuthTest/test-users-view", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:25:53.135912530Z [20:25:53 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000003", "RequestPath": "/api/EnhancedAuthTest/test-users-view", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:25:53.137021384Z [20:25:53 ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='1'], CommandType='Text', CommandTimeout='30']
boiler-user |   | 2025-08-22T20:25:53.137029784Z SELECT set_config('app.tenant_id', @p0, false) {"EventId": {"Id": 20102, "Name": "Microsoft.EntityFrameworkCore.Database.Command.CommandError"}, "SourceContext": "Microsoft.EntityFrameworkCore.Database.Command", "RequestId": "0HNF1N3CFNKUP:00000003", "RequestPath": "/api/EnhancedAuthTest/test-users-view", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:25:53.141556905Z [20:25:53 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUP:00000003", "RequestPath": "/api/EnhancedAuthTest/test-users-view", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:25:53.142688660Z [20:25:53 INF] HTTP GET /api/EnhancedAuthTest/test-users-view responded 404 in 13.4987 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:25:59.228616674Z [20:25:59 INF] üîç All request headers: Accept=text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Cache-Control=max-age=0; Upgrade-Insecure-Requests=1; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-ch-ua-platform="Windows"; sec-fetch-site=none; sec-fetch-mode=navigate; sec-fetch-user=?1; sec-fetch-dest=document; priority=u=0, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000005", "RequestPath": "/api/EnhancedAuthTest/test-users-view", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:25:59.228681878Z [20:25:59 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000005", "RequestPath": "/api/EnhancedAuthTest/test-users-view", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-postgres | 2025-08-22 20:25:59.235 UTC [433] ERROR:  function set_config(unknown, integer, boolean) does not exist at character 8
boiler-postgres | 2025-08-22 20:25:59.235 UTC [433] HINT:  No function matches the given name and argument types. You might need to add explicit type casts.
boiler-postgres | 2025-08-22 20:25:59.235 UTC [433] STATEMENT:  SELECT set_config('app.tenant_id', $1, false)
boiler-user |   | 2025-08-22T20:25:59.235466281Z [20:25:59 INF] üîç All request headers: Accept=text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Cache-Control=max-age=0; Upgrade-Insecure-Requests=1; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-ch-ua-platform="Windows"; sec-fetch-site=none; sec-fetch-mode=navigate; sec-fetch-user=?1; sec-fetch-dest=document; priority=u=0, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000005", "RequestPath": "/api/EnhancedAuthTest/test-users-view", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:25:59.235530085Z [20:25:59 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000005", "RequestPath": "/api/EnhancedAuthTest/test-users-view", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:25:59.235533985Z [20:25:59 INF] üîç All request headers: Accept=text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.7; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Cache-Control=max-age=0; Upgrade-Insecure-Requests=1; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-ch-ua-platform="Windows"; sec-fetch-site=none; sec-fetch-mode=navigate; sec-fetch-user=?1; sec-fetch-dest=document; priority=u=0, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000005", "RequestPath": "/api/EnhancedAuthTest/test-users-view", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:25:59.235539386Z [20:25:59 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000005", "RequestPath": "/api/EnhancedAuthTest/test-users-view", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:25:59.236202525Z [20:25:59 ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='1'], CommandType='Text', CommandTimeout='30']
boiler-user |   | 2025-08-22T20:25:59.236210525Z SELECT set_config('app.tenant_id', @p0, false) {"EventId": {"Id": 20102, "Name": "Microsoft.EntityFrameworkCore.Database.Command.CommandError"}, "SourceContext": "Microsoft.EntityFrameworkCore.Database.Command", "RequestId": "0HNF1N3CFNKUP:00000005", "RequestPath": "/api/EnhancedAuthTest/test-users-view", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:25:59.245012449Z [20:25:59 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUP:00000005", "RequestPath": "/api/EnhancedAuthTest/test-users-view", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:25:59.250003345Z [20:25:59 INF] HTTP GET /api/EnhancedAuthTest/test-users-view responded 404 in 21.0079 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-auth |   | 2025-08-22T20:26:00.755323523Z [20:26:00 INF] HTTP GET /health responded 200 in 0.2327 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:26:00.768959934Z [20:26:00 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUQ:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3CFNKUQ"}
boiler-user |   | 2025-08-22T20:26:00.778878323Z [20:26:00 INF] HTTP GET /health responded 200 in 13.5006 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:26:06.214313352Z [20:26:06 INF] REQUEST 9681636e: GET /health from 127.0.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSI:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSI"}
boiler-gateway | 2025-08-22T20:26:06.214362555Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:26:06.214366155Z    Path: /health
boiler-gateway | 2025-08-22T20:26:06.214368855Z    Method: GET
boiler-gateway | 2025-08-22T20:26:06.214371455Z    Authorization Header: MISSING
boiler-gateway | 2025-08-22T20:26:06.214373956Z [20:26:06 INF] RESPONSE 9681636e: 200 in 0ms | Size: Unknown {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSI:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSI"}
boiler-gateway | 2025-08-22T20:26:06.214377756Z [20:26:06 INF] HTTP GET /health responded 200 in 0.6532 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSI:00000001", "ConnectionId": "0HNF1N3E75TSI"}
boiler-auth |   | 2025-08-22T20:26:30.833674351Z [20:26:30 INF] HTTP GET /health responded 200 in 0.1770 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:26:30.839036345Z [20:26:30 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUR:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3CFNKUR"}
boiler-user |   | 2025-08-22T20:26:30.850115047Z [20:26:30 INF] HTTP GET /health responded 200 in 14.8995 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:26:36.269329005Z [20:26:36 INF] REQUEST c13a3d56: GET /health from 127.0.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSJ:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSJ"}
boiler-gateway | 2025-08-22T20:26:36.269919427Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:26:36.269997529Z    Path: /health
boiler-gateway | 2025-08-22T20:26:36.270001529Z    Method: GET
boiler-gateway | 2025-08-22T20:26:36.270004030Z    Authorization Header: MISSING
boiler-gateway | 2025-08-22T20:26:36.270998766Z [20:26:36 INF] RESPONSE c13a3d56: 200 in 1ms | Size: Unknown {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSJ:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSJ"}
boiler-gateway | 2025-08-22T20:26:36.271135671Z [20:26:36 INF] HTTP GET /health responded 200 in 1.8971 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSJ:00000001", "ConnectionId": "0HNF1N3E75TSJ"}
boiler-postgres | 2025-08-22 20:26:42.304 UTC [27] LOG:  checkpoint starting: time
boiler-postgres | 2025-08-22 20:26:43.226 UTC [27] LOG:  checkpoint complete: wrote 10 buffers (0.1%); 0 WAL file(s) added, 0 removed, 0 recycled; write=0.908 s, sync=0.005 s, total=0.922 s; sync files=10, longest=0.002 s, average=0.001 s; distance=7 kB, estimate=61 kB
boiler-redis |  | 2025-08-22T20:26:44.091524380Z 1:M 22 Aug 2025 20:26:44.090 * 100 changes in 300 seconds. Saving...
boiler-redis |  | 2025-08-22T20:26:44.092226444Z 1:M 22 Aug 2025 20:26:44.091 * Background saving started by pid 377
boiler-redis |  | 2025-08-22T20:26:44.115900016Z 377:C 22 Aug 2025 20:26:44.115 * DB saved on disk
boiler-redis |  | 2025-08-22T20:26:44.116613779Z 377:C 22 Aug 2025 20:26:44.116 * Fork CoW for RDB: current 0 MB, peak 0 MB, average 0 MB
boiler-redis |  | 2025-08-22T20:26:44.193623786Z 1:M 22 Aug 2025 20:26:44.193 * Background saving terminated with success
boiler-auth |   | 2025-08-22T20:27:00.909930114Z [20:27:00 INF] HTTP GET /health responded 200 in 0.1778 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:27:00.915624946Z [20:27:00 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUS:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3CFNKUS"}
boiler-user |   | 2025-08-22T20:27:00.924416058Z [20:27:00 INF] HTTP GET /health responded 200 in 16.5436 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:27:06.340936844Z [20:27:06 INF] REQUEST 0f91b1d8: GET /health from 127.0.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSK:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSK"}
boiler-gateway | 2025-08-22T20:27:06.340986947Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:27:06.340990847Z    Path: /health
boiler-gateway | 2025-08-22T20:27:06.340993847Z    Method: GET
boiler-gateway | 2025-08-22T20:27:06.340996347Z    Authorization Header: MISSING
boiler-gateway | 2025-08-22T20:27:06.342027298Z [20:27:06 INF] RESPONSE 0f91b1d8: 200 in 1ms | Size: Unknown {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSK:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSK"}
boiler-gateway | 2025-08-22T20:27:06.342096101Z [20:27:06 INF] HTTP GET /health responded 200 in 1.2801 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSK:00000001", "ConnectionId": "0HNF1N3E75TSK"}
boiler-postgres | 2025-08-22 20:27:25.605 UTC [433] ERROR:  function set_config(unknown, integer, boolean) does not exist at character 8
boiler-postgres | 2025-08-22 20:27:25.605 UTC [433] HINT:  No function matches the given name and argument types. You might need to add explicit type casts.
boiler-postgres | 2025-08-22 20:27:25.605 UTC [433] STATEMENT:  SELECT set_config('app.tenant_id', $1, false)
boiler-user |   | 2025-08-22T20:27:25.601213629Z [20:27:25 INF] üîç All request headers: Accept=*/*; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Referer=https://localhost:7002/swagger/index.html; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-fetch-site=same-origin; sec-fetch-mode=cors; sec-fetch-dest=empty; priority=u=1, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000019", "RequestPath": "/api/AuditTest/test-audit-analytics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:25.601295634Z [20:27:25 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000019", "RequestPath": "/api/AuditTest/test-audit-analytics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:25.604971629Z [20:27:25 INF] üîç All request headers: Accept=*/*; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Referer=https://localhost:7002/swagger/index.html; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-fetch-site=same-origin; sec-fetch-mode=cors; sec-fetch-dest=empty; priority=u=1, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000019", "RequestPath": "/api/AuditTest/test-audit-analytics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:25.605073635Z [20:27:25 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000019", "RequestPath": "/api/AuditTest/test-audit-analytics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:25.605527459Z [20:27:25 INF] üîç All request headers: Accept=*/*; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Referer=https://localhost:7002/swagger/index.html; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-fetch-site=same-origin; sec-fetch-mode=cors; sec-fetch-dest=empty; priority=u=1, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000019", "RequestPath": "/api/AuditTest/test-audit-analytics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:25.605583862Z [20:27:25 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000019", "RequestPath": "/api/AuditTest/test-audit-analytics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:25.607119144Z [20:27:25 ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='1'], CommandType='Text', CommandTimeout='30']
boiler-user |   | 2025-08-22T20:27:25.607133645Z SELECT set_config('app.tenant_id', @p0, false) {"EventId": {"Id": 20102, "Name": "Microsoft.EntityFrameworkCore.Database.Command.CommandError"}, "SourceContext": "Microsoft.EntityFrameworkCore.Database.Command", "RequestId": "0HNF1N3CFNKUP:00000019", "RequestPath": "/api/AuditTest/test-audit-analytics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:25.615719602Z [20:27:25 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUP:00000019", "RequestPath": "/api/AuditTest/test-audit-analytics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:25.620278545Z [20:27:25 INF] üîç All request headers: Accept=*/*; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Referer=https://localhost:7002/swagger/index.html; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-fetch-site=same-origin; sec-fetch-mode=cors; sec-fetch-dest=empty; priority=u=1, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "ActionId": "575eb18f-02a5-4423-9dfd-6eef5b89bcfc", "ActionName": "UserService.Controllers.AuditTestController.TestAuditAnalytics (UserService)", "RequestId": "0HNF1N3CFNKUP:00000019", "RequestPath": "/api/AuditTest/test-audit-analytics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:25.620371550Z [20:27:25 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "ActionId": "575eb18f-02a5-4423-9dfd-6eef5b89bcfc", "ActionName": "UserService.Controllers.AuditTestController.TestAuditAnalytics (UserService)", "RequestId": "0HNF1N3CFNKUP:00000019", "RequestPath": "/api/AuditTest/test-audit-analytics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:25.749600734Z [20:27:25 INF] HTTP GET /api/AuditTest/test-audit-analytics responded 200 in 150.0607 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-auth |   | 2025-08-22T20:27:30.993630944Z [20:27:30 INF] HTTP GET /health responded 200 in 0.1591 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:27:30.996492922Z [20:27:30 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUT:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3CFNKUT"}
boiler-user |   | 2025-08-22T20:27:31.007311396Z [20:27:31 INF] HTTP GET /health responded 200 in 13.7606 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:27:36.627642275Z [20:27:36 INF] REQUEST 8da9fbd1: GET /health from 127.0.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSL:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSL"}
boiler-gateway | 2025-08-22T20:27:36.629959702Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:27:36.629987704Z    Path: /health
boiler-gateway | 2025-08-22T20:27:36.629991004Z    Method: GET
boiler-gateway | 2025-08-22T20:27:36.629993804Z    Authorization Header: MISSING
boiler-gateway | 2025-08-22T20:27:36.630002204Z [20:27:36 INF] RESPONSE 8da9fbd1: 200 in 0ms | Size: Unknown {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSL:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSL"}
boiler-gateway | 2025-08-22T20:27:36.630005405Z [20:27:36 INF] HTTP GET /health responded 200 in 0.6952 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSL:00000001", "ConnectionId": "0HNF1N3E75TSL"}
boiler-user |   | 2025-08-22T20:27:39.670946507Z [20:27:39 INF] üîç All request headers: Accept=*/*; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Referer=https://localhost:7002/swagger/index.html; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-fetch-site=same-origin; sec-fetch-mode=cors; sec-fetch-dest=empty; priority=u=1, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:0000001B", "RequestPath": "/api/Monitoring/metrics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:39.671035212Z [20:27:39 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:0000001B", "RequestPath": "/api/Monitoring/metrics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:39.686312847Z [20:27:39 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUP:0000001B", "RequestPath": "/api/Monitoring/metrics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:39.687150693Z [20:27:39 DBG] Policy authentication schemes  did not succeed {"SourceContext": "Microsoft.AspNetCore.Authorization.AuthorizationMiddleware", "RequestId": "0HNF1N3CFNKUP:0000001B", "RequestPath": "/api/Monitoring/metrics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:39.687975438Z [20:27:39 WRN] Authorization failed: No valid user ID found in claims {"SourceContext": "Common.Authorization.PermissionAuthorizationHandler", "RequestId": "0HNF1N3CFNKUP:0000001B", "RequestPath": "/api/Monitoring/metrics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:39.692203369Z [20:27:39 INF] üîç All request headers: Accept=*/*; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Referer=https://localhost:7002/swagger/index.html; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-fetch-site=same-origin; sec-fetch-mode=cors; sec-fetch-dest=empty; priority=u=1, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:0000001B", "RequestPath": "/api/Monitoring/metrics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:39.692274673Z [20:27:39 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:0000001B", "RequestPath": "/api/Monitoring/metrics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:39.696153885Z [20:27:39 INF] üîç All request headers: Accept=*/*; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Referer=https://localhost:7002/swagger/index.html; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-fetch-site=same-origin; sec-fetch-mode=cors; sec-fetch-dest=empty; priority=u=1, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:0000001B", "RequestPath": "/api/Monitoring/metrics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:39.696231389Z [20:27:39 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:0000001B", "RequestPath": "/api/Monitoring/metrics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-postgres | 2025-08-22 20:27:39.696 UTC [433] ERROR:  function set_config(unknown, integer, boolean) does not exist at character 8
boiler-postgres | 2025-08-22 20:27:39.696 UTC [433] HINT:  No function matches the given name and argument types. You might need to add explicit type casts.
boiler-postgres | 2025-08-22 20:27:39.696 UTC [433] STATEMENT:  SELECT set_config('app.tenant_id', $1, false)
boiler-user |   | 2025-08-22T20:27:39.697157640Z [20:27:39 ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='1'], CommandType='Text', CommandTimeout='30']
boiler-user |   | 2025-08-22T20:27:39.697204842Z SELECT set_config('app.tenant_id', @p0, false) {"EventId": {"Id": 20102, "Name": "Microsoft.EntityFrameworkCore.Database.Command.CommandError"}, "SourceContext": "Microsoft.EntityFrameworkCore.Database.Command", "RequestId": "0HNF1N3CFNKUP:0000001B", "RequestPath": "/api/Monitoring/metrics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-postgres | 2025-08-22 20:27:39.704 UTC [433] ERROR:  insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-postgres | 2025-08-22 20:27:39.704 UTC [433] DETAIL:  Key (UserId)=(0) is not present in table "Users".
boiler-postgres | 2025-08-22 20:27:39.704 UTC [433] STATEMENT:  INSERT INTO "PermissionAuditEntries" ("CacheHit", "CheckDurationMs", "CreatedAt", "DenialReason", "Granted", "IpAddress", "Permission", "Resource", "TenantId", "Timestamp", "UpdatedAt", "UserAgent", "UserId")
boiler-postgres | 	VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)
boiler-postgres | 	RETURNING "Id"
boiler-user |   | 2025-08-22T20:27:39.705587100Z [20:27:39 ERR] Failed executing DbCommand (4ms) [Parameters=[@p0='False', @p1='0.3163', @p2='2025-08-22T20:27:39.7003161Z' (DbType = DateTime), @p3='No valid user ID found in claims', @p4='False', @p5='172.18.0.1', @p6='system.monitor' (Nullable = false), @p7='GET /api/Monitoring/metrics' (Nullable = false), @p8='1', @p9='2025-08-22T20:27:39.6903464Z' (DbType = DateTime), @p10='2025-08-22T20:27:39.7003161Z' (DbType = DateTime), @p11='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36', @p12='0'], CommandType='Text', CommandTimeout='30']
boiler-user |   | 2025-08-22T20:27:39.705657904Z INSERT INTO "PermissionAuditEntries" ("CacheHit", "CheckDurationMs", "CreatedAt", "DenialReason", "Granted", "IpAddress", "Permission", "Resource", "TenantId", "Timestamp", "UpdatedAt", "UserAgent", "UserId")
boiler-user |   | 2025-08-22T20:27:39.705661604Z VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12)
boiler-user |   | 2025-08-22T20:27:39.705663804Z RETURNING "Id"; {"EventId": {"Id": 20102, "Name": "Microsoft.EntityFrameworkCore.Database.Command.CommandError"}, "SourceContext": "Microsoft.EntityFrameworkCore.Database.Command", "RequestId": "0HNF1N3CFNKUP:0000001B", "RequestPath": "/api/Monitoring/metrics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:39.712624885Z [20:27:39 ERR] An exception occurred in the database while saving changes for context type 'Common.Data.ApplicationDbContext'.
boiler-user |   | 2025-08-22T20:27:39.712716890Z Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
boiler-user |   | 2025-08-22T20:27:39.712719890Z  ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-user |   | 2025-08-22T20:27:39.712722990Z 
boiler-user |   | 2025-08-22T20:27:39.712725090Z DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
boiler-user |   | 2025-08-22T20:27:39.712727190Z    at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
boiler-user |   | 2025-08-22T20:27:39.712729491Z    at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
boiler-user |   | 2025-08-22T20:27:39.712732091Z    at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712734391Z    at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712737291Z    at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712739391Z    at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712778393Z    at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712780893Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712783093Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712785094Z    at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712787294Z   Exception data:
boiler-user |   | 2025-08-22T20:27:39.712789194Z     Severity: ERROR
boiler-user |   | 2025-08-22T20:27:39.712791994Z     SqlState: 23503
boiler-user |   | 2025-08-22T20:27:39.712793894Z     MessageText: insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-user |   | 2025-08-22T20:27:39.712796094Z     Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
boiler-user |   | 2025-08-22T20:27:39.712799394Z     SchemaName: public
boiler-user |   | 2025-08-22T20:27:39.712801294Z     TableName: PermissionAuditEntries
boiler-user |   | 2025-08-22T20:27:39.712803295Z     ConstraintName: FK_PermissionAuditEntries_Users_UserId
boiler-user |   | 2025-08-22T20:27:39.712805295Z     File: ri_triggers.c
boiler-user |   | 2025-08-22T20:27:39.712807195Z     Line: 2596
boiler-user |   | 2025-08-22T20:27:39.712809395Z     Routine: ri_ReportViolation
boiler-user |   | 2025-08-22T20:27:39.712811295Z    --- End of inner exception stack trace ---
boiler-user |   | 2025-08-22T20:27:39.712813295Z    at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712815495Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712817595Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712819795Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712821896Z    at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712823996Z    at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712826096Z    at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712828296Z    at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712848997Z    at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken) {"EventId": {"Id": 10000, "Name": "Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"}, "SourceContext": "Microsoft.EntityFrameworkCore.Update", "RequestId": "0HNF1N3CFNKUP:0000001B", "RequestPath": "/api/Monitoring/metrics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:39.712852197Z Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
boiler-user |   | 2025-08-22T20:27:39.712854297Z  ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-user |   | 2025-08-22T20:27:39.712856497Z 
boiler-user |   | 2025-08-22T20:27:39.712858598Z DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
boiler-user |   | 2025-08-22T20:27:39.712860598Z    at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
boiler-user |   | 2025-08-22T20:27:39.712863098Z    at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
boiler-user |   | 2025-08-22T20:27:39.712865298Z    at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712867398Z    at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712869498Z    at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712871498Z    at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712873598Z    at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712875599Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712877799Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712880099Z    at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712882199Z   Exception data:
boiler-user |   | 2025-08-22T20:27:39.712884199Z     Severity: ERROR
boiler-user |   | 2025-08-22T20:27:39.712886099Z     SqlState: 23503
boiler-user |   | 2025-08-22T20:27:39.712887999Z     MessageText: insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-user |   | 2025-08-22T20:27:39.712890099Z     Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
boiler-user |   | 2025-08-22T20:27:39.712895000Z     SchemaName: public
boiler-user |   | 2025-08-22T20:27:39.712897000Z     TableName: PermissionAuditEntries
boiler-user |   | 2025-08-22T20:27:39.712899200Z     ConstraintName: FK_PermissionAuditEntries_Users_UserId
boiler-user |   | 2025-08-22T20:27:39.712901400Z     File: ri_triggers.c
boiler-user |   | 2025-08-22T20:27:39.712903500Z     Line: 2596
boiler-user |   | 2025-08-22T20:27:39.712905500Z     Routine: ri_ReportViolation
boiler-user |   | 2025-08-22T20:27:39.712907300Z    --- End of inner exception stack trace ---
boiler-user |   | 2025-08-22T20:27:39.712909500Z    at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712911701Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712913801Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712916101Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712918201Z    at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712920301Z    at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712922301Z    at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712924801Z    at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.712926901Z    at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.716350488Z [20:27:39 ERR] Failed to log permission check audit entry {"SourceContext": "Common.Services.EnhancedAuditService", "RequestId": "0HNF1N3CFNKUP:0000001B", "RequestPath": "/api/Monitoring/metrics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:39.716372590Z Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
boiler-user |   | 2025-08-22T20:27:39.716375090Z  ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-user |   | 2025-08-22T20:27:39.716377590Z 
boiler-user |   | 2025-08-22T20:27:39.716379590Z DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
boiler-user |   | 2025-08-22T20:27:39.716404991Z    at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
boiler-user |   | 2025-08-22T20:27:39.716407592Z    at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
boiler-user |   | 2025-08-22T20:27:39.716410092Z    at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.716412192Z    at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.716414192Z    at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.716416292Z    at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.716418392Z    at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.716420392Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.716422592Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.716425493Z    at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.716427593Z   Exception data:
boiler-user |   | 2025-08-22T20:27:39.716429893Z     Severity: ERROR
boiler-user |   | 2025-08-22T20:27:39.716431893Z     SqlState: 23503
boiler-user |   | 2025-08-22T20:27:39.716433693Z     MessageText: insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-user |   | 2025-08-22T20:27:39.716435893Z     Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
boiler-user |   | 2025-08-22T20:27:39.716437893Z     SchemaName: public
boiler-user |   | 2025-08-22T20:27:39.716439993Z     TableName: PermissionAuditEntries
boiler-user |   | 2025-08-22T20:27:39.716441993Z     ConstraintName: FK_PermissionAuditEntries_Users_UserId
boiler-user |   | 2025-08-22T20:27:39.716443894Z     File: ri_triggers.c
boiler-user |   | 2025-08-22T20:27:39.716445794Z     Line: 2596
boiler-user |   | 2025-08-22T20:27:39.716447694Z     Routine: ri_ReportViolation
boiler-user |   | 2025-08-22T20:27:39.716449694Z    --- End of inner exception stack trace ---
boiler-user |   | 2025-08-22T20:27:39.716451594Z    at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.716453994Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.716456094Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.716460894Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.716463095Z    at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.716465395Z    at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.716467595Z    at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.716469795Z    at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.716472095Z    at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.716474195Z    at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.716476195Z    at Common.Data.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in /src/shared/Common/Data/ApplicationDbContext.cs:line 223
boiler-user |   | 2025-08-22T20:27:39.716478395Z    at Common.Services.EnhancedAuditService.LogPermissionCheckAsync(PermissionAuditEntry entry) in /src/shared/Common/Services/EnhancedAuditService.cs:line 78
boiler-user |   | 2025-08-22T20:27:39.716679706Z [20:27:39 WRN] Authorization failed: No valid user ID found in claims for permission system.monitor {"SourceContext": "Common.Authorization.EnhancedPermissionAuthorizationHandler", "RequestId": "0HNF1N3CFNKUP:0000001B", "RequestPath": "/api/Monitoring/metrics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:39.717285940Z [20:27:39 INF] Authorization failed. Fail() was explicitly called. {"EventId": {"Id": 2, "Name": "UserAuthorizationFailed"}, "SourceContext": "Microsoft.AspNetCore.Authorization.DefaultAuthorizationService", "RequestId": "0HNF1N3CFNKUP:0000001B", "RequestPath": "/api/Monitoring/metrics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:39.719013334Z [20:27:39 INF] AuthenticationScheme: Bearer was challenged. {"EventId": {"Id": 12, "Name": "AuthenticationSchemeChallenged"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUP:0000001B", "RequestPath": "/api/Monitoring/metrics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:39.719679070Z [20:27:39 INF] üîç All request headers: Accept=*/*; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Referer=https://localhost:7002/swagger/index.html; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-fetch-site=same-origin; sec-fetch-mode=cors; sec-fetch-dest=empty; priority=u=1, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:0000001B", "RequestPath": "/api/Monitoring/metrics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:39.719717672Z [20:27:39 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:0000001B", "RequestPath": "/api/Monitoring/metrics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:39.719876681Z [20:27:39 INF] üîç All request headers: Accept=*/*; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Referer=https://localhost:7002/swagger/index.html; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-fetch-site=same-origin; sec-fetch-mode=cors; sec-fetch-dest=empty; priority=u=1, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:0000001B", "RequestPath": "/api/Monitoring/metrics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:39.719890582Z [20:27:39 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:0000001B", "RequestPath": "/api/Monitoring/metrics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-postgres | 2025-08-22 20:27:39.720 UTC [433] ERROR:  function set_config(unknown, integer, boolean) does not exist at character 8
boiler-postgres | 2025-08-22 20:27:39.720 UTC [433] HINT:  No function matches the given name and argument types. You might need to add explicit type casts.
boiler-postgres | 2025-08-22 20:27:39.720 UTC [433] STATEMENT:  SELECT set_config('app.tenant_id', $1, false)
boiler-user |   | 2025-08-22T20:27:39.720798732Z [20:27:39 ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='1'], CommandType='Text', CommandTimeout='30']
boiler-user |   | 2025-08-22T20:27:39.720811132Z SELECT set_config('app.tenant_id', @p0, false) {"EventId": {"Id": 20102, "Name": "Microsoft.EntityFrameworkCore.Database.Command.CommandError"}, "SourceContext": "Microsoft.EntityFrameworkCore.Database.Command", "RequestId": "0HNF1N3CFNKUP:0000001B", "RequestPath": "/api/Monitoring/metrics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-postgres | 2025-08-22 20:27:39.726 UTC [433] ERROR:  insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-user |   | 2025-08-22T20:27:39.727414493Z [20:27:39 ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='False', @p1='0.3163', @p2='2025-08-22T20:27:39.7209134Z' (DbType = DateTime), @p3='No valid user ID found in claims', @p4='False', @p5='172.18.0.1', @p6='system.monitor' (Nullable = false), @p7='GET /api/Monitoring/metrics' (Nullable = false), @p8='1', @p9='2025-08-22T20:27:39.6903464Z' (DbType = DateTime), @p10='2025-08-22T20:27:39.7209134Z' (DbType = DateTime), @p11='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36', @p12='0', @p13='GET', @p14='2025-08-22T20:27:39.7209134Z' (DbType = DateTime), @p15='{"Path":"/api/Monitoring/metrics","Method":"GET","StatusCode":401,"Reason":"Unauthorized access attempt","HasTenantContext":false}' (DbType = Object), @p16='UnauthorizedAccess' (Nullable = false), @p17='False', @p18=NULL, @p19='172.18.0.1', @p20='GET /api/Monitoring/metrics', @p21='Medium' (Nullable = false), @p22='1', @p23='2025-08-22T20:27:39.7194221Z' (DbType = DateTime), @p24='2025-08-22T20:27:39.7209134Z' (DbType = DateTime), @p25='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36', @p26=NULL, @p27=NULL (DbType = Int32)], CommandType='Text', CommandTimeout='30']
boiler-user |   | 2025-08-22T20:27:39.727432894Z INSERT INTO "PermissionAuditEntries" ("CacheHit", "CheckDurationMs", "CreatedAt", "DenialReason", "Granted", "IpAddress", "Permission", "Resource", "TenantId", "Timestamp", "UpdatedAt", "UserAgent", "UserId")
boiler-user |   | 2025-08-22T20:27:39.727435694Z VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12)
boiler-user |   | 2025-08-22T20:27:39.727437894Z RETURNING "Id";
boiler-user |   | 2025-08-22T20:27:39.727454295Z INSERT INTO "SecurityEventAuditEntries" ("Action", "CreatedAt", "Details", "EventType", "Investigated", "InvestigationNotes", "IpAddress", "Resource", "Severity", "TenantId", "Timestamp", "UpdatedAt", "UserAgent", "UserEmail", "UserId")
boiler-user |   | 2025-08-22T20:27:39.727457195Z VALUES (@p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27)
boiler-user |   | 2025-08-22T20:27:39.727459796Z RETURNING "Id"; {"EventId": {"Id": 20102, "Name": "Microsoft.EntityFrameworkCore.Database.Command.CommandError"}, "SourceContext": "Microsoft.EntityFrameworkCore.Database.Command", "RequestId": "0HNF1N3CFNKUP:0000001B", "RequestPath": "/api/Monitoring/metrics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-postgres | 2025-08-22 20:27:39.726 UTC [433] DETAIL:  Key (UserId)=(0) is not present in table "Users".
boiler-postgres | 2025-08-22 20:27:39.726 UTC [433] STATEMENT:  INSERT INTO "PermissionAuditEntries" ("CacheHit", "CheckDurationMs", "CreatedAt", "DenialReason", "Granted", "IpAddress", "Permission", "Resource", "TenantId", "Timestamp", "UpdatedAt", "UserAgent", "UserId")
boiler-postgres | 	VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)
boiler-postgres | 	RETURNING "Id"
boiler-user |   | 2025-08-22T20:27:39.733587330Z [20:27:39 ERR] An exception occurred in the database while saving changes for context type 'Common.Data.ApplicationDbContext'.
boiler-user |   | 2025-08-22T20:27:39.733605731Z Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
boiler-user |   | 2025-08-22T20:27:39.733607932Z  ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-user |   | 2025-08-22T20:27:39.733610432Z 
boiler-user |   | 2025-08-22T20:27:39.733612732Z DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
boiler-user |   | 2025-08-22T20:27:39.733614832Z    at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
boiler-user |   | 2025-08-22T20:27:39.733617332Z    at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
boiler-user |   | 2025-08-22T20:27:39.733619532Z    at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733621732Z    at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733623732Z    at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733625833Z    at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733627933Z    at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733639833Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733642133Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733644334Z    at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733646334Z   Exception data:
boiler-user |   | 2025-08-22T20:27:39.733657134Z     Severity: ERROR
boiler-user |   | 2025-08-22T20:27:39.733659834Z     SqlState: 23503
boiler-user |   | 2025-08-22T20:27:39.733661835Z     MessageText: insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-user |   | 2025-08-22T20:27:39.733664335Z     Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
boiler-user |   | 2025-08-22T20:27:39.733666335Z     SchemaName: public
boiler-user |   | 2025-08-22T20:27:39.733668235Z     TableName: PermissionAuditEntries
boiler-user |   | 2025-08-22T20:27:39.733670335Z     ConstraintName: FK_PermissionAuditEntries_Users_UserId
boiler-user |   | 2025-08-22T20:27:39.733672135Z     File: ri_triggers.c
boiler-user |   | 2025-08-22T20:27:39.733674135Z     Line: 2596
boiler-user |   | 2025-08-22T20:27:39.733676035Z     Routine: ri_ReportViolation
boiler-user |   | 2025-08-22T20:27:39.733677935Z    --- End of inner exception stack trace ---
boiler-user |   | 2025-08-22T20:27:39.733679936Z    at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733682036Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733684236Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733686336Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733688536Z    at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733846745Z    at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733849045Z    at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733851245Z    at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733853845Z    at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken) {"EventId": {"Id": 10000, "Name": "Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"}, "SourceContext": "Microsoft.EntityFrameworkCore.Update", "RequestId": "0HNF1N3CFNKUP:0000001B", "RequestPath": "/api/Monitoring/metrics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:39.733856845Z Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
boiler-user |   | 2025-08-22T20:27:39.733858845Z  ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-user |   | 2025-08-22T20:27:39.733864446Z 
boiler-user |   | 2025-08-22T20:27:39.733866346Z DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
boiler-user |   | 2025-08-22T20:27:39.733868546Z    at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
boiler-user |   | 2025-08-22T20:27:39.733870746Z    at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
boiler-user |   | 2025-08-22T20:27:39.733873246Z    at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733875346Z    at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733877346Z    at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733879346Z    at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733881347Z    at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733883447Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733885647Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733887947Z    at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733889947Z   Exception data:
boiler-user |   | 2025-08-22T20:27:39.733891847Z     Severity: ERROR
boiler-user |   | 2025-08-22T20:27:39.733893847Z     SqlState: 23503
boiler-user |   | 2025-08-22T20:27:39.733895947Z     MessageText: insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-user |   | 2025-08-22T20:27:39.733898147Z     Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
boiler-user |   | 2025-08-22T20:27:39.733900248Z     SchemaName: public
boiler-user |   | 2025-08-22T20:27:39.733902148Z     TableName: PermissionAuditEntries
boiler-user |   | 2025-08-22T20:27:39.733904148Z     ConstraintName: FK_PermissionAuditEntries_Users_UserId
boiler-user |   | 2025-08-22T20:27:39.733906348Z     File: ri_triggers.c
boiler-user |   | 2025-08-22T20:27:39.733908248Z     Line: 2596
boiler-user |   | 2025-08-22T20:27:39.733910148Z     Routine: ri_ReportViolation
boiler-user |   | 2025-08-22T20:27:39.733912148Z    --- End of inner exception stack trace ---
boiler-user |   | 2025-08-22T20:27:39.733930749Z    at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733935650Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733938050Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733940150Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733942450Z    at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733944550Z    at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733946550Z    at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733948850Z    at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.733951250Z    at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.734135860Z [20:27:39 ERR] Failed to log security event audit entry {"SourceContext": "Common.Services.EnhancedAuditService", "RequestId": "0HNF1N3CFNKUP:0000001B", "RequestPath": "/api/Monitoring/metrics", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:27:39.734139661Z Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
boiler-user |   | 2025-08-22T20:27:39.734141861Z  ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-user |   | 2025-08-22T20:27:39.734144061Z 
boiler-user |   | 2025-08-22T20:27:39.734145961Z DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
boiler-user |   | 2025-08-22T20:27:39.734148061Z    at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
boiler-user |   | 2025-08-22T20:27:39.734150161Z    at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
boiler-user |   | 2025-08-22T20:27:39.734152461Z    at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.734164262Z    at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.734166262Z    at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.734170962Z    at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.734172962Z    at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.734175263Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.734177463Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.734179863Z    at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.734181963Z   Exception data:
boiler-user |   | 2025-08-22T20:27:39.734184363Z     Severity: ERROR
boiler-user |   | 2025-08-22T20:27:39.734186263Z     SqlState: 23503
boiler-user |   | 2025-08-22T20:27:39.734188163Z     MessageText: insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-user |   | 2025-08-22T20:27:39.734190363Z     Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
boiler-user |   | 2025-08-22T20:27:39.734192464Z     SchemaName: public
boiler-user |   | 2025-08-22T20:27:39.734194364Z     TableName: PermissionAuditEntries
boiler-user |   | 2025-08-22T20:27:39.734196264Z     ConstraintName: FK_PermissionAuditEntries_Users_UserId
boiler-user |   | 2025-08-22T20:27:39.734198264Z     File: ri_triggers.c
boiler-user |   | 2025-08-22T20:27:39.734200264Z     Line: 2596
boiler-user |   | 2025-08-22T20:27:39.734202164Z     Routine: ri_ReportViolation
boiler-user |   | 2025-08-22T20:27:39.734204064Z    --- End of inner exception stack trace ---
boiler-user |   | 2025-08-22T20:27:39.734206064Z    at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.734208264Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.734210365Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.734212665Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.734412076Z    at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.734414576Z    at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.734416776Z    at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.734424076Z    at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.734427476Z    at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.734429677Z    at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:27:39.734432177Z    at Common.Data.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in /src/shared/Common/Data/ApplicationDbContext.cs:line 223
boiler-user |   | 2025-08-22T20:27:39.734434377Z    at Common.Services.EnhancedAuditService.LogSecurityEventAsync(SecurityEventAuditEntry entry) in /src/shared/Common/Services/EnhancedAuditService.cs:line 148
boiler-user |   | 2025-08-22T20:27:39.735850054Z [20:27:39 INF] HTTP GET /api/Monitoring/metrics responded 401 in 66.4256 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:28:00.029735599Z [20:28:00 INF] üîç All request headers: Accept=*/*; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Referer=https://localhost:7002/swagger/index.html; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-fetch-site=same-origin; sec-fetch-mode=cors; sec-fetch-dest=empty; priority=u=1, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:0000001D", "RequestPath": "/api/Monitoring/health", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:00.030120621Z [20:28:00 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:0000001D", "RequestPath": "/api/Monitoring/health", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:00.045124059Z [20:28:00 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUP:0000001D", "RequestPath": "/api/Monitoring/health", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:00.050752774Z [20:28:00 ERR] An exception occurred while iterating over the results of a query for context type 'Common.Data.ApplicationDbContext'.
boiler-user |   | 2025-08-22T20:28:00.050833279Z System.InvalidOperationException: Sequence contains no elements.
boiler-user |   | 2025-08-22T20:28:00.050837179Z    at lambda_method763(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
boiler-user |   | 2025-08-22T20:28:00.050841079Z    at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync() {"EventId": {"Id": 10100, "Name": "Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"}, "SourceContext": "Microsoft.EntityFrameworkCore.Query", "ActionId": "7fa896c2-629f-4c1e-9adb-26ba4a317653", "ActionName": "UserService.Controllers.MonitoringController.GetHealthStatus (UserService)", "RequestId": "0HNF1N3CFNKUP:0000001D", "RequestPath": "/api/Monitoring/health", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:00.050883681Z System.InvalidOperationException: Sequence contains no elements.
boiler-user |   | 2025-08-22T20:28:00.050885981Z    at lambda_method763(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
boiler-user |   | 2025-08-22T20:28:00.050887982Z    at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
boiler-user |   | 2025-08-22T20:28:00.051820434Z [20:28:00 ERR] Failed to get system metrics for period 00:05:00 {"SourceContext": "Common.Services.MonitoringService", "ActionId": "7fa896c2-629f-4c1e-9adb-26ba4a317653", "ActionName": "UserService.Controllers.MonitoringController.GetHealthStatus (UserService)", "RequestId": "0HNF1N3CFNKUP:0000001D", "RequestPath": "/api/Monitoring/health", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:00.051873137Z System.InvalidOperationException: Sequence contains no elements.
boiler-user |   | 2025-08-22T20:28:00.051876037Z    at lambda_method763(Closure, QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator)
boiler-user |   | 2025-08-22T20:28:00.051878237Z    at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
boiler-user |   | 2025-08-22T20:28:00.051880237Z    at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:00.051882437Z    at Microsoft.EntityFrameworkCore.Query.ShapedQueryCompilingExpressionVisitor.SingleAsync[TSource](IAsyncEnumerable`1 asyncEnumerable, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:00.051884537Z    at Common.Services.EnhancedAuditService.GetSecurityMetricsAsync(TimeSpan period) in /src/shared/Common/Services/EnhancedAuditService.cs:line 255
boiler-user |   | 2025-08-22T20:28:00.051886637Z    at Common.Services.MonitoringService.GetSystemMetricsAsync(TimeSpan period) in /src/shared/Common/Services/MonitoringService.cs:line 176
boiler-user |   | 2025-08-22T20:28:00.057218335Z [20:28:00 INF] HTTP GET /api/Monitoring/health responded 200 in 28.2062 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-auth |   | 2025-08-22T20:28:01.127976784Z [20:28:01 INF] HTTP GET /health responded 200 in 0.1594 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:28:01.129820587Z [20:28:01 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUU:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3CFNKUU"}
boiler-user |   | 2025-08-22T20:28:01.142074372Z [20:28:01 INF] HTTP GET /health responded 200 in 15.2315 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:28:06.684569581Z [20:28:06 INF] REQUEST e83b64fd: GET /health from 127.0.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSM:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSM"}
boiler-gateway | 2025-08-22T20:28:06.684649585Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:28:06.684654086Z    Path: /health
boiler-gateway | 2025-08-22T20:28:06.684656686Z    Method: GET
boiler-gateway | 2025-08-22T20:28:06.684659386Z    Authorization Header: MISSING
boiler-gateway | 2025-08-22T20:28:06.685357325Z [20:28:06 INF] RESPONSE e83b64fd: 200 in 0ms | Size: Unknown {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSM:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSM"}
boiler-gateway | 2025-08-22T20:28:06.685401227Z [20:28:06 INF] HTTP GET /health responded 200 in 0.7457 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSM:00000001", "ConnectionId": "0HNF1N3E75TSM"}
boiler-user |   | 2025-08-22T20:28:07.779369875Z [20:28:07 INF] üîç All request headers: Accept=*/*; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Referer=https://localhost:7002/swagger/index.html; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-fetch-site=same-origin; sec-fetch-mode=cors; sec-fetch-dest=empty; priority=u=1, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:0000001F", "RequestPath": "/api/Monitoring/alerts", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:07.779431378Z [20:28:07 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:0000001F", "RequestPath": "/api/Monitoring/alerts", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:07.785114094Z [20:28:07 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUP:0000001F", "RequestPath": "/api/Monitoring/alerts", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:07.785415611Z [20:28:07 DBG] Policy authentication schemes  did not succeed {"SourceContext": "Microsoft.AspNetCore.Authorization.AuthorizationMiddleware", "RequestId": "0HNF1N3CFNKUP:0000001F", "RequestPath": "/api/Monitoring/alerts", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:07.785462213Z [20:28:07 WRN] Authorization failed: No valid user ID found in claims {"SourceContext": "Common.Authorization.PermissionAuthorizationHandler", "RequestId": "0HNF1N3CFNKUP:0000001F", "RequestPath": "/api/Monitoring/alerts", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:07.785465613Z [20:28:07 INF] üîç All request headers: Accept=*/*; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Referer=https://localhost:7002/swagger/index.html; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-fetch-site=same-origin; sec-fetch-mode=cors; sec-fetch-dest=empty; priority=u=1, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:0000001F", "RequestPath": "/api/Monitoring/alerts", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:07.785469814Z [20:28:07 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:0000001F", "RequestPath": "/api/Monitoring/alerts", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:07.785659224Z [20:28:07 INF] üîç All request headers: Accept=*/*; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Referer=https://localhost:7002/swagger/index.html; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-fetch-site=same-origin; sec-fetch-mode=cors; sec-fetch-dest=empty; priority=u=1, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:0000001F", "RequestPath": "/api/Monitoring/alerts", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:07.785695326Z [20:28:07 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:0000001F", "RequestPath": "/api/Monitoring/alerts", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:07.787162108Z [20:28:07 ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='1'], CommandType='Text', CommandTimeout='30']
boiler-user |   | 2025-08-22T20:28:07.787210710Z SELECT set_config('app.tenant_id', @p0, false) {"EventId": {"Id": 20102, "Name": "Microsoft.EntityFrameworkCore.Database.Command.CommandError"}, "SourceContext": "Microsoft.EntityFrameworkCore.Database.Command", "RequestId": "0HNF1N3CFNKUP:0000001F", "RequestPath": "/api/Monitoring/alerts", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-postgres | 2025-08-22 20:28:07.786 UTC [433] ERROR:  function set_config(unknown, integer, boolean) does not exist at character 8
boiler-postgres | 2025-08-22 20:28:07.786 UTC [433] HINT:  No function matches the given name and argument types. You might need to add explicit type casts.
boiler-postgres | 2025-08-22 20:28:07.786 UTC [433] STATEMENT:  SELECT set_config('app.tenant_id', $1, false)
boiler-user |   | 2025-08-22T20:28:07.789081414Z [20:28:07 ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='False', @p1='0.0069', @p2='2025-08-22T20:28:07.7871132Z' (DbType = DateTime), @p3='No valid user ID found in claims', @p4='False', @p5='172.18.0.1', @p6='system.monitor' (Nullable = false), @p7='GET /api/Monitoring/alerts' (Nullable = false), @p8='1', @p9='2025-08-22T20:28:07.7852306Z' (DbType = DateTime), @p10='2025-08-22T20:28:07.7871132Z' (DbType = DateTime), @p11='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36', @p12='0'], CommandType='Text', CommandTimeout='30']
boiler-user |   | 2025-08-22T20:28:07.789100215Z INSERT INTO "PermissionAuditEntries" ("CacheHit", "CheckDurationMs", "CreatedAt", "DenialReason", "Granted", "IpAddress", "Permission", "Resource", "TenantId", "Timestamp", "UpdatedAt", "UserAgent", "UserId")
boiler-user |   | 2025-08-22T20:28:07.789103315Z VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12)
boiler-user |   | 2025-08-22T20:28:07.789105516Z RETURNING "Id"; {"EventId": {"Id": 20102, "Name": "Microsoft.EntityFrameworkCore.Database.Command.CommandError"}, "SourceContext": "Microsoft.EntityFrameworkCore.Database.Command", "RequestId": "0HNF1N3CFNKUP:0000001F", "RequestPath": "/api/Monitoring/alerts", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-postgres | 2025-08-22 20:28:07.788 UTC [433] ERROR:  insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-postgres | 2025-08-22 20:28:07.788 UTC [433] DETAIL:  Key (UserId)=(0) is not present in table "Users".
boiler-postgres | 2025-08-22 20:28:07.788 UTC [433] STATEMENT:  INSERT INTO "PermissionAuditEntries" ("CacheHit", "CheckDurationMs", "CreatedAt", "DenialReason", "Granted", "IpAddress", "Permission", "Resource", "TenantId", "Timestamp", "UpdatedAt", "UserAgent", "UserId")
boiler-postgres | 	VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)
boiler-postgres | 	RETURNING "Id"
boiler-user |   | 2025-08-22T20:28:07.790949318Z [20:28:07 ERR] An exception occurred in the database while saving changes for context type 'Common.Data.ApplicationDbContext'.
boiler-user |   | 2025-08-22T20:28:07.791013921Z Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
boiler-user |   | 2025-08-22T20:28:07.791019322Z  ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-user |   | 2025-08-22T20:28:07.791022222Z 
boiler-user |   | 2025-08-22T20:28:07.791024222Z DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
boiler-user |   | 2025-08-22T20:28:07.791026422Z    at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
boiler-user |   | 2025-08-22T20:28:07.791028522Z    at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
boiler-user |   | 2025-08-22T20:28:07.791044523Z    at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791046523Z    at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791061524Z    at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791063724Z    at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791065724Z    at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791067824Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791091526Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791094126Z    at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791096226Z   Exception data:
boiler-user |   | 2025-08-22T20:28:07.791098226Z     Severity: ERROR
boiler-user |   | 2025-08-22T20:28:07.791101026Z     SqlState: 23503
boiler-user |   | 2025-08-22T20:28:07.791103226Z     MessageText: insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-user |   | 2025-08-22T20:28:07.791105427Z     Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
boiler-user |   | 2025-08-22T20:28:07.791107527Z     SchemaName: public
boiler-user |   | 2025-08-22T20:28:07.791109327Z     TableName: PermissionAuditEntries
boiler-user |   | 2025-08-22T20:28:07.791111627Z     ConstraintName: FK_PermissionAuditEntries_Users_UserId
boiler-user |   | 2025-08-22T20:28:07.791113527Z     File: ri_triggers.c
boiler-user |   | 2025-08-22T20:28:07.791115627Z     Line: 2596
boiler-user |   | 2025-08-22T20:28:07.791117527Z     Routine: ri_ReportViolation
boiler-user |   | 2025-08-22T20:28:07.791119427Z    --- End of inner exception stack trace ---
boiler-user |   | 2025-08-22T20:28:07.791121427Z    at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791123528Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791125728Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791128328Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791130628Z    at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791132628Z    at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791134828Z    at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791136928Z    at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791140228Z    at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken) {"EventId": {"Id": 10000, "Name": "Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"}, "SourceContext": "Microsoft.EntityFrameworkCore.Update", "RequestId": "0HNF1N3CFNKUP:0000001F", "RequestPath": "/api/Monitoring/alerts", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:07.791156029Z Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
boiler-user |   | 2025-08-22T20:28:07.791158430Z  ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-user |   | 2025-08-22T20:28:07.791161230Z 
boiler-user |   | 2025-08-22T20:28:07.791163130Z DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
boiler-user |   | 2025-08-22T20:28:07.791165330Z    at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
boiler-user |   | 2025-08-22T20:28:07.791167530Z    at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
boiler-user |   | 2025-08-22T20:28:07.791169830Z    at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791171830Z    at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791173930Z    at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791176030Z    at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791178431Z    at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791180431Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791182631Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791184931Z    at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791187031Z   Exception data:
boiler-user |   | 2025-08-22T20:28:07.791188931Z     Severity: ERROR
boiler-user |   | 2025-08-22T20:28:07.791190731Z     SqlState: 23503
boiler-user |   | 2025-08-22T20:28:07.791192731Z     MessageText: insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-user |   | 2025-08-22T20:28:07.791194832Z     Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
boiler-user |   | 2025-08-22T20:28:07.791196832Z     SchemaName: public
boiler-user |   | 2025-08-22T20:28:07.791198832Z     TableName: PermissionAuditEntries
boiler-user |   | 2025-08-22T20:28:07.791202632Z     ConstraintName: FK_PermissionAuditEntries_Users_UserId
boiler-user |   | 2025-08-22T20:28:07.791204632Z     File: ri_triggers.c
boiler-user |   | 2025-08-22T20:28:07.791206532Z     Line: 2596
boiler-user |   | 2025-08-22T20:28:07.791208432Z     Routine: ri_ReportViolation
boiler-user |   | 2025-08-22T20:28:07.791210332Z    --- End of inner exception stack trace ---
boiler-user |   | 2025-08-22T20:28:07.791212633Z    at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791214633Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791216833Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791218933Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791221033Z    at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791223233Z    at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791225333Z    at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
boiler-postgres | 2025-08-22 20:28:07.792 UTC [433] ERROR:  function set_config(unknown, integer, boolean) does not exist at character 8
boiler-postgres | 2025-08-22 20:28:07.792 UTC [433] HINT:  No function matches the given name and argument types. You might need to add explicit type casts.
boiler-postgres | 2025-08-22 20:28:07.792 UTC [433] STATEMENT:  SELECT set_config('app.tenant_id', $1, false)
boiler-user |   | 2025-08-22T20:28:07.791227833Z    at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791230133Z    at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791631356Z [20:28:07 ERR] Failed to log permission check audit entry {"SourceContext": "Common.Services.EnhancedAuditService", "RequestId": "0HNF1N3CFNKUP:0000001F", "RequestPath": "/api/Monitoring/alerts", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:07.791674058Z Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
boiler-user |   | 2025-08-22T20:28:07.791677058Z  ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-user |   | 2025-08-22T20:28:07.791679858Z 
boiler-user |   | 2025-08-22T20:28:07.791682059Z DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
boiler-user |   | 2025-08-22T20:28:07.791684759Z    at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
boiler-user |   | 2025-08-22T20:28:07.791686859Z    at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
boiler-user |   | 2025-08-22T20:28:07.791708460Z    at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791710660Z    at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791712860Z    at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791715060Z    at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791717061Z    at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791719261Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791721561Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791724561Z    at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791726761Z   Exception data:
boiler-user |   | 2025-08-22T20:28:07.791728661Z     Severity: ERROR
boiler-user |   | 2025-08-22T20:28:07.791730661Z     SqlState: 23503
boiler-user |   | 2025-08-22T20:28:07.791732861Z     MessageText: insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-user |   | 2025-08-22T20:28:07.791735062Z     Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
boiler-user |   | 2025-08-22T20:28:07.791737062Z     SchemaName: public
boiler-user |   | 2025-08-22T20:28:07.791739162Z     TableName: PermissionAuditEntries
boiler-user |   | 2025-08-22T20:28:07.791741162Z     ConstraintName: FK_PermissionAuditEntries_Users_UserId
boiler-user |   | 2025-08-22T20:28:07.791743162Z     File: ri_triggers.c
boiler-user |   | 2025-08-22T20:28:07.791745062Z     Line: 2596
boiler-user |   | 2025-08-22T20:28:07.791747062Z     Routine: ri_ReportViolation
boiler-user |   | 2025-08-22T20:28:07.791749062Z    --- End of inner exception stack trace ---
boiler-user |   | 2025-08-22T20:28:07.791750962Z    at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791753163Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791755963Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791758163Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791762563Z    at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791764663Z    at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791766763Z    at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791769263Z    at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791771664Z    at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791773664Z    at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.791775864Z    at Common.Data.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in /src/shared/Common/Data/ApplicationDbContext.cs:line 223
boiler-user |   | 2025-08-22T20:28:07.791778064Z    at Common.Services.EnhancedAuditService.LogPermissionCheckAsync(PermissionAuditEntry entry) in /src/shared/Common/Services/EnhancedAuditService.cs:line 78
boiler-user |   | 2025-08-22T20:28:07.791780164Z [20:28:07 WRN] Authorization failed: No valid user ID found in claims for permission system.monitor {"SourceContext": "Common.Authorization.EnhancedPermissionAuthorizationHandler", "RequestId": "0HNF1N3CFNKUP:0000001F", "RequestPath": "/api/Monitoring/alerts", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:07.791782764Z [20:28:07 INF] Authorization failed. Fail() was explicitly called. {"EventId": {"Id": 2, "Name": "UserAuthorizationFailed"}, "SourceContext": "Microsoft.AspNetCore.Authorization.DefaultAuthorizationService", "RequestId": "0HNF1N3CFNKUP:0000001F", "RequestPath": "/api/Monitoring/alerts", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:07.791916072Z [20:28:07 INF] AuthenticationScheme: Bearer was challenged. {"EventId": {"Id": 12, "Name": "AuthenticationSchemeChallenged"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUP:0000001F", "RequestPath": "/api/Monitoring/alerts", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:07.791934273Z [20:28:07 INF] üîç All request headers: Accept=*/*; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Referer=https://localhost:7002/swagger/index.html; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-fetch-site=same-origin; sec-fetch-mode=cors; sec-fetch-dest=empty; priority=u=1, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:0000001F", "RequestPath": "/api/Monitoring/alerts", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:07.791940073Z [20:28:07 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:0000001F", "RequestPath": "/api/Monitoring/alerts", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:07.792288292Z [20:28:07 INF] üîç All request headers: Accept=*/*; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Referer=https://localhost:7002/swagger/index.html; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-fetch-site=same-origin; sec-fetch-mode=cors; sec-fetch-dest=empty; priority=u=1, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:0000001F", "RequestPath": "/api/Monitoring/alerts", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:07.792304193Z [20:28:07 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:0000001F", "RequestPath": "/api/Monitoring/alerts", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:07.793197843Z [20:28:07 ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='1'], CommandType='Text', CommandTimeout='30']
boiler-user |   | 2025-08-22T20:28:07.793208843Z SELECT set_config('app.tenant_id', @p0, false) {"EventId": {"Id": 20102, "Name": "Microsoft.EntityFrameworkCore.Database.Command.CommandError"}, "SourceContext": "Microsoft.EntityFrameworkCore.Database.Command", "RequestId": "0HNF1N3CFNKUP:0000001F", "RequestPath": "/api/Monitoring/alerts", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-postgres | 2025-08-22 20:28:07.794 UTC [433] ERROR:  insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-postgres | 2025-08-22 20:28:07.794 UTC [433] DETAIL:  Key (UserId)=(0) is not present in table "Users".
boiler-postgres | 2025-08-22 20:28:07.794 UTC [433] STATEMENT:  INSERT INTO "PermissionAuditEntries" ("CacheHit", "CheckDurationMs", "CreatedAt", "DenialReason", "Granted", "IpAddress", "Permission", "Resource", "TenantId", "Timestamp", "UpdatedAt", "UserAgent", "UserId")
boiler-postgres | 	VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13)
boiler-postgres | 	RETURNING "Id"
boiler-user |   | 2025-08-22T20:28:07.795706982Z [20:28:07 ERR] Failed executing DbCommand (2ms) [Parameters=[@p0='False', @p1='0.0069', @p2='2025-08-22T20:28:07.7931064Z' (DbType = DateTime), @p3='No valid user ID found in claims', @p4='False', @p5='172.18.0.1', @p6='system.monitor' (Nullable = false), @p7='GET /api/Monitoring/alerts' (Nullable = false), @p8='1', @p9='2025-08-22T20:28:07.7852306Z' (DbType = DateTime), @p10='2025-08-22T20:28:07.7931064Z' (DbType = DateTime), @p11='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36', @p12='0', @p13='GET', @p14='2025-08-22T20:28:07.7931064Z' (DbType = DateTime), @p15='{"Path":"/api/Monitoring/alerts","Method":"GET","StatusCode":401,"Reason":"Unauthorized access attempt","HasTenantContext":false}' (DbType = Object), @p16='UnauthorizedAccess' (Nullable = false), @p17='False', @p18=NULL, @p19='172.18.0.1', @p20='GET /api/Monitoring/alerts', @p21='Medium' (Nullable = false), @p22='1', @p23='2025-08-22T20:28:07.7918342Z' (DbType = DateTime), @p24='2025-08-22T20:28:07.7931064Z' (DbType = DateTime), @p25='Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36', @p26=NULL, @p27=NULL (DbType = Int32)], CommandType='Text', CommandTimeout='30']
boiler-user |   | 2025-08-22T20:28:07.795766485Z INSERT INTO "PermissionAuditEntries" ("CacheHit", "CheckDurationMs", "CreatedAt", "DenialReason", "Granted", "IpAddress", "Permission", "Resource", "TenantId", "Timestamp", "UpdatedAt", "UserAgent", "UserId")
boiler-user |   | 2025-08-22T20:28:07.795769786Z VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12)
boiler-user |   | 2025-08-22T20:28:07.795771886Z RETURNING "Id";
boiler-user |   | 2025-08-22T20:28:07.795773886Z INSERT INTO "SecurityEventAuditEntries" ("Action", "CreatedAt", "Details", "EventType", "Investigated", "InvestigationNotes", "IpAddress", "Resource", "Severity", "TenantId", "Timestamp", "UpdatedAt", "UserAgent", "UserEmail", "UserId")
boiler-user |   | 2025-08-22T20:28:07.795791187Z VALUES (@p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27)
boiler-user |   | 2025-08-22T20:28:07.795794287Z RETURNING "Id"; {"EventId": {"Id": 20102, "Name": "Microsoft.EntityFrameworkCore.Database.Command.CommandError"}, "SourceContext": "Microsoft.EntityFrameworkCore.Database.Command", "RequestId": "0HNF1N3CFNKUP:0000001F", "RequestPath": "/api/Monitoring/alerts", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:07.797416777Z [20:28:07 ERR] An exception occurred in the database while saving changes for context type 'Common.Data.ApplicationDbContext'.
boiler-user |   | 2025-08-22T20:28:07.797480681Z Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
boiler-user |   | 2025-08-22T20:28:07.797501882Z  ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-user |   | 2025-08-22T20:28:07.797504782Z 
boiler-user |   | 2025-08-22T20:28:07.797506782Z DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
boiler-user |   | 2025-08-22T20:28:07.797509382Z    at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
boiler-user |   | 2025-08-22T20:28:07.797515983Z    at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
boiler-user |   | 2025-08-22T20:28:07.797518283Z    at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797520383Z    at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797522683Z    at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797524683Z    at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797526783Z    at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797528883Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797531083Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797533284Z    at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797535384Z   Exception data:
boiler-user |   | 2025-08-22T20:28:07.797537384Z     Severity: ERROR
boiler-user |   | 2025-08-22T20:28:07.797544284Z     SqlState: 23503
boiler-user |   | 2025-08-22T20:28:07.797546384Z     MessageText: insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-user |   | 2025-08-22T20:28:07.797564885Z     Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
boiler-user |   | 2025-08-22T20:28:07.797567285Z     SchemaName: public
boiler-user |   | 2025-08-22T20:28:07.797569486Z     TableName: PermissionAuditEntries
boiler-user |   | 2025-08-22T20:28:07.797571486Z     ConstraintName: FK_PermissionAuditEntries_Users_UserId
boiler-user |   | 2025-08-22T20:28:07.797573486Z     File: ri_triggers.c
boiler-user |   | 2025-08-22T20:28:07.797575386Z     Line: 2596
boiler-user |   | 2025-08-22T20:28:07.797577286Z     Routine: ri_ReportViolation
boiler-user |   | 2025-08-22T20:28:07.797579286Z    --- End of inner exception stack trace ---
boiler-user |   | 2025-08-22T20:28:07.797581186Z    at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797583386Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797585486Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797587587Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797589787Z    at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797591787Z    at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797594087Z    at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797596287Z    at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797598787Z    at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken) {"EventId": {"Id": 10000, "Name": "Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"}, "SourceContext": "Microsoft.EntityFrameworkCore.Update", "RequestId": "0HNF1N3CFNKUP:0000001F", "RequestPath": "/api/Monitoring/alerts", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:07.797601687Z Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
boiler-user |   | 2025-08-22T20:28:07.797604187Z  ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-user |   | 2025-08-22T20:28:07.797606288Z 
boiler-user |   | 2025-08-22T20:28:07.797608188Z DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
boiler-user |   | 2025-08-22T20:28:07.797612388Z    at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
boiler-user |   | 2025-08-22T20:28:07.797614688Z    at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
boiler-user |   | 2025-08-22T20:28:07.797616888Z    at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797618988Z    at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797620988Z    at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797623389Z    at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797625389Z    at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797627389Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797629589Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797632389Z    at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797634489Z   Exception data:
boiler-user |   | 2025-08-22T20:28:07.797636389Z     Severity: ERROR
boiler-user |   | 2025-08-22T20:28:07.797638289Z     SqlState: 23503
boiler-user |   | 2025-08-22T20:28:07.797640589Z     MessageText: insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-user |   | 2025-08-22T20:28:07.797642590Z     Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
boiler-user |   | 2025-08-22T20:28:07.797644790Z     SchemaName: public
boiler-user |   | 2025-08-22T20:28:07.797646690Z     TableName: PermissionAuditEntries
boiler-user |   | 2025-08-22T20:28:07.797648590Z     ConstraintName: FK_PermissionAuditEntries_Users_UserId
boiler-user |   | 2025-08-22T20:28:07.797650590Z     File: ri_triggers.c
boiler-user |   | 2025-08-22T20:28:07.797652390Z     Line: 2596
boiler-user |   | 2025-08-22T20:28:07.797654390Z     Routine: ri_ReportViolation
boiler-user |   | 2025-08-22T20:28:07.797656290Z    --- End of inner exception stack trace ---
boiler-user |   | 2025-08-22T20:28:07.797658190Z    at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797660391Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797664791Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797667091Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797669191Z    at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797671191Z    at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797673291Z    at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797676391Z    at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797678692Z    at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797947006Z [20:28:07 ERR] Failed to log security event audit entry {"SourceContext": "Common.Services.EnhancedAuditService", "RequestId": "0HNF1N3CFNKUP:0000001F", "RequestPath": "/api/Monitoring/alerts", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:07.797955107Z Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
boiler-user |   | 2025-08-22T20:28:07.797957507Z  ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-user |   | 2025-08-22T20:28:07.797960207Z 
boiler-user |   | 2025-08-22T20:28:07.797962507Z DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
boiler-user |   | 2025-08-22T20:28:07.797964607Z    at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
boiler-user |   | 2025-08-22T20:28:07.797966808Z    at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
boiler-user |   | 2025-08-22T20:28:07.797968908Z    at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797971108Z    at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797973308Z    at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797975408Z    at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797977408Z    at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797994609Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797996909Z    at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.797999709Z    at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.798001910Z   Exception data:
boiler-user |   | 2025-08-22T20:28:07.798004410Z     Severity: ERROR
boiler-user |   | 2025-08-22T20:28:07.798006410Z     SqlState: 23503
boiler-user |   | 2025-08-22T20:28:07.798008310Z     MessageText: insert or update on table "PermissionAuditEntries" violates foreign key constraint "FK_PermissionAuditEntries_Users_UserId"
boiler-user |   | 2025-08-22T20:28:07.798010510Z     Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
boiler-user |   | 2025-08-22T20:28:07.798012910Z     SchemaName: public
boiler-user |   | 2025-08-22T20:28:07.798014910Z     TableName: PermissionAuditEntries
boiler-user |   | 2025-08-22T20:28:07.798017010Z     ConstraintName: FK_PermissionAuditEntries_Users_UserId
boiler-user |   | 2025-08-22T20:28:07.798018910Z     File: ri_triggers.c
boiler-user |   | 2025-08-22T20:28:07.798020911Z     Line: 2596
boiler-user |   | 2025-08-22T20:28:07.798022911Z     Routine: ri_ReportViolation
boiler-user |   | 2025-08-22T20:28:07.798024911Z    --- End of inner exception stack trace ---
boiler-user |   | 2025-08-22T20:28:07.798026911Z    at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.798029111Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.798031111Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.798033411Z    at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.798049912Z    at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.798052912Z    at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.798055012Z    at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.798057513Z    at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.798062713Z    at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.798077114Z    at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
boiler-user |   | 2025-08-22T20:28:07.798112516Z    at Common.Data.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in /src/shared/Common/Data/ApplicationDbContext.cs:line 223
boiler-user |   | 2025-08-22T20:28:07.798116116Z    at Common.Services.EnhancedAuditService.LogSecurityEventAsync(SecurityEventAuditEntry entry) in /src/shared/Common/Services/EnhancedAuditService.cs:line 148
boiler-user |   | 2025-08-22T20:28:07.799875214Z [20:28:07 INF] HTTP GET /api/Monitoring/alerts responded 401 in 21.9659 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:28:18.847194986Z [20:28:18 INF] üîç All request headers: Accept=text/plain; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Referer=https://localhost:7002/swagger/index.html; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-fetch-site=same-origin; sec-fetch-mode=cors; sec-fetch-dest=empty; priority=u=1, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000021", "RequestPath": "/api/admin/performance/cache", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:18.847279591Z [20:28:18 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000021", "RequestPath": "/api/admin/performance/cache", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:18.852534483Z [20:28:18 INF] üîç All request headers: Accept=text/plain; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Referer=https://localhost:7002/swagger/index.html; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-fetch-site=same-origin; sec-fetch-mode=cors; sec-fetch-dest=empty; priority=u=1, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000021", "RequestPath": "/api/admin/performance/cache", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:18.852599086Z [20:28:18 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000021", "RequestPath": "/api/admin/performance/cache", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:18.852908104Z [20:28:18 INF] üîç All request headers: Accept=text/plain; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Referer=https://localhost:7002/swagger/index.html; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-fetch-site=same-origin; sec-fetch-mode=cors; sec-fetch-dest=empty; priority=u=1, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000021", "RequestPath": "/api/admin/performance/cache", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:18.852943406Z [20:28:18 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000021", "RequestPath": "/api/admin/performance/cache", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:18.853439933Z [20:28:18 ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='1'], CommandType='Text', CommandTimeout='30']
boiler-user |   | 2025-08-22T20:28:18.853444533Z SELECT set_config('app.tenant_id', @p0, false) {"EventId": {"Id": 20102, "Name": "Microsoft.EntityFrameworkCore.Database.Command.CommandError"}, "SourceContext": "Microsoft.EntityFrameworkCore.Database.Command", "RequestId": "0HNF1N3CFNKUP:00000021", "RequestPath": "/api/admin/performance/cache", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-postgres | 2025-08-22 20:28:18.853 UTC [433] ERROR:  function set_config(unknown, integer, boolean) does not exist at character 8
boiler-postgres | 2025-08-22 20:28:18.853 UTC [433] HINT:  No function matches the given name and argument types. You might need to add explicit type casts.
boiler-postgres | 2025-08-22 20:28:18.853 UTC [433] STATEMENT:  SELECT set_config('app.tenant_id', $1, false)
boiler-user |   | 2025-08-22T20:28:18.865692814Z [20:28:18 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUP:00000021", "RequestPath": "/api/admin/performance/cache", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:18.865845023Z [20:28:18 DBG] Policy authentication schemes  did not succeed {"SourceContext": "Microsoft.AspNetCore.Authorization.AuthorizationMiddleware", "RequestId": "0HNF1N3CFNKUP:00000021", "RequestPath": "/api/admin/performance/cache", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:18.866436956Z [20:28:18 INF] Authorization failed. These requirements were not met:
boiler-user |   | 2025-08-22T20:28:18.866463257Z ClaimsAuthorizationRequirement:Claim.Type=permission and Claim.Value is one of the following values: (system.view_metrics) {"EventId": {"Id": 2, "Name": "UserAuthorizationFailed"}, "SourceContext": "Microsoft.AspNetCore.Authorization.DefaultAuthorizationService", "RequestId": "0HNF1N3CFNKUP:00000021", "RequestPath": "/api/admin/performance/cache", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:18.866466557Z [20:28:18 INF] AuthenticationScheme: Bearer was challenged. {"EventId": {"Id": 12, "Name": "AuthenticationSchemeChallenged"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUP:00000021", "RequestPath": "/api/admin/performance/cache", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:18.866540661Z [20:28:18 INF] üîç All request headers: Accept=text/plain; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Referer=https://localhost:7002/swagger/index.html; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-fetch-site=same-origin; sec-fetch-mode=cors; sec-fetch-dest=empty; priority=u=1, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000021", "RequestPath": "/api/admin/performance/cache", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:18.866567963Z [20:28:18 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000021", "RequestPath": "/api/admin/performance/cache", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:18.866677069Z [20:28:18 INF] üîç All request headers: Accept=text/plain; Host=localhost:7002; User-Agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36; Accept-Encoding=gzip, deflate, br, zstd; Accept-Language=en-US,en;q=0.9; Referer=https://localhost:7002/swagger/index.html; sec-ch-ua-platform="Windows"; sec-ch-ua="Not;A=Brand";v="99", "Google Chrome";v="139", "Chromium";v="139"; sec-ch-ua-mobile=?0; sec-fetch-site=same-origin; sec-fetch-mode=cors; sec-fetch-dest=empty; priority=u=1, i; X-Tenant-ID=1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000021", "RequestPath": "/api/admin/performance/cache", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:18.866683869Z [20:28:18 INF] üè¢ FOUND tenant from header 'X-Tenant-Id': 1 {"SourceContext": "Common.Services.TenantProvider", "RequestId": "0HNF1N3CFNKUP:00000021", "RequestPath": "/api/admin/performance/cache", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-user |   | 2025-08-22T20:28:18.867486714Z [20:28:18 ERR] Failed executing DbCommand (1ms) [Parameters=[@p0='1'], CommandType='Text', CommandTimeout='30']
boiler-user |   | 2025-08-22T20:28:18.867496615Z SELECT set_config('app.tenant_id', @p0, false) {"EventId": {"Id": 20102, "Name": "Microsoft.EntityFrameworkCore.Database.Command.CommandError"}, "SourceContext": "Microsoft.EntityFrameworkCore.Database.Command", "RequestId": "0HNF1N3CFNKUP:00000021", "RequestPath": "/api/admin/performance/cache", "ConnectionId": "0HNF1N3CFNKUP"}
boiler-postgres | 2025-08-22 20:28:18.867 UTC [433] ERROR:  function set_config(unknown, integer, boolean) does not exist at character 8
boiler-postgres | 2025-08-22 20:28:18.867 UTC [433] HINT:  No function matches the given name and argument types. You might need to add explicit type casts.
boiler-postgres | 2025-08-22 20:28:18.867 UTC [433] STATEMENT:  SELECT set_config('app.tenant_id', $1, false)
boiler-user |   | 2025-08-22T20:28:18.871351929Z [20:28:18 INF] HTTP GET /api/admin/performance/cache responded 401 in 24.5821 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-auth |   | 2025-08-22T20:28:31.222213240Z [20:28:31 INF] HTTP GET /health responded 200 in 0.1998 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:28:31.225386008Z [20:28:31 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKUV:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3CFNKUV"}
boiler-user |   | 2025-08-22T20:28:31.235509845Z [20:28:31 INF] HTTP GET /health responded 200 in 12.0799 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:28:36.741338535Z [20:28:36 INF] REQUEST 6ae53f99: GET /health from 127.0.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSN:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSN"}
boiler-gateway | 2025-08-22T20:28:36.741389538Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:28:36.741393538Z    Path: /health
boiler-gateway | 2025-08-22T20:28:36.741396238Z    Method: GET
boiler-gateway | 2025-08-22T20:28:36.741398739Z    Authorization Header: MISSING
boiler-gateway | 2025-08-22T20:28:36.741401339Z [20:28:36 INF] RESPONSE 6ae53f99: 200 in 0ms | Size: Unknown {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSN:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSN"}
boiler-gateway | 2025-08-22T20:28:36.741420440Z [20:28:36 INF] HTTP GET /health responded 200 in 0.4692 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSN:00000001", "ConnectionId": "0HNF1N3E75TSN"}
boiler-auth |   | 2025-08-22T20:29:01.293124247Z [20:29:01 INF] HTTP GET /health responded 200 in 0.1879 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-user |   | 2025-08-22T20:29:01.295199622Z [20:29:01 DBG] AuthenticationScheme: Bearer was not authenticated. {"EventId": {"Id": 9, "Name": "AuthenticationSchemeNotAuthenticated"}, "SourceContext": "Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler", "RequestId": "0HNF1N3CFNKV0:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3CFNKV0"}
boiler-user |   | 2025-08-22T20:29:01.307004017Z [20:29:01 INF] HTTP GET /health responded 200 in 14.4464 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware"}
boiler-gateway | 2025-08-22T20:29:06.856352081Z [20:29:06 INF] REQUEST 08177f34: GET /health from 127.0.0.1 | Tenant: Unknown | User: Anonymous {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSO:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSO"}
boiler-gateway | 2025-08-22T20:29:06.856409085Z üîç JWT OnMessageReceived:
boiler-gateway | 2025-08-22T20:29:06.856545393Z    Path: /health
boiler-gateway | 2025-08-22T20:29:06.856559994Z    Method: GET
boiler-gateway | 2025-08-22T20:29:06.856562994Z    Authorization Header: MISSING
boiler-gateway | 2025-08-22T20:29:06.856839411Z [20:29:06 INF] RESPONSE 08177f34: 200 in 0ms | Size: Unknown {"SourceContext": "ApiGateway.Middleware.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSO:00000001", "RequestPath": "/health", "ConnectionId": "0HNF1N3E75TSO"}
boiler-gateway | 2025-08-22T20:29:06.856917516Z [20:29:06 INF] HTTP GET /health responded 200 in 0.7075 ms {"SourceContext": "Serilog.AspNetCore.RequestLoggingMiddleware", "RequestId": "0HNF1N3E75TSO:00000001", "ConnectionId": "0HNF1N3E75TSO"}
